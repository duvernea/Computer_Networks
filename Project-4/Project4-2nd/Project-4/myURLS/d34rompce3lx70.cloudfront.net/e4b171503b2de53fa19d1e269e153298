/*! jQuery UI - v1.9.2 - 2014-03-11
     * http://jqueryui.com
     * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.menu.js
     * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */

/* jQuery Address Plugin v1.5
 * http://www.asual.com/jquery/address/
 *
 * Copyright (c) 2009-2010 Rostislav Hristov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: 2012-11-18 23:51:44 +0200 (Sun, 18 Nov 2012)
 */

/*! tether 0.6.5 */

/*! shepherd 0.6.14 */

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/*
 * jQuery JSON Plugin
 * version: 1.0 (2008-04-17)
 *
 * This document is licensed as free software under the terms of the
 * MIT License: http://www.opensource.org/licenses/mit-license.php
 *
 * Brantley Harris technically wrote this plugin, but it is based somewhat
 * on the JSON.org website's http://www.json.org/json2.js, which proclaims:
 * "NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.", a sentiment that
 * I uphold.  I really just cleaned it up.
 *
 * It is also based heavily on MochiKit's serializeJSON, which is
 * copywrited 2005 by Bob Ippolito.
 */

/*!* Attention This is Forked.
* jQuery Lazy - v0.1.16
* http://jquery.eisbehr.de/lazy/
* http://eisbehr.de
*
* Copyright 2014, Daniel 'Eisbehr' Kern
*
* Dual licensed under the MIT and GPL v2 licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl-2.0.html
*
* jQuery("img.lazy").lazy();
*/

/**
 * BxSlider v4.1.2 - Fully loaded, responsive content slider
 * http://bxslider.com
 *
 * Copyright 2014, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com
 * Written while drinking Belgian ales and listening to jazz
 *
 * Released under the MIT license - http://opensource.org/licenses/MIT
 */

function showpriv_message(e){e||(e="");var t=$("<div>",{class:"modal-content"}).append($("#bc_privacy_modal_content"+e).html()),n=$(".modal-box"),i=$(".modal-wrap");n.find(".modal-content").remove(),n.append(t).show().css({top:"20%"},1e3).addClass("modal-small-white a11y-transparent-border"),BCFocusManager.restrict_focus(n),i.fadeIn(600),close_priv_message=function(){n.fadeOut(300).css("top","1000px").removeClass("modal-small-white a11y-transparent-border"),i.hide(),$(document).off("keyup.priv_message"),BCFocusManager.restore_focus()},n.on("click",".close, .closeButton",close_priv_message),i.bind("click",close_priv_message),$(document).on("keyup.priv_message",function(e){27==e.keyCode&&close_priv_message()})}function performUGCQuotesLoad(e,t,n){require(["browse_helpers"],function(t){t.performUGCLoad(e,"quotes",n)})}function performUGCCommentsLoad(e,t,n){require(["browse_helpers"],function(t){t.performUGCLoad(e,"comments",n)})}function gformBindFormatPricingFields(){jQuery(".ginput_amount, .ginput_donation_amount").bind("change",function(){gformFormatPricingField(this)}),jQuery(".ginput_amount, .ginput_donation_amount").each(function(){gformFormatPricingField(this)})}function Currency(e){this.currency=e,this.toNumber=function(e){return this.isNumeric(e)?parseFloat(e):gformCleanNumber(e,this.currency.symbol_right,this.currency.symbol_left,this.currency.decimal_separator)},this.toMoney=function(e,t){if(t=t||!1,t||(e=gformCleanNumber(e,this.currency.symbol_right,this.currency.symbol_left,this.currency.decimal_separator)),!1===e)return"";e+="",negative="","-"==e[0]&&(e=parseFloat(e.substr(1)),negative="-"),money=this.numberFormat(e,this.currency.decimals,this.currency.decimal_separator,this.currency.thousand_separator),"0.00"==money&&(negative="");var n=this.currency.symbol_left?this.currency.symbol_left+this.currency.symbol_padding:"",i=this.currency.symbol_right?this.currency.symbol_padding+this.currency.symbol_right:"";return money=negative+this.htmlDecode(n)+money+this.htmlDecode(i),money},this.numberFormat=function(e,t,n,i,o){var o=void 0===o;e=(e+"").replace(",","").replace(" ","");var r=isFinite(+e)?+e:0,a=isFinite(+t)?Math.abs(t):0,s=void 0===i?",":i,l=void 0===n?".":n,c="";return"0"==t?(r+=1e-10,c=(""+Math.round(r)).split(".")):-1==t?c=(""+r).split("."):(r+=1e-10,c=function(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}(r,a).split(".")),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),o&&(c[1]||"").length<a&&(c[1]=c[1]||"",c[1]+=new Array(a-c[1].length+1).join("0")),c.join(l)},this.isNumeric=function(e){return gformIsNumber(e)},this.htmlDecode=function(e){var t,n,i=e,o=i.match(/&#[0-9]{1,5};/g);if(null!=o)for(var r=0;r<o.length;r++)n=o[r],t=n.substring(2,n.length-1),i=t>=-32768&&t<=65535?i.replace(n,String.fromCharCode(t)):i.replace(n,"");return i}}function gformCleanNumber(e,t,n,i){var o="",r="",a="",s=!1;e+=" ",e=e.replace(/&.*?;/g,""),e=e.replace(t,""),e=e.replace(n,"");for(var l=0;l<e.length;l++)a=e.substr(l,1),parseInt(a)>=0&&parseInt(a)<=9||a==i?o+=a:"-"==a&&(s=!0);for(var l=0;l<o.length;l++)a=o.substr(l,1),a>="0"&&a<="9"?r+=a:a==i&&(r+=".");return s&&(r="-"+r),!!gformIsNumber(r)&&parseFloat(r)}function gformGetDecimalSeparator(e){var t;switch(e){case"currency":t=new Currency(gf_global.gf_currency_config).currency.decimal_separator;break;case"decimal_comma":t=",";break;default:t="."}return t}function gformIsNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function gformIsNumeric(e,t){switch(t){case"decimal_dot":var n=new RegExp("^(-?[0-9]{1,3}(?:,?[0-9]{3})*(?:.[0-9]+)?)$");return n.test(e);case"decimal_comma":var n=new RegExp("^(-?[0-9]{1,3}(?:.?[0-9]{3})*(?:,[0-9]+)?)$");return n.test(e)}return!1}function gformDeleteUploadedFile(e,t,n){var i=jQuery("#field_"+e+"_"+t),o=jQuery(n).parent().index();i.find(".ginput_preview").eq(o).remove(),i.find('input[type="file"],#extensions_message,.validation_message').removeClass("gform_hidden"),i.find(".ginput_post_image_file").show(),i.find('input[type="text"]').val("");var r=jQuery("#gform_uploaded_files_"+e).val();if(r){var a=jQuery.secureEvalJSON(r);if(a){var s="input_"+t,l=i.find("#gform_multifile_upload_"+e+"_"+t);if(l.length>0){a[s].splice(o,1);var c=l.data("settings"),d=c.gf_vars.max_files;jQuery("#"+c.gf_vars.message_id).html(""),a[s].length<d&&gfMultiFileUploader.toggleDisabled(c,!1)}else a[s]=null;jQuery("#gform_uploaded_files_"+e).val(jQuery.toJSON(a))}}}function gformIsHidden(e){return"none"==e.parents(".gfield").not(".gfield_hidden_product").css("display")}function gformCalculateTotalPrice(e){if(_gformPriceFields[e]){var t=0;_anyProductSelected=!1;for(var n=0;n<_gformPriceFields[e].length;n++)t+=gformCalculateProductPrice(e,_gformPriceFields[e][n]);if(_anyProductSelected){t+=gformGetShippingPrice(e)}window.gform_product_total&&(t=window.gform_product_total(e,t)),t=gform.applyFilters("gform_product_total",t,e);var i=jQuery(".ginput_total_"+e);if(i.length>0){var o=i.next().val(),r=gformFormatMoney(t,!0);o!=t&&i.next().val(t).change(),r!=i.first().text()&&i.html(r)}}}function gformGetShippingPrice(e){var t=jQuery(".gfield_shipping_"+e+' input[type="hidden"], .gfield_shipping_'+e+" select, .gfield_shipping_"+e+" input:checked"),n=0;return 1!=t.length||gformIsHidden(t)||(n=t.attr("type")&&"hidden"==t.attr("type").toLowerCase()?t.val():gformGetPrice(t.val())),gformToNumber(n)}function gformGetFieldId(e){var t=jQuery(e).attr("id"),n=t.split("_");return n.length<=0?0:n[n.length-1]}function gformCalculateProductPrice(e,t){var n="_"+e+"_"+t;jQuery(".gfield_option"+n+", .gfield_shipping_"+e).find("select").each(function(){var t=jQuery(this),n=gformGetPrice(t.val()),i=t.attr("id").split("_")[2];t.children("option").each(function(){var t=jQuery(this),o=gformGetOptionLabel(t,t.val(),n,e,i);t.html(o)}),t.trigger("chosen:updated")}),jQuery(".gfield_option"+n).find(".gfield_checkbox").find("input:checkbox").each(function(){var t=jQuery(this),n=t.attr("id"),i=n.split("_")[2],o=n.replace("choice_","#label_"),r=jQuery(o),a=gformGetOptionLabel(r,t.val(),0,e,i);r.html(a)}),jQuery(".gfield_option"+n+", .gfield_shipping_"+e).find(".gfield_radio").each(function(){var t=0,n=jQuery(this),i=n.attr("id"),o=i.split("_")[2],r=n.find("input:radio:checked").val();r&&(t=gformGetPrice(r)),n.find("input:radio").each(function(){var n=jQuery(this),i=n.attr("id").replace("choice_","#label_"),r=jQuery(i);if(r){var a=gformGetOptionLabel(r,n.val(),t,e,o);r.html(a)}})});var i=gformGetBasePrice(e,t),o=gformGetProductQuantity(e,t);return o>0&&(jQuery(".gfield_option"+n).find("input:checked, select").each(function(){gformIsHidden(jQuery(this))||(i+=gformGetPrice(jQuery(this).val()))}),_anyProductSelected=!0),i*=o,i=Math.round(100*i)/100}function gformGetProductQuantity(e,t){if(!gformIsProductSelected(e,t))return 0;var n,i,o=jQuery("#ginput_quantity_"+e+"_"+t);if(o.length>0)n=o.val();else if(o=jQuery(".gfield_quantity_"+e+"_"+t+" :input"),n=1,o.length>0){n=o.val();var r=o.attr("id"),a=gf_get_input_id_by_html_id(r);i=gf_get_field_number_format(a,e,"value")}return i||(i="currency"),n=gformCleanNumber(n,"","",gformGetDecimalSeparator(i)),n||(n=0),n}function gformIsProductSelected(e,t){var n="_"+e+"_"+t,i=jQuery("#ginput_base_price"+n+", .gfield_donation"+n+' input[type="text"], .gfield_product'+n+" .ginput_amount");return!(!i.val()||gformIsHidden(i))||(i=jQuery(".gfield_product"+n+" select, .gfield_product"+n+" input:checked, .gfield_donation"+n+" select, .gfield_donation"+n+" input:checked"),!(!i.val()||gformIsHidden(i)))}function gformGetBasePrice(e,t){var n="_"+e+"_"+t,i=0,o=jQuery("#ginput_base_price"+n+", .gfield_donation"+n+' input[type="text"], .gfield_product'+n+" .ginput_amount");if(o.length>0)i=o.val(),gformIsHidden(o)&&(i=0);else{o=jQuery(".gfield_product"+n+" select, .gfield_product"+n+" input:checked, .gfield_donation"+n+" select, .gfield_donation"+n+" input:checked");var r=o.val();r&&(r=r.split("|"),i=r.length>1?r[1]:0),gformIsHidden(o)&&(i=0)}return i=new Currency(gf_global.gf_currency_config).toNumber(i),!1===i?0:i}function gformFormatMoney(e,t){return gf_global.gf_currency_config?new Currency(gf_global.gf_currency_config).toMoney(e,t):e}function gformFormatPricingField(e){if(gf_global.gf_currency_config){var t=new Currency(gf_global.gf_currency_config),n=t.toMoney(jQuery(e).val());jQuery(e).val(n)}}function gformToNumber(e){return new Currency(gf_global.gf_currency_config).toNumber(e)}function gformGetPriceDifference(e,t){var n=parseFloat(t)-parseFloat(e);return price=gformFormatMoney(n,!0),n>0&&(price="+"+price),price}function gformGetOptionLabel(e,t,n,i,o){e=jQuery(e);var r=gformGetPrice(t),a=e.attr("price"),s=e.html().replace(/<span(.*)<\/span>/i,"").replace(a,""),l=gformGetPriceDifference(n,r);l=0==gformToNumber(l)?"":" "+l,e.attr("price",l);var c="option"==e[0].tagName.toLowerCase()?" "+l:"<span class='ginput_price'>"+l+"</span>",d=s+c;return window.gform_format_option_label&&(d=gform_format_option_label(d,s,c,n,r,i,o)),d}function gformGetProductIds(e,t){for(var n=jQuery(t).hasClass(e)?jQuery(t).attr("class").split(" "):jQuery(t).parents("."+e).attr("class").split(" "),i=0;i<n.length;i++)if(n[i].substr(0,e.length)==e&&n[i]!=e)return{formId:n[i].split("_")[2],productFieldId:n[i].split("_")[3]};return{formId:0,fieldId:0}}function gformGetPrice(e){var t=e.split("|"),n=new Currency(gf_global.gf_currency_config);return t.length>1&&!1!==n.toNumber(t[1])?n.toNumber(t[1]):0}function gformRegisterPriceField(e){_gformPriceFields[e.formId]||(_gformPriceFields[e.formId]=new Array);for(var t=0;t<_gformPriceFields[e.formId].length;t++)if(_gformPriceFields[e.formId][t]==e.productFieldId)return;_gformPriceFields[e.formId].push(e.productFieldId)}function gformInitPriceFields(){jQuery(".gfield_price").each(function(){gformRegisterPriceField(gformGetProductIds("gfield_price",this)),jQuery(this).on("change",'input[type="text"], input[type="number"], select',function(){var e=gformGetProductIds("gfield_price",this);0==e.formId&&(e=gformGetProductIds("gfield_shipping",this)),jQuery(document).trigger("gform_price_change",[e,this]),gformCalculateTotalPrice(e.formId)}),jQuery(this).on("click",'input[type="radio"], input[type="checkbox"]',function(){var e=gformGetProductIds("gfield_price",this);0==e.formId&&(e=gformGetProductIds("gfield_shipping",this)),jQuery(document).trigger("gform_price_change",[e,this]),gformCalculateTotalPrice(e.formId)})});for(formId in _gformPriceFields)_gformPriceFields.hasOwnProperty(formId)&&gformCalculateTotalPrice(formId)}function gformShowPasswordStrength(e){var t=jQuery("#"+e).val(),n=jQuery("#"+e+"_2").val(),i=gformPasswordStrength(t,n),o=window.gf_text["password_"+i];jQuery("#"+e+"_strength").val(i),jQuery("#"+e+"_strength_indicator").removeClass("blank mismatch short good bad strong").addClass(i).html(o)}function gformPasswordStrength(e,t){var n,i,o=0;return e.length<=0?"blank":e!=t&&t.length>0?"mismatch":e.length<4?"short":(e.match(/[0-9]/)&&(o+=10),e.match(/[a-z]/)&&(o+=26),e.match(/[A-Z]/)&&(o+=26),e.match(/[^a-zA-Z0-9]/)&&(o+=31),n=Math.log(Math.pow(o,e.length)),i=n/Math.LN2,i<40?"bad":i<56?"good":"strong")}function gformAddListItem(e,t){var n=jQuery(e);if(!n.hasClass("gfield_icon_disabled")){var i=n.parents(".gfield_list_group"),o=i.clone(),r=i.parents(".gfield_list_container"),a=o.find(":input:last").attr("tabindex");o.find("input, select, textarea").attr("tabindex",a).not(":checkbox, :radio").val(""),o.find(":checkbox, :radio").prop("checked",!1),o=gform.applyFilters("gform_list_item_pre_add",o,i),i.after(o),gformToggleIcons(r,t),gformAdjustClasses(r),gform.doAction("gform_list_post_item_add",o,r)}}function gformDeleteListItem(e,t){var n=jQuery(e),i=n.parents(".gfield_list_group"),o=i.parents(".gfield_list_container");i.remove(),gformToggleIcons(o,t),gformAdjustClasses(o),gform.doAction("gform_list_post_item_delete",o)}function gformAdjustClasses(e){e.find(".gfield_list_group").each(function(e){var t=jQuery(this),n=(e+1)%2==0?"gfield_list_row_even":"gfield_list_row_odd";t.removeClass("gfield_list_row_odd gfield_list_row_even").addClass(n)})}function gformToggleIcons(e,t){var n=e.find(".gfield_list_group").length,i=e.find(".add_list_item");e.find(".delete_list_item").css("visibility",1==n?"hidden":"visible"),t>0&&n>=t?(i.data("title",e.find(".add_list_item").attr("title")),i.addClass("gfield_icon_disabled").attr("title","")):t>0&&(i.removeClass("gfield_icon_disabled"),i.data("title")&&i.attr("title",i.data("title")))}function gformMatchCard(e){var t=gformFindCardType(jQuery("#"+e).val()),n=jQuery("#"+e).parents(".gfield").find(".gform_card_icon_container");t?(jQuery(n).find(".gform_card_icon").removeClass("gform_card_icon_selected").addClass("gform_card_icon_inactive"),jQuery(n).find(".gform_card_icon_"+t).removeClass("gform_card_icon_inactive").addClass("gform_card_icon_selected")):jQuery(n).find(".gform_card_icon").removeClass("gform_card_icon_selected gform_card_icon_inactive")}function gformFindCardType(e){if(e.length<4)return!1;var t=window.gf_cc_rules,n=new Array;for(type in t)if(t.hasOwnProperty(type))for(i in t[type])if(t[type].hasOwnProperty(i)&&0===t[type][i].indexOf(e.substring(0,t[type][i].length))){n[n.length]=type;break}return 1==n.length&&n[0].toLowerCase()}function gformToggleCreditCard(){jQuery("#gform_payment_method_creditcard").is(":checked")?jQuery(".gform_card_fields_container").slideDown():jQuery(".gform_card_fields_container").slideUp()}function gformInitChosenFields(e,t){return jQuery(e).each(function(){var e=jQuery(this);if("rtl"==jQuery("html").attr("dir")&&e.addClass("chosen-rtl chzn-rtl"),e.is(":visible")&&0==e.siblings(".chosen-container").length){var n=gform.applyFilters("gform_chosen_options",{no_results_text:t},e);e.chosen(n)}})}function gformInitCurrencyFormatFields(e){jQuery(e).each(function(){jQuery(this).val(gformFormatMoney(jQuery(this).val()))}).change(function(e){jQuery(this).val(gformFormatMoney(jQuery(this).val()))})}function gformFormatNumber(e,t,n,i){if(void 0===n)if(window.gf_global){var o=new Currency(gf_global.gf_currency_config);n=o.currency.decimal_separator}else n=".";if(void 0===i)if(window.gf_global){var o=new Currency(gf_global.gf_currency_config);i=o.currency.thousand_separator}else i=",";var o=new Currency;return o.numberFormat(e,t,n,i,!1)}function gformToNumber(e){return new Currency(gf_global.gf_currency_config).toNumber(e)}function getMatchGroups(e,t){for(var n=new Array;t.test(e);){var i=n.length;n[i]=t.exec(e),e=e.replace(""+n[i][0],"")}return n}function gf_get_field_number_format(e,t,n){var i=rgars(window,"gf_global/number_formats/{0}/{1}".format(t,e)),o=!1;return""===i?o:o=void 0===n?!1!==i.price?i.price:i.value:i[n]}function renderRecaptcha(){jQuery(".ginput_recaptcha").each(function(){var e=jQuery(this),t={sitekey:e.data("sitekey"),theme:e.data("theme")};e.is(":empty")&&(e.data("stoken")&&(t.stoken=e.data("stoken")),grecaptcha.render(this.id,t),gform.doAction("gform_post_recaptcha_render",e))})}function gformValidateFileSize(e,t){if(jQuery(e).closest("div").siblings(".validation_message").length>0)var n=jQuery(e).closest("div").siblings(".validation_message");else var n=jQuery(e).siblings(".validation_message");if(window.FileReader&&window.File&&window.FileList&&window.Blob){var i=e.files[0];if(i.size>t){n.html(i.name+" - "+gform_gravityforms.strings.file_exceeds_limit);var o=jQuery(e);o.replaceWith(o.val("").clone(!0))}else n.html("")}}function gformInitSpinner(e,t){jQuery("#gform_"+e).submit(function(){gformAddSpinner(e,t)})}function gformAddSpinner(e,t){if(void 0!==t&&t||(t=gform.applyFilters("gform_spinner_url",gf_global.spinnerUrl,e)),0==jQuery("#gform_ajax_spinner_"+e).length){gform.applyFilters("gform_spinner_target_elem",jQuery("#gform_submit_button_"+e+", #gform_wrapper_"+e+" .gform_next_button, #gform_send_resume_link_button_"+e),e).after('<img id="gform_ajax_spinner_'+e+'"  class="gform_ajax_spinner" src="'+t+'" alt="" />')}}function gf_raw_input_change(e,t){clearTimeout(__gf_keyup_timeout);var n=jQuery(t),i=n.attr("id"),o=gf_get_input_id_by_html_id(i),r=gf_get_form_id_by_html_id(i);if(o){var a=n.is(":checkbox")||n.is(":radio")||n.is("select"),s=!a||n.is("textarea");("keyup"!=e.type||s)&&("change"!=e.type||a||s)&&("keyup"==e.type?__gf_keyup_timeout=setTimeout(function(){gf_input_change(this,r,o)},300):gf_input_change(this,r,o))}}function gf_get_input_id_by_html_id(e){var t=gf_get_ids_by_html_id(e),n=t[2];return t[3]&&(n+="."+t[3]),n}function gf_get_form_id_by_html_id(e){return gf_get_ids_by_html_id(e)[1]}function gf_get_ids_by_html_id(e){return!!e&&e.split("_")}function gf_input_change(e,t,n){gform.doAction("gform_input_change",e,t,n)}function gformExtractFieldId(e){var t=parseInt(e.toString().split(".")[0]);return t||e}function gformExtractInputIndex(e){var t=parseInt(e.toString().split(".")[1]);return t||!1}function rgars(e,t){for(var n=t.split("/"),i=e,o=0;o<n.length;o++)i=rgar(i,n[o]);return i}function rgar(e,t){return void 0!==e[t]?e[t]:""}define("jquery",[],function(){return jQuery}),define("browse_helpers",["jquery"],function(e){var t=!!e(".audience_page").length,n=window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPhone/i),i=window.bc_Environment.coreUrl.replace("any-sandbox-cms","opl"),o=e(".recent_quotes_anchor"),r=e(".recent_comments_anchor");return{getParams:function(){var n="";if(t){n+="audience="+e(".recent_comments_anchor").attr("id").replace("_comments","")}else{if(o.length>0)var i=o.data("bibformat");else var i=r.data("bibformat");var a=o.data("genre");n+="ebook"==i?"specific_format=true&bibformat=ebook&genre"+a:"bibformat="+i+"&genre="+a}return n+"&callback=?"},performUGCLoad:function(t,i,a){var s="quotes"===i?o:r;t.html&&t.html.toString().length>100?(s.append(t.html),s.find("img").lazy(bc_lazy_load_options),s.slideDown(),n&&e("#recent_"+i+"_carousel").addClass("mobile-swipe")):s.parents(".content_row").remove(),a&&"[object Function]"===Object.prototype.toString.call(a)&&a.apply(this,Array.prototype.slice(arguments,2))},loadUGCItems:function(n,a){if(0==e(".recent_"+n+"_anchor h2").length){n=n.toLowerCase();var s=t?"audience":"genre",l=i+"/widgets/get_recent_"+n+"_by_"+s+".json?"+this.getParams(),c=o.data("genre");if("book_cd"==c||"ab"==c||"video_online"==c||"video_download"==c)o.remove(),r.remove();else{var d=this.performUGCLoad,u={dataType:"jsonp",url:l,success:function(e){d(e,n,a)}};"SELENIUM"==window.bc_Environment.enviroment&&(u.jsonpCallback="quotes"==n?"performUGCQuotesLoad":"performUGCCommentsLoad"),e.ajax(u)}}},updateMoreLinks:function(){var e=jQuery(".new_in_carousel_container iframe");if(1==e.length){var t=e.attr("src");if(void 0!==t){var n=e.parent().parent().find("a"),i=n.attr("href");if(void 0!==i&&-1!=i.indexOf("HOLD_QUERY")){t=t.split("?"),t=t[0]+".json?search_string_only=true&callback=?",n=e.parent().parent().find("a");var o="";jQuery.getJSON(t,function(e){e.search_string?(e.search_string=e.search_string.replace("formatcode:()","").replace(/\(\s+\) AND /,""),o=i.replace("HOLD_QUERY",e.search_string),n.attr("href",o),n.show()):(o=i.replace("HOLD_QUERY",n.attr("param-fallback")),n.attr("href",o),n.show())})}}}}}}),jQuery(window).bind("message",function(e){"resize"==e.originalEvent.data.action&&e.originalEvent.data.height?1==$("#comment_frame").length&&$("#comment_frame").css("height",e.originalEvent.data.height+100+"px"):"login_change"==e.originalEvent.data.action?0!==e.originalEvent.data.bc_user_id&&jQuery.bccmsHeaderJSAPI("sessionChanged"):"bib_load"==e.originalEvent.data.action&&(e.originalEvent.data.empty&&jQuery('iframe[src="'+e.originalEvent.data.empty+'"]').parents("div.new_in_carousel_container, div.new_by_audience_carousel_container").remove(),e.originalEvent.data.has_bibs&&jQuery('iframe[src="'+e.originalEvent.data.has_bibs+'"]').parents("div.new_in_carousel_container").slideDown(300))}),"undefined"==typeof console&&(console={log:function(e){}});var bc_lazy_load_options={enableThrottle:!0,throttle:250,bind:"event",beforeLoad:function(e){e.removeClass("lazy"),e.old_src=$(e[0]).attr("src")},afterLoad:function(e){e[0].naturalHeight<10&&$(e[0]).attr("src",e.old_src)},onError:function(e){$(e[0]).attr("data-fallback")&&$(e[0]).attr("data-fallback").length>0&&$(e[0]).attr("src",$(e[0]).attr("data-fallback"))}},bc_lazy_load_options_remove_class={enableThrottle:!0,throttle:200,bind:"event",beforeLoad:function(e){e.removeClass("lazy"),e.old_src=$(e[0]).attr("src")},afterLoad:function(e){e[0].naturalHeight<10&&$(e[0]).attr("src",e.old_src)},onError:function(e){$(e[0]).attr("data-fallback")&&$(e[0]).attr("data-fallback").length>0&&$(e[0]).attr("src",$(e[0]).attr("data-fallback"))}},share_page_config={ui:{flyout:"middle left"},networks:{twitter:{before:function(e){var t=$(e);this.description=t.data("title")+" - "+t.data("lib-name"),this.url=t.data("url"),this.via=t.data("lib-twitter")}},facebook:{before:function(e){var t=$(e);this.url=t.data("url")}},pinterest:{before:function(e){var t=$(e);this.url=t.data("url"),this.description=t.data("description"),this.image=t.data("image-url")}},google_plus:{before:function(e){var t=$(e);this.url=t.data("url")}},email:{before:function(e){var t=$(e);this.title=t.data("title"),this.description=t.data("url")+"\n "+t.data("description")}}},container:".share-buttons"},share_home_config={ui:{flyout:"vertical"},networks:{twitter:{before:function(e){var t=$(e);this.description=t.data("title")+" - "+t.data("lib-name"),this.url=t.data("url"),this.via=t.data("lib-twitter")}},facebook:{before:function(e){var t=$(e);this.url=t.data("url"),this.image=t.data("image-url"),this.title=t.data("title"),this.description=t.data("description")}},pinterest:{before:function(e){var t=$(e);this.url=t.data("url"),this.description=t.data("description"),this.image=t.data("image-url")}},google_plus:{before:function(e){var t=$(e);this.url=t.data("url")}},email:{before:function(e){var t=$(e);this.title=t.data("title"),this.description=t.data("url")+"\n "+t.data("description")}}},container:".share-buttons"};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.filterClean=function(e){for(var t=0;t<this.length;t++)for(var n=0;n<e.length;n++)this[t]==e[n]&&(this.splice(t,1),t--);return this},String.prototype.trunc=function(e){return this.substr(0,e-1)+(this.length>e?"&hellip;":"")},define("globals",["jquery"],function(){}),function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=m.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=_[e[f]];return t||(t={},g++,e[f]=g,_[g]=t),t}function r(e,n,i){if(n||(n=t),d)return n.createElement(e);i||(i=o(n));var r;return r=i.cache[e]?i.cache[e].cloneNode():p.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),r.canHaveChildren&&!h.test(e)?i.frag.appendChild(r):r}function a(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||o(e);for(var r=n.frag.cloneNode(),a=0,s=i(),l=s.length;a<l;a++)r.createElement(s[a]);return r}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return m.shivMethods?r(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(m,t.frag)}function l(e){e||(e=t);var i=o(e);return!m.shivCSS||c||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||s(e,i),e}var c,d,u=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",g=0,_={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){c=!0,d=!0}}();var m={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==u.shivCSS,supportsUnknownElements:d,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:l,createElement:r,createDocumentFragment:a};e.html5=m,l(t)}(this,document),define("html5shiv",function(){}),window.bc_Environment.common_header||("undefined"==typeof Modernizr&&(window.Modernizr=function(e,t,n){function i(e){u.cssText=e}function o(e,t){return typeof e===t}var r,a,s={},l=t.documentElement,c="modernizr",d=t.createElement(c),u=d.style,h=" -webkit- -moz- -o- -ms- ".split(" "),p={},f=[],g=f.slice,_=function(e,n,i,o){var r,a,s,d,u=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=o?o[i]:c+(i+1),u.appendChild(s);return r=["&#173;",'<style id="s',c,'">',e,"</style>"].join(""),u.id=c,(h?u:p).innerHTML+=r,p.appendChild(u),h||(p.style.background="",p.style.overflow="hidden",d=l.style.overflow,l.style.overflow="hidden",l.appendChild(p)),a=n(u,e),h?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),l.style.overflow=d),!!a},m={}.hasOwnProperty;a=o(m,"undefined")||o(m.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return m.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=g.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=t.prototype;var r=new o,a=t.apply(r,n.concat(g.call(arguments)));return Object(a)===a?a:r}return t.apply(e,n.concat(g.call(arguments)))};return i}),p.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:_(["@media (",h.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var v in p)a(p,v)&&(r=v.toLowerCase(),s[r]=p[v](),f.push((s[r]?"":"no-")+r));return s.addTest=function(e,t){if("object"==typeof e)for(var i in e)a(e,i)&&s.addTest(i,e[i]);else{if(e=e.toLowerCase(),s[e]!==n)return s;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(l.className+=" "+(t?"":"no-")+e),s[e]=t}return s},i(""),d=null,s._version="2.8.3",s._prefixes=h,s.testStyles=_,s}(this,this.document)),void 0===jQuery.fn.hoverIntent&&function(e){e.fn.hoverIntent=function(t,n,i){var o={interval:100,sensitivity:6,timeout:0};o="object"==typeof t?e.extend(o,t):e.isFunction(n)?e.extend(o,{over:t,out:n,selector:i}):e.extend(o,{over:t,out:t,selector:n});var r,a,s,l,c=function(e){r=e.pageX,a=e.pageY},d=function(t,n){if(n.hoverIntent_t=clearTimeout(n.hoverIntent_t),Math.sqrt((s-r)*(s-r)+(l-a)*(l-a))<o.sensitivity)return e(n).off("mousemove.hoverIntent",c),n.hoverIntent_s=!0,o.over.apply(n,[t]);s=r,l=a,n.hoverIntent_t=setTimeout(function(){d(t,n)},o.interval)},u=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,o.out.apply(t,[e])},h=function(t){var n=e.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),"mouseenter"===t.type?(s=n.pageX,l=n.pageY,e(i).on("mousemove.hoverIntent",c),i.hoverIntent_s||(i.hoverIntent_t=setTimeout(function(){d(n,i)},o.interval))):(e(i).off("mousemove.hoverIntent",c),i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){u(n,i)},o.timeout)))};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},o.selector)}}(jQuery),function(e){function t(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}var n=(e("#bccms_masthead"),!1),i=!1;navigator.userAgent.match(/(iPad)/i)&&(i=!0),navigator.userAgent.match(/(iPhone)/i)&&(n=!0);var o=!1,r={init:function(){r.setDeviceType(),r.update_login(),r.bind_search_toggle(),r.usernav_toggle(),r.bind_header_logout(),r.bind_nav_toggles(),r.bind_mobile_main_nav_js(),r.set_up_scroll_function(),a.init(),r.handle_resize(),r.load_language_selector(),r.setup_skip_to_links(),r.help_dropdown(),r.bind_keyboard_events(),r.underline_current_nav(),r.location_dropdown()},underline_current_nav:function(){var t="";"/"!==location.pathname&&(t=location.pathname,"/"==t.slice(-1)&&(t=t.slice(0,-1)));var n=e('#mainNavCMS a[href*="'+t+'"]').first(),i=document.createElement("a");if(i.href=n.attr("href"),!(""==t&&i.pathname.length>1)){var o=n.closest(".menu-parent");o.length>0?o.find("a").first().addClass("active_for_show"):n.addClass("active_for_show")}},unpin_search:function(){this.pin_header(),e("#searchWrapperCMS").addClass("unpinned")},pin_header:function(){e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").addClass("active"),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").parent("li").addClass("active"),a.set_filters_width()},is_events_page:function(){return location.hostname.match(/\.bibliocommons\.com$/)&&location.pathname.match(/\/events\/?/)},update_login:function(){function t(t){var n=e("#usernav_trigger");1==t.logged_in?(n.addClass("logged_in"),e(".usernav_menu").addClass("logged_in_menu")):(n.removeClass("logged_in"),e(".usernav_menu").removeClass("logged_in_menu"),e("#locations_button .preferred_locations ul li").html(""),e("#locations_button .preferred_locations").hide()),n.html(t.status),t.user_info&&Object.keys(t.user_info).length>0&&(o=t.user_info),n.find("a").append('<span class="down_chevron"></span>'),e.ajax(a),e("#globalSpinner").hide(),e(window).trigger("bc_login_loaded")}function n(t){e(".usernav_menu").html(t.html);var n=e(".switch_account_link a");if(n.length>0&&n.on("click",function(t){if(t.preventDefault(),!location.hostname.match(/\.bibliocommons\.com$/)||location.pathname.match(/\/events\/?/)||location.pathname.match(/\/locations\/?/))window.location=e(this).attr("href")+"/user_dashboard";else{var n=e(this).attr("href"),i=document.createElement("a");i.href=n,window.location.hostname=i.hostname}}),Modernizr.touch&&e("#bccms_masthead nav.usernav_menu .content").css("max-height",e(window).height()-60).css("overflow-y","scroll"),e("#bccms_masthead nav.usernav_menu .content li.indented a[href*='"+window.bc_Environment.coreUrl+"']").parent().remove(),"bibliocommons"==window.bc_Environment.libName&&e("#user_menu_options li").first().find("a").text("My Account"),o){var r=e("#user_menu_options");r.prepend('<li class="break_line"><hr></li>'),r.prepend('<li class="current_user"><a class="current_user_link"/></li>'),r.find("li.current_user a").attr("href",o.profile).text(o.name),e.ajax({dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/get_localized_string/signed_in_as.json",success:function(e){r.find("li.current_user").prepend('<span class="user_status_info">'+e.string+"</span>")}})}var a=e("#user_menu_options .cms_login_button").attr("href");i&&(a=a+"?destination="+i),e("#user_menu_options .cms_login_button").attr("href",a);e("#admin_actions_list");if(e("#admin_actions_list").length>0){e("#admin_actions_list_final").empty(),e("#admin_actions_list").children("li").appendTo("#admin_actions_list_final"),e("#admin_actions_list").remove(),e(".lib_admin_link").bind("click.bcHeaderSearch",function(t){var n=e("#sub_nav_admin_menu");n.is(":hidden")?(e(".sub_nav_menu_cms").slideUp(100),n.slideDown(100)):n.slideUp(100)});var s=0;e("#user_menu_options li").each(function(t,n){""==e.trim(e(this).html())&&(e(this).remove(),s++)}),0==e(".user_action_bcadmin").length&&0==s&&0==e("li.lib_admin_link").next().hasClass("break_line")&&e("li.lib_admin_link").addClass("temporary_until_core_1100")}e("#globalSpinner").hide()}
var i=window.bc_Environment.coreUrl+"/dashboard/user_dashboard";location.hostname.match(/\.bibliocommons\.com$/)&&"/events"!=location.pathname&&"/locations"!=location.pathname&&(i=!1);var r={dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/user_status.json",success:function(e){t(e)}};i&&(r.data={destination:i}),"SELENIUM"==window.bc_Environment.enviroment&&(r.jsonpCallback="jQueryUserStatus");var a={dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/user_dropdown.json",success:function(e){n(e)}};location.hostname.match(/\.bibliocommons\.com$/)&&!location.pathname.match(/\/events\/?/)&&!location.pathname.match(/\/locations\/?/)&&jQuery("#language_button").length>0?e.ajax({dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/get_localized_string/language_spa.json",success:function(i){"Español"==i.string?(r.success=function(n){t(n),e.ajax(a)},a.success=function(t){n(t),e.get(window.bc_Environment.coreUrl+"/info/switch_language.json?selected_language=es-ES",function(){},"jsonp")},e.get(window.bc_Environment.coreUrl+"/info/switch_language.json?selected_language=en-US",function(){e.ajax(r)},"jsonp")):(e.ajax(r),e.ajax(a))}}):e.ajax(r),e("#location_dropdown_menu").length>0&&e.ajax({dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/user_info.json",success:function(t){1==t.logged_in&&(e(".preferred_locations .edit_locations").attr("href",t.widget_info.preferences_url),e.ajax({dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/preferred_locations.json",success:function(n){e(".preferred_locations").show(),Object.keys(n.preferred_locations).length<3&&(e(".preferred_locations .add_location a").attr("href",t.widget_info.preferences_url),e(".preferred_locations .add_location").show()),n.preferred_locations.first_preferred&&(e(".location_list .first_location").html(e("<a/>",{href:window.bc_Environment.cmsUrl+"/locations/"+n.preferred_locations.first_preferred.branch_code,text:n.preferred_locations.first_preferred.name,class:"location_link"})),e(".location_list .first_location").show()),n.preferred_locations.second_preferred&&(e(".location_list .second_location").html(e("<a/>",{href:window.bc_Environment.cmsUrl+"/locations/"+n.preferred_locations.second_preferred.branch_code,text:n.preferred_locations.second_preferred.name,class:"location_link"})),e(".location_list .second_location").show()),n.preferred_locations.third_preferred&&(e(".location_list .third_location").html(e("<a/>",{href:window.bc_Environment.cmsUrl+"/locations/"+n.preferred_locations.third_preferred.branch_code,text:n.preferred_locations.third_preferred.name,class:"location_link"})),e(".location_list .third_location").show())}}))}})},bind_mobile_main_nav_js:function(){e("#mobile_menu_trigger").bind("click.bcMainNav",function(t){t.preventDefault(),e(this).toggleClass("menu_open"),e(this).parent("li").toggleClass("menu_open"),e("#mainNavCMS").toggle(),e(".third_tier.slide_down_item").hide(),e("#searchWrapperCMS").hide(),e("#search_trigger, #scrolled_search_starter_block, #link_mobile_search_trigger").removeClass("active"),e(".third_tier_trigger").removeClass("rotated"),e(window).trigger("bc_height_changed"),e(".alternative_search_trigger").removeClass("active")})},bind_nav_toggles:function(){e("#mainNavCMS a.subnav_trigger").on("click.bcMainNav",function(n){n.preventDefault(),e("#searchWrapperCMS").hide(),e("#search_trigger, #scrolled_search_starter_block, #link_mobile_search_trigger").removeClass("active"),e(this).hasClass("active")?(e(".down_chevron").removeClass("rotated"),e(this).removeClass("active"),r.underline_current_nav(),e(".slide_down_item").not(".third_tier").slideUp(100)):(e(".sub_nav_menu_cms").hide(),e(".down_chevron").removeClass("rotated"),e(".subnav_trigger").removeClass("active"),e(this).find(".down_chevron").addClass("rotated"),e(this).addClass("active"),e("a").removeClass("active_for_show"),e(this).parent("li").find(".sub_nav_menu_cms").slideDown(100),e(window).scrollTop()>e(n.target).offset().top&&e(window).scrollTop(e(n.target).offset().top)),t().width<=1024&&e(".third_tier").hide()}),e("#mainNavCMS li.has_subnav li.third_tier_trigger h3").on("click.bcMainNav",function(t){t.preventDefault(),e(this).find(".down_chevron").hasClass("rotated")?(e(this).find(".down_chevron").removeClass("rotated"),e(this).parent("li").find(".third_tier").slideUp(100)):(e(".down_chevron").removeClass("rotated"),e(this).find(".down_chevron").addClass("rotated"),e(this).parents(".menu-parent").find(".subnav_trigger .down_chevron").addClass("rotated"),e(".third_tier").hide(),e(this).parent("li").find(".third_tier").slideDown(100),e(window).scrollTop()>e(t.target).offset().top&&e(window).scrollTop(e(t.target).offset().top))})},is_search_page:function(){return e("body").hasClass("search-results")||e("body").hasClass("search-no-results")},referred_from_search_page:function(){if(e(".back_to").length>0&&-1!=e(".back_to").attr("href").indexOf("/search"))return!0;if(e(".bc_refferer_url").length>0){return-1!=e(".bc_refferer_url").val().indexOf("?s=")}return!1},usernav_toggle:function(){e("#usernav_trigger").on("click","a",function(e){e.preventDefault()}),e("#usernav_trigger").bind("click.bcMainNav",function(){e("#language_switch_dropdown_menu").hide(),e(".language_switch_trigger").removeClass("active"),e("#bccms_masthead .usernav_menu").toggle(),Modernizr.touch||e(window).height()-60<e("#bccms_masthead nav.usernav_menu .content").height()&&e("#bccms_masthead nav.usernav_menu .content").css("max-height",e(window).height()-80).css("overflow-y","scroll")}),e(document).click(function(t){e(t.target).closest("#user_wrap").length||e("#bccms_masthead .usernav_menu").hide()})},bind_search_toggle:function(){e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").bind("click.bcHeaderSearch keydown.bcHeaderSearch",function(o){9!=o.which&&(o.preventDefault(),e("#language_switch_dropdown_menu").hide(),e(".sub_nav_menu_cms").hide(),e(".subnav_trigger").removeClass("active"),e(".down_chevron").removeClass("rotated"),e("#mobile_menu_trigger").removeClass("menu_open"),e("#li_mobile_menu_trigger").removeClass("menu_open"),e("#searchWrapperCMS").removeClass("unpinned"),e(window).width()<640&&e(window).height()<480&&e(window).scrollTop()<270&&e("#globalQuery").focus(function(t){e("html, body").animate({scrollTop:270},300)}),t().width<=1024&&e("#mainNavCMS").hide(),e(this).hasClass("active")?(e("#searchWrapperCMS").slideUp(400),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").removeClass("active"),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").parent("li").removeClass("active")):(e("#searchWrapperCMS").slideDown(400,function(){a.set_filters_width(),"keydown"==o.type?e("#topNavSearchFilters").find(":tabbable").first().focus():n||i||e("#globalQuery").focus()}),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").addClass("active"),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").parent("li").addClass("active")))}),e("#link_mobile_search_trigger").bind("click.bcMainNav",function(t){t.preventDefault(),e("#mobile_menu_trigger").removeClass("menu_open"),e("#li_mobile_menu_trigger").removeClass("menu_open"),e("#mainNavCMS").hide()}),e("#header_close_btn").bind("click.bcMainNav",function(t){t.preventDefault(),e("#language_switch_dropdown_menu").hide(),e(".sub_nav_menu_cms").hide(),e(".subnav_trigger").removeClass("active"),e(".down_chevron").removeClass("rotated"),e("#searchWrapperCMS").slideUp(400),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").removeClass("active"),e("#link_mobile_search_trigger").parent("li").removeClass("active")})},setDeviceType:function(){Modernizr.touch&&t().width<=1024&&(e("#header_cms").addClass("touch_device"),e("body").addClass("touch_mobile"),navigator.userAgent.match(/iPad/i)||e("#header_cms").addClass("not_ipad"))},bind_header_logout:function(){e(".top_bar").on("click.bcMainNav","#submit_ajax_logout",function(t){t.preventDefault(),e("#usernav_trigger").html("Logging out..."),e.getJSON(window.bc_Environment.coreUrl+"/session/destroy.json?callback=?&no_update=true",function(t){r.update_login(),e("#navAndSearchWrapper.slidedown").slideUp(100),e("#usernav_trigger").removeClass("logged_in"),e("#cms_ui_usernav").removeClass("logged_in_menu"),o=!1,-1!=window.bc_Environment.coreUrl.indexOf(window.location.host)&&(window.location=window.bc_Environment.cmsUrl);var n=e(".bc_userstatus_iframe").clone();e(".bc_userstatus_iframe").remove(),e("#bccms_footer").append(n)})})},set_up_scroll_function:function(){function n(t){var n=Math.max(105,e("#topNavCMS").height());e(window).scrollTop()>=n&&!t.hasClass("mini")?(t.removeClass("default").addClass("mini"),Modernizr.touch?e(document.activeElement).is("input")||(t.addClass("fixed"),e(".masthead_spacer").css("height",r)):(t.addClass("fixed"),e(".masthead_spacer").css("height",r)),e(".masthead_spacer").show()):e(window).scrollTop()<n&&(t.hasClass("mini")||t.hasClass("fixed"))?(t.removeClass("fixed").removeClass("mini").addClass("default"),e(".masthead_spacer").hide(),e(window).trigger("bc_height_changed")):e(window).scrollTop()>=n&&!t.hasClass("fixed")&&t.hasClass("mini")&&Modernizr.touch&&(e(document.activeElement).is("input")||t.addClass("fixed"))}function i(t){e(window).trigger("bc_height_changed"),e("body").hasClass("search-results")&&!e("#searchWrapperCMS").hasClass("unpinned")||Modernizr.touch||(e("#searchWrapperCMS").hide(),e("#search_trigger, #scrolled_search_starter_block, #link_mobile_search_trigger").removeClass("active"),e("#link_mobile_search_trigger").parent("li").removeClass("active")),$usernav_height=e(".usernav_menu .content").height()+50,e(window).height()>=$usernav_height&&(e(".down_chevron").removeClass("rotated"),e("#language_switch_dropdown_menu").hide(),e(t.target).closest("#user_wrap").length||e(".usernav_menu").hide(),e(".help_menu_trigger").removeClass("active"),e("#help_dropdown_menu").hide(),e(".help_menu_trigger .down_chevron").removeClass("rotated"),e("#location_dropdown_menu").length>0&&(e(".hours_locations_expanded").removeClass("active"),e("#location_dropdown_menu").hide(),e(".hours_locations_expanded .down_chevron").removeClass("rotated"))),e("#language_switch_dropdown_menu").hide(),e(".language_switch_trigger").removeClass("active"),Modernizr.touch&&e(document.activeElement).is("input")&&e(document.activeElement).parents("#bccms_masthead").length&&(navigator.userAgent.match(/(iPhone)/i)?document.activeElement.scrollIntoViewIfNeeded():(e("#bccms_masthead").hasClass("fixed")&&e("#bccms_masthead").removeClass("fixed"),document.activeElement.scrollIntoViewIfNeeded()))}var o=e("#bccms_masthead"),r=150;n(o),e(document).bind("touchmove",function(t){e(t.target).closest("#globalQuery").length||e("#globalQuery").blur(),e(t.target).closest("#bccms_masthead").length||(e("#searchWrapperCMS").hide(),e("#search_trigger, #scrolled_search_starter_block, #link_mobile_search_trigger").removeClass("active"),e("#link_mobile_search_trigger").parent("li").removeClass("active"))}),e(window).bind("scroll",function(e){n(o),null==navigator.userAgent.match(/iPad/i)&&null==navigator.userAgent.match(/iPhone/i)&&i(e)}),e(window).bind("touchmove",function(e){n(o),i(e)}),e("#show_full_menu_trigger").bind("click.bcMainNav",function(n){n.preventDefault(),t().width>640?e("#bccms_masthead").removeClass("mini"):(e(window).scrollTop(0),e("#mobile_menu_trigger").addClass("menu_open"),e("#li_mobile_menu_trigger").addClass("menu_open"),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").addClass("active"),e("#search_trigger, #link_mobile_search_trigger, #scrolled_search_starter_block").parent("li").addClass("active"),e("#mainNavCMS").show(),e(".third_tier.slide_down_item").hide(),e(".third_tier_trigger").removeClass("rotated"),e(window).trigger("bc_height_changed"))})},handle_resize:function(){e(window).on("orientationchange resize",function(n){t().width>1024&&(e("#mainNavCMS").show(),e(".third_tier").show()),Modernizr.touch&&e("#bccms_masthead nav.usernav_menu .content").css("max-height",e(window).height()-60).css("overflow-y","scroll"),a.set_filters_width()})},load_language_selector:function(){!location.hostname.match(/\.bibliocommons\.com$/)||location.pathname.match(/\/events\/?/)||location.pathname.match(/\/locations\/?/)?(e("#catalog_options").prependTo(e("#search_types")),e("#search_types li#spanish_options").hide()):(e(window).on("orientationchange resize",function(n){t().width<480&&e("#language_button").hide()}),jQuery("#language_switch_dropdown_menu li").length>0&&t().width>480?(Modernizr.touch&&window.navigator.userAgent.match(/iPad/i)?(e("#catalog_options").prependTo(e("#search_types")),e("#search_types li#spanish_options").hide()):(e("#language_button").show(),e(".language_switch_trigger").bind("click.bcMainNav",function(){"object"==typeof Spinner&&Spinner.hide(),e(".language_switch_trigger").toggleClass("active"),e("#language_switch_dropdown_menu").toggle()}),e(document).click(function(t){e(t.target).closest("#language_button").length||(e(".language_switch_trigger").removeClass("active"),e("#language_switch_dropdown_menu").hide())}),e.ajax({dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/available_languages.json",success:function(t){e.each(t,function(t,n){n[0].current&&(e(".language_switch_trigger span.name").text(n[0].name),e('#language_switch_dropdown_menu li a:contains("'+n[0].name+'")').parent("li").addClass("current_lang"),"Español"==n[0].name?(e("#bccms_masthead").addClass("spanish_login_menu"),e("#catalog_options").removeClass("active"),e("#search_types li#spanish_options").prependTo(e("#search_types")).addClass("active"),e("#catalog_options_container").hide(),e("#search_types li#catalog_options").hide(),e("#spanish_options_container").show(),a.set_filters_width()):e("#search_types li#spanish_options").hide())})}}),a.set_filters_width()),e.ajax({dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/get_localized_string/section_title_search.json",success:function(t){e("#search_trigger").text(t.string),e("#search_trigger").append('<span class="search-icon"></span>'),e("#scrolled_search_starter_block").html('<a id="scrolled_search_trigger" tabindex="0" href="#" title="Search" aria-haspopup="true">'+t.string+'<span class="search-icon"></span></a>')}}),e.ajax({dataType:"jsonp",url:window.bc_Environment.coreUrl+"/widgets/get_localized_string/form_label_advanced_search.json",success:function(t){e(".moreSearch").text(t.string)}})):(e("#catalog_options").prependTo(e("#search_types")),e("#search_types li#spanish_options").hide()))},setup_skip_to_links:function(){e("a.skip_to_region").bind("click.bcMainNav",function(t){t.preventDefault(),"open_search"!==e(this).data("skipto-doaction")||e("#searchWrapperCMS").is(":visible")||e("a#search_trigger").trigger("keydown",[!0]),e(e(this).data("skipto-fallback-id")).focus(),e(e(this).data("skipto-id")).focus()})},bind_keyboard_events:function(){e(".search_options_menu.closed li.active").keydown(function(t){var n,i,o,r=e(this);switch(t.which){case 13:case 40:t.preventDefault(),r.click();break;case 37:t.preventDefault(),n=r.parent("ul"),i=n.index("#bccmsSearch ul:visible"),o=e("#bccmsSearch ul:visible").eq(i-1),o.length&&o.find("li").first().focus();break;case 39:t.preventDefault(),n=r.parent("ul"),i=n.index("#bccmsSearch ul:visible"),o=e("#bccmsSearch ul:visible").eq(i+1),o.length?o.find("li").first().focus():e("#globalQuery").focus()}}),e(".subnav_trigger").keydown(function(t){var n=e(this),i=e(this).closest("li").find(".slide_down_item");switch(t.which){case 40:t.preventDefault(),i.is(":visible")?i.find(":tabbable").first().focus():n.click();break;case 38:t.preventDefault(),i.is(":visible")&&n.click()}}),e(".help_menu_trigger").keydown(function(t){var n=e(this),i=e("#help_dropdown_menu");switch(t.which){case 13:t.preventDefault(),n.click();break;case 40:t.preventDefault(),i.is(":visible")?i.find(":tabbable").first().focus():n.click();break;case 38:t.preventDefault(),i.is(":visible")&&n.click()}}),e("#bccms_masthead").on("keydown","#help_dropdown_menu *:tabbable, .usernav_menu *:tabbable, div.slide_down_item.sub_nav_menu_cms *:tabbable",function(t){var n,i,o,r=e(this).closest("#help_dropdown_menu, .usernav_menu, div.slide_down_item.sub_nav_menu_cms ");switch(r.hasClass("usernav_menu")?(i=e("#usernav_trigger a"),o=e(".usernav_menu *:tabbable").length,n=e(this).index(".usernav_menu *:tabbable")):r.hasClass("slide_down_item")?(i=r.closest(".menu-parent").find(".subnav_trigger"),o=e("div.slide_down_item:visible *:tabbable").length,n=e(this).index("div.slide_down_item:visible  *:tabbable")):(i=e(".help_menu_trigger"),o=e("#help_dropdown_menu *:tabbable").length,n=e(this).index("#help_dropdown_menu *:tabbable")),t.which){case 40:t.preventDefault(),n+1==o?i.focus():r.find("*:tabbable:eq("+(n+1)+")").focus();break;case 38:t.preventDefault(),0!=n?r.find("*:tabbable:eq("+(n-1)+")").focus():i.focus()}}),e("#usernav_trigger").keydown(function(t){switch($user_menu=e(".usernav_menu"),$this_trigger=e(this),t.which){case 13:t.preventDefault(),$this_trigger.click();break;case 40:t.preventDefault(),$user_menu.is(":visible")?$user_menu.find(":tabbable").first().focus():$this_trigger.click();break;case 38:t.preventDefault(),$user_menu.is(":visible")&&$this_trigger.click()}}),e(".search_options_menu li").keydown(function(t){$this_trigger=e(this),40==t.which?(t.preventDefault(),$this_trigger.nextAll("li:visible").first().focus()):38==t.which?(t.preventDefault(),$this_trigger.prevAll("li:visible").first().focus()):13==t.which&&$this_trigger.click()})},help_dropdown:function(){e(".help_menu_trigger").bind("click.bcMainNav",function(t){t.preventDefault(),e("#language_switch_dropdown_menu").hide(),e(".language_switch_trigger").removeClass("active"),e(this).hasClass("active")?(e(this).removeClass("active"),e("#help_dropdown_menu").hide(),e(this).find(".down_chevron").removeClass("rotated")):(e(this).addClass("active"),e("#help_dropdown_menu").show(),e(this).find(".down_chevron").addClass("rotated"))}),e(document).click(function(t){e(t.target).closest("#help_button").length||(e(".help_menu_trigger").removeClass("active"),e("#help_dropdown_menu").hide(),e(".help_menu_trigger .down_chevron").removeClass("rotated"))})},location_dropdown:function(){e("#location_dropdown_menu").length>0&&(e(".hours_locations_expanded").bind("click.bcMainNav",function(t){t.preventDefault(),e("#language_switch_dropdown_menu").hide(),e(".language_switch_trigger").removeClass("active"),e(this).hasClass("active")?(e(this).removeClass("active"),e("#location_dropdown_menu").hide(),e(this).find(".down_chevron").removeClass("rotated")):(e(this).addClass("active"),e("#location_dropdown_menu").show(),e(this).find(".down_chevron").addClass("rotated"))}),e(document).click(function(t){e(t.target).closest("#locations_button").length||(e(".hours_locations_expanded").removeClass("active"),e("#location_dropdown_menu").hide(),e(".hours_locations_expanded .down_chevron").removeClass("rotated"))})),e(document).click(function(t){e(t.target).closest("#locations_button").length||(e(".hours_locations_expanded").removeClass("active"),e("#location_dropdown_menu").hide(),e(".hours_locations_expanded .down_chevron").removeClass("rotated"))}),jQuery("#bccms_header_location_search").on("submit",function(t){t.preventDefault();var n=encodeURIComponent(e("#near_addr").val()),i=e("#bccms_header_location_search").attr("action")+"?near_addr="+n;window.location=i}),"geolocation"in navigator==0&&e(".current_location").remove(),e(".loading-icon-cms").hide(),e(".locations-icon-crosshair-cms").css("display","inline-block"),e(".geo-location-cms .text").text("Use current location"),e(".geo-location-cms").on("click.bcMainNav",function(){function t(t){var n=t.coords.longitude+","+t.coords.latitude,i=e("#bccms_header_location_search").attr("action")+"?near="+n;window.location=i}function n(t){e(".loading-icon-cms").hide(),e(".locations-icon-crosshair-cms").show(),e(".geo-location-cms .text").text("Use current location")}e(".loading-icon-cms").show(),e(".locations-icon-crosshair-cms").hide(),e(".geo-location-cms .text").text("Finding Location");var i={enableHighAccuracy:!0,timeout:5e3};navigator.geolocation.getCurrentPosition(t,n,i)})}},a={init:function(){a.load_applied_filters(),a.update_search_target(),e("#globalQuery").keydown(function(e){"13"==(e.keyCode?e.keyCode:e.which)&&a.do_search()}),e("#bccms_masthead").on("click.bcHeaderSearch","a.search_button",function(e){e.preventDefault(),a.do_search()}),e(document).click(function(t){e(t.target).closest(".search_options_menu").length||e(".search_options_menu").hasClass("opened")&&e(".search_options_menu").removeClass("opened").addClass("closed")}),e("#globalQuery").bind("keyup.bcHeaderSearch",function(){a.update_search_target()}),e("#bccmsSearch").on("click.bcHeaderSearch",".search_options_menu:not(#search_types) li",function(t){var n=e(this).parent("ul");if(n.hasClass("opened")){n.find("li.active").removeClass("active"),e(this).prependTo(n).addClass("active"),a.update_search_target(),n.addClass("closed").removeClass("opened");n.nextAll("ul:visible").first().find("li").first().focus()}else e(".search_options_menu").removeClass("opened").addClass("closed"),n.addClass("opened").removeClass("closed");a.set_filters_width(),a.update_search_target()}),e("#bccmsSearch").on("click.bcHeaderSearch","#search_types li",function(t){var n=e(this).parent("ul");if(n.hasClass("opened")){n.find("li.active").removeClass("active"),e(this).prependTo(n).addClass("active"),a.update_search_target();var i="#"+e(this).attr("id")+"_container";e(".search_options_containter").hide(),e(i).show(),e("#bccmsSearch").removeAttr("class").addClass(e(this).attr("id")+"_wrapper"),n.addClass("closed").removeClass("opened");var o;n.nextAll("div:visible").length>0&&(o=n.nextAll("div:visible").find("ul").first().find("li").first()),o.length>0?o.focus():e("#globalQuery").focus()}else e(".search_options_menu").removeClass("opened").addClass("closed"),n.addClass("opened").removeClass("closed");a.set_filters_width(),a.update_search_target()})},load_applied_filters:function(){var t=window.location.search.substring(1),n=decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"');if(""!==n){"&"===t.substr(0,1)&&(t=t.substring(1)),n=decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"'),t=JSON.parse('{"'+n+'"}');e.each(t,function(n,i){if("s"==n)"undefined"!==t.post_type&&"bccms_faq"===t.post_type?(e("li#faqs_options").prependTo(e("#search_types")).addClass("active"),e("#catalog_options_container").hide(),e("#catalog_options").removeClass("active"),e("#faqs_options_container").show(),e("#bccmsSearch").removeAttr("class").addClass("faqs_options_wrapper"),setTimeout(function(){e("li#faqs_options").prependTo(e("#search_types"))},100)):(e("li#the_website_options").prependTo(e("#search_types")).addClass("active"),e("#catalog_options_container").hide(),e("#catalog_options").removeClass("active"),e("#the_website_options_container").show(),e("#bccmsSearch").removeAttr("class").addClass("the_website_options_wrapper"),setTimeout(function(){e("li#the_website_options").prependTo(e("#search_types"))},100)),e("#globalQuery").val(a.displayDecodeURI(i));else if("formats"==n){var o,r=e('li[data-query-string="formats='+i+'"]');r.each(function(){o=e(this).closest(".search_options_menu"),o.find("li").removeClass("active"),e(this).addClass("active"),setTimeout(function(){e(this).prependTo(o)},100)})}else if("t"==n){"keyword"==i&&(i="smart"),"catalogue"==i&&(i="smart");var r=e("#catalog_search_by_"+i);e("#catalog_by li").removeClass("active"),r.addClass("active"),setTimeout(function(){r.prependTo(e("#catalog_by"))},100);var s=e("#spanish_search_por_"+i);e("#spanish_por li").removeClass("active"),s.addClass("active"),setTimeout(function(){s.prependTo(e("#spanish_por"))},100)}else"post_type"==n?(e("#the_website_for li").removeClass("active"),e('li[data-query-string="&post_type='+i+'"]').addClass("active"),setTimeout(function(){e('li[data-query-string="&post_type='+i+'"]').prependTo(e("#the_website_for"))},100)):"q"==n&&e("#globalQuery").val(a.displayDecodeURI(i))}),a.set_filters_width(),a.update_search_target()}else e("#globalQuery").val("");e("#globalQuery").blur(),setTimeout(function(){e("#globalQuery").blur()},100)},readCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},update_search_target:function(){var t=e("#search_types li:visible"),n=e.trim(t.find(".search_base").val()),i=t.find(".query_prefix").val(),o=e(".search_options_containter:visible ul li:visible"),r="",s=i+encodeURIComponent(e("#globalQuery").val());a.add_autocomplete(),o.each(function(t){r+=e(this).attr("data-query-string"),t<o.length-1&&(r+="&")});var l=new RegExp(location.host),c=!l.test(n);void 0!==window.bc_Environment.ga_core_library&&window.bc_Environment.ga_core_library&&this.readCookie("_ga")&&c&&(r.length>0&&(r+="&"),r+="_ga="+this.readCookie("_ga"));var d;d="the_website_options"==t.attr("id")?n+s+r:n+r+s,e("#bccmsSearch a.search_button").each(function(){e(this).attr("href",d);var t=e("li.search_type span:nth-child(2)").filter(":visible").text();t&&(e(this).attr("title","Search "+t),e("#globalQuery").attr("aria-label","Search "+t).attr("title","Search "+t))})},do_search:function(){var e=l.getType();if(s[e])return s[e].apply(this);s.default_search()},add_autocomplete:function(){var t=e("#globalQuery_in_page, #globalQuery"),n=e("#catalog_by li:visible");if(t.length>0&&n.length>0&&("t=author&search_category=author"==n.attr("data-query-string")||"t=subject&search_category=subject"==n.attr("data-query-string"))){if("t=author&search_category=author"==n.attr("data-query-string"))var i="author";else var i="subject";t.autocomplete({minLength:2,appendTo:"#bccms_masthead",delay:500,source:function(t,n){e.ajax({url:window.bc_Environment.coreUrl+"/search/auto_suggest/"+i+".json?term="+t.term,dataType:"jsonp",show_spinner:!1,success:function(t){n(e.map(t.data,function(e){return{label:e.name,value:"SEE"==e.type||"SEE_ALSO"==e.type?e.see:e.name,url:e.url,term:e.term,type:e.type,see:e.see,testid:e.testid}}))}})},select:function(n,i){return t.val(i.item.value),e("#globalSearch").submit(),!1}}).data("autocomplete")._renderItem=function(n,i){return term=t.val(),regex=new RegExp("("+term+")","gi"),label=i.label?i.label.replace(regex,"<strong>$1</strong>"):null,element=e("<li testid='"+i.testid+"'></li>").data("item.autocomplete",i),"SEE"==i.type||"SEE_ALSO"==i.type?(label_part=i.label?label+"<br>":"",see_part="<em style='margin-left:15px;'>"+i.term+":</em> "+i.see,element_string="<a>"+label_part+see_part+"</a>",element.append(element_string)):element.append("<a>"+label+"</a>"),element.appendTo(n)},t.on("autocompletechange",function(e,t){a.update_search_target()})}else t.hasClass("ui-autocomplete-input")&&t.autocomplete("destroy")},displayDecodeURI:function(t){return e.trim(decodeURIComponent(t).replace(/\+/g," "))},set_filters_width:function(){if(t().width>1024&&e(".search_options_menu:visible:not(#external_app_filter)").length>0){var n=170,i=30;e(".search_options_menu:visible:not(#external_app_filter)").each(function(){n=n+e(this).width()+20,i=i+e(this).width()+20}),e(".separator:visible:not(#external_app_filter_container span)").each(function(){n+=e(this).width(),i+=e(this).width()}),e("#topNavSearchFilters").css("width",i+"px"),e("#search_bar").css("width","calc(100% - "+n+"px"),e(".row_1_wrap_search").removeAttr("style")}if(t().width<=1024&&t().width>640&&e(".search_options_menu:visible").length>0){var i=155,n=30;e(".search_options_menu:visible").each(function(){n=n+e(this).width()+20,i=i+e(this).width()+20}),e(".separator:visible").each(function(){n+=e(this).width(),i+=e(this).width()}),e(".row_1_wrap_search").css("width",i+"px"),e("#topNavSearchFilters").css("width",n+"px"),e("#search_bar").removeAttr("style")}}},s={default_search:function(){a.update_search_target();var t=e("#search_bar a.search_button").attr("href");window.location=t}};e.bccmsHeaderJS=function(){return e("*").unbind(".bcHeaderSearch"),e("*").unbind(".bcMainNav"),r.init(),e(window).trigger("bc_header_loaded"),r};var l={get_search_type:function(){l.setSearchType(type)},set_search_type:function(e){l.setSearchType(e)},setSearchType:function(t){switch(t){case"events":e(".search_type").removeClass("active"),e("li#events_options").prependTo(e("#search_types")).addClass("active"),e(".search_options_containter").hide(),e("#bccmsSearch").removeAttr("class").addClass("events_options_wrapper"),setTimeout(function(){e("li#events_options").prependTo(e("#search_types"))},100);break;case"the_website":e(".search_type").removeClass("active"),e("li#the_website_options").prependTo(e("#search_types")).addClass("active"),e(".search_options_containter").hide(),e("#the_website_options_container").show(),e("#bccmsSearch").removeAttr("class").addClass("the_website_options_wrapper"),setTimeout(function(){e("li#the_website_options").prependTo(e("#search_types"))},100);case"catalog":e(".search_type").removeClass("active"),e("li#catalog_options").prependTo(e("#search_types")).addClass("active"),e(".search_options_containter").hide(),e("#catalog_options_container").show(),e("#bccmsSearch").removeAttr("class").addClass("catalog_options_wrapper"),setTimeout(function(){e("li#catalog_options").prependTo(e("#search_types"))},100)}if(r.is_events_page()&&-1!==window.location.pathname.indexOf("/events/search"))var n=setInterval(function(){e("body").hasClass("search-results")&&(r.pin_header(),clearInterval(n))},200)},getSearchType:function(){return 0!==e("#search_types li:visible").length&&e("#search_types li:visible").attr("id").replace("_options","")},getHeight:function(){var t=e("#bccms_masthead").height();return"relative"==e("#bccms_masthead").css("position")&&(t=0),t},getTerm:function(){return e("#globalQuery").val()},setTerm:function(t){"string"==typeof t&&(a.update_search_target(),e("#globalQuery").val(t))},getType:function(){return 0!==e("#search_types li:visible").length&&e("#search_types li:visible").attr("id").replace("_options","")},onSearch:function(e,t){s[e]=t},sessionChanged:function(){r.update_login()}};e.bccmsHeaderJSAPI=function(e){if(l[e])return l[e].apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery),void 0===jQuery.ui&&(function(e,t){function n(t,n){var o,r,a,s=t.nodeName.toLowerCase();return"area"===s?(o=t.parentNode,r=o.name,!(!t.href||!r||"map"!==o.nodeName.toLowerCase())&&(!!(a=e("img[usemap=#"+r+"]")[0])&&i(a))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),
/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,o,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(i=r.css("position"))||"relative"===i||"fixed"===i)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(t,!o)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function o(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,o(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,o(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=!!t.length,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var o,r=e.ui[t].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n){var i,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;o.length>i;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0||(t[i]=1,o=t[i]>0,t[i]=0,o)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,o,r,a){return e.ui.isOverAxis(t,i,r)&&e.ui.isOverAxis(n,o,a)}}))}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}o(t)},e.widget=function(n,i,o){var r,a,s,l,c=n.split(".")[0];n=n.split(".")[1],r=c+"-"+n,o||(o=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},a=e[c][n],s=e[c][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new s(e,n)},e.extend(s,a,{version:o.version,_proto:e.extend({},o),_childConstructors:[]}),l=new i,l.options=e.widget.extend({},l.options),e.each(o,function(t,n){e.isFunction(n)&&(o[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}())}),s.prototype=e.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:n},o,{constructor:s,namespace:c,widgetName:n,widgetBaseClass:r,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):i._childConstructors.push(s),e.widget.bridge(n,s)},e.widget.extend=function(n){for(var o,r,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(o in a[s])r=a[s][o],a[s].hasOwnProperty(o)&&r!==t&&(n[o]=e.isPlainObject(r)?e.isPlainObject(n[o])?e.widget.extend({},n[o],r):e.widget.extend({},r):r);return n},e.widget.bridge=function(n,o){var r=o.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,o=e.data(this,r);return o?e.isFunction(o[a])&&"_"!==a.charAt(0)?(i=o[a].apply(o,l),i!==o&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):t):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,r);t?t.option(a||{})._init():e.data(this,r,new o(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var o,r,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},o=n.split("."),n=o.shift(),o.length){for(r=s[n]=e.widget.extend({},this.options[n]),a=0;o.length-1>a;a++)r[o[a]]=r[o[a]]||{},r=r[o[a]];if(n=o.pop(),i===t)return r[n]===t?null:r[n];r[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,o){var r,a=this;"boolean"!=typeof n&&(o=i,i=n,n=!1),o?(i=r=e(i),this.bindings=this.bindings.add(i)):(o=i,i=this.element,r=this.widget()),e.each(o,function(o,s){function l(){return n||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):t}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||e.guid++);var c=o.match(/^(\w+)\s*(.*)$/),d=c[1]+a.eventNamespace,u=c[2];u?r.delegate(u,d,l):i.bind(d,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,r,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&e.effects&&(e.effects.effect[s]||!1!==e.uiBackCompat&&e.effects[s])?i[t](o):s!==t&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}}),!1!==e.uiBackCompat&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(h.test(e[0])?t/100:1),parseInt(e[1],10)*(h.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var o,r=Math.max,a=Math.abs,s=Math.round,l=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+%?/,u=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return e("body").append(r),n=a.offsetWidth,r.css("overflow","scroll"),i=a.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,r="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var o,h,f,g,_,m=e(t.of),v=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(v),w=m[0],y=(t.collision||"flip").split(" "),k={};return 9===w.nodeType?(h=m.width(),f=m.height(),g={top:0,left:0}):e.isWindow(w)?(h=m.width(),f=m.height(),g={top:m.scrollTop(),left:m.scrollLeft()}):w.preventDefault?(t.at="left top",h=f=0,g={top:w.pageY,left:w.pageX}):(h=m.outerWidth(),f=m.outerHeight(),g=m.offset()),_=e.extend({},g),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===t.at[0]?_.left+=h:"center"===t.at[0]&&(_.left+=h/2),"bottom"===t.at[1]?_.top+=f:"center"===t.at[1]&&(_.top+=f/2),o=n(k.at,h,f),_.left+=o[0],_.top+=o[1],this.each(function(){var l,c,d=e(this),u=d.outerWidth(),p=d.outerHeight(),w=i(this,"marginLeft"),x=i(this,"marginTop"),C=u+w+i(this,"marginRight")+b.width,S=p+x+i(this,"marginBottom")+b.height,j=e.extend({},_),T=n(k.my,d.outerWidth(),d.outerHeight());"right"===t.my[0]?j.left-=u:"center"===t.my[0]&&(j.left-=u/2),"bottom"===t.my[1]?j.top-=p:"center"===t.my[1]&&(j.top-=p/2),j.left+=T[0],j.top+=T[1],e.support.offsetFractions||(j.left=s(j.left),j.top=s(j.top)),l={marginLeft:w,marginTop:x},e.each(["left","top"],function(n,i){e.ui.position[y[n]]&&e.ui.position[y[n]][i](j,{targetWidth:h,targetHeight:f,elemWidth:u,elemHeight:p,collisionPosition:l,collisionWidth:C,collisionHeight:S,offset:[o[0]+T[0],o[1]+T[1]],my:t.my,at:t.at,within:v,elem:d})}),e.fn.bgiframe&&d.bgiframe(),t.using&&(c=function(e){var n=g.left-j.left,i=n+h-u,o=g.top-j.top,s=o+f-p,l={target:{element:m,left:g.left,top:g.top,width:h,height:f},element:{element:d,left:j.left,top:j.top,width:u,height:p},horizontal:0>i?"left":n>0?"right":"center",vertical:0>s?"top":o>0?"bottom":"middle"};u>h&&h>a(n+i)&&(l.horizontal="center"),p>f&&f>a(o+s)&&(l.vertical="middle"),l.important=r(a(n),a(i))>r(a(o),a(s))?"horizontal":"vertical",t.using.call(this,e,l)}),d.offset(e.extend(j,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,l=o-s,c=s+t.collisionWidth-a-o;t.collisionWidth>a?l>0&&0>=c?(n=e.left+l+t.collisionWidth-a-o,e.left+=l-n):e.left=c>0&&0>=l?o:l>c?o+a-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=o-s,c=s+t.collisionHeight-a-o;t.collisionHeight>a?l>0&&0>=c?(n=e.top+l+t.collisionHeight-a-o,e.top+=l-n):e.top=c>0&&0>=l?o:l>c?o+a-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>d?(0>(n=e.left+h+p+f+t.collisionWidth-s-r)||a(d)>n)&&(e.left+=h+p+f):u>0&&((i=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||u>a(i))&&(e.left+=h+p+f)},top:function(e,t){var n,i,o=t.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-s-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>d?(i=e.top+p+f+g+t.collisionHeight-s-r,e.top+p+f+g>d&&(0>i||a(d)>i)&&(e.top+=p+f+g)):u>0&&(n=e.top-t.collisionPosition.marginTop+p+f+g-l,e.top+p+f+g>u&&(n>0||u>a(n))&&(e.top+=p+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,o,r,a=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in i)t.style[r]=i[r];t.appendChild(s),n=a||document.documentElement,n.insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",o=e(s).offset().left,e.support.offsetFractions=o>10&&11>o,t.innerHTML="",n.removeChild(t)}(),!1!==e.uiBackCompat&&function(e){var n=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return n.call(this,i);var o=i.offset.split(" "),r=i.at.split(" ");return 1===o.length&&(o[1]=o[0]),/^\d/.test(o[0])&&(o[0]="+"+o[0]),/^\d/.test(o[1])&&(o[1]="+"+o[1]),1===r.length&&(/left|center|right/.test(r[0])?r[1]="center":(r[1]=r[0],r[0]="center")),n.call(this,e.extend(i,{at:r[0]+o[0]+" "+r[1]+o[1],offset:t}))}}(jQuery)}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var r=e.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case r.UP:t=!0,this._keyEvent("previous",o);break;case r.DOWN:t=!0,this._keyEvent("next",o);break;case r.ENTER:case r.NUMPAD_ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(t)return t=!1,void i.preventDefault();if(!n){var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,o){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(i){n===t&&e.__response(i),--e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(n){var i=e(n.target).closest(".ui-menu-item");!t&&i.not(".ui-state-disabled").length&&(t=!0,this.select(n),i.has(".ui-menu").length?this.expand(n):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(n){e(n.target).closest(".ui-menu").length||this.collapseAll(n),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,o,r,a,s,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,o=this.previousFilter||"",r=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),r===o?a=!0:r=o+r,s=RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())}),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),s=RegExp("^"+n(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),o=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,o,r,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-n-i,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),0>o?this.activeMenu.scrollTop(r+o):o+s>a&&this.activeMenu.scrollTop(r+o-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-i-o}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,o
;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+o>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery)),jQuery.bccmsHeaderJS()),define("header",function(){}),require.config({urlArgs:"v="+bc_cache_key,baseUrl:bc_cdn+"/wp-content/themes/bibliocommons/js/scripts",paths:{jquery:"lib/jquery",jquery_migrate:"lib/jquery-migrate.min",globals:"app/utils/globals",header:"/wp-content/themes/bibliocommons/js/header/main",jquery_cookie:"lib/jquery.cookie",jqueryui:"lib/jquery-ui",modernizr:"lib/modernizr",magnific_popup:"lib/jquery.magnific-popup",shepherd:"lib/shepherd",tether:"lib/tether",address:"lib/jquery.address",lazy:"lib/lazy",html5shiv:"lib/html5shiv",column_manager:"app/column_manager",share_button:"app/share_button",system_messages:"app/system_messages",scroll_helper:"app/utils/scroll_helper",filter_pathways:"app/filter-pathways",filter_formats:"app/format-filters",column_loader:"app/column-loader",bcchannels:"app/channels",bcchannels_config:"app/channels_config",browse_carousel:"app/browse_carousel",browse_navigation:"app/browse-navigation",new_row_loader:"app/new_row_loader",deeplink:"app/deeplink",general_helpers:"app/utils/general_helpers",no_depency_helpers:"app/utils/no_depency_helpers",card_helpers:"app/utils/card_helpers",program_helpers:"app/utils/program_helpers",faq_toggle:"app/faq_toggles",callout:"app/callout",ga_events:"app/ga_events",mobile_drawer:"app/mobile_drawer",browse_helpers:"app/utils/browse_helpers",pathway_columns:"app/pathway_columns",domReady:"lib/domReady",jquery_datepicker:"lib/jquery.datepicker",bxslider:"lib/jquery.bxslider",bcslider:"lib/bcSlider",hero_block:"app/hero_block",creative_commons:"app/creative_commons",bcfocusmanager:"lib/bcFocusManager",iframe_resizer:"lib/iframeResizer.min",gpoll:"/wp-content/plugins/gravityformspolls/js/gpoll",gform_json:"/wp-content/plugins/gravityforms/js/jquery.json-1.3",gform_placeholder:"/wp-content/plugins/gravityforms/js/placeholders.jquery.min",gform_gravityforms:"/wp-content/plugins/gravityforms/js/gravityforms",gform_conditional_logic:"/wp-content/plugins/gravityforms/js/conditional_logic.min"},shim:{jquery_cookie:{deps:["jquery"]},jqueryui:{deps:["jquery"]},jquery_datepicker:{deps:["jqueryui"]},address:{deps:["jquery","jquery_migrate"],exports:"jQuery.fn.address"},modernizr:{exports:"Modernizr"},share_button:{deps:["jquery","jquery_migrate"],exports:"BCShareButton"},globals:{deps:["jquery","bcfocusmanager"]},gpoll:{deps:["jquery"]},gform_json:{deps:["jquery"]},gform_placeholder:{deps:["jquery"]},gform_conditional_logic:{deps:["jquery","gform_gravityforms"]},gform_gravityforms:{deps:["jquery","gform_json","gform_placeholder"],exports:"gform"},magnific_popup:{deps:["jquery"]},bxslider:{deps:["jquery"]},bcslider:{deps:["bxslider"]},hero_block:{deps:["bxslider"]},bcfocusmanager:{deps:["jquery"]}}}),$(document).trigger("require_ready"),window.bc_Environment.common_header?require(["jquery","globals","html5shiv"]):require(["jquery","header","globals","html5shiv"]),define("common",function(){}),require.config({urlArgs:"v="+bc_cache_key}),require(["./common"],function(e){require(["inits/all"]),require(["inits/home"]),require(["inits/pathway"]),require(["//platform.twitter.com/widgets.js"]),require(["jquery"],function(e){e(".column-headings").length>0&&require(["pathway_columns"])})}),define("pathway",function(){}),window.Modernizr=function(e,t,n){function i(e){u.cssText=e}function o(e,t){return typeof e===t}var r,a,s={},l=t.documentElement,c="modernizr",d=t.createElement(c),u=d.style,h=" -webkit- -moz- -o- -ms- ".split(" "),p={},f=[],g=f.slice,_=function(e,n,i,o){var r,a,s,d,u=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=o?o[i]:c+(i+1),u.appendChild(s);return r=["&#173;",'<style id="s',c,'">',e,"</style>"].join(""),u.id=c,(h?u:p).innerHTML+=r,p.appendChild(u),h||(p.style.background="",p.style.overflow="hidden",d=l.style.overflow,l.style.overflow="hidden",l.appendChild(p)),a=n(u,e),h?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),l.style.overflow=d),!!a},m=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t)&&n(t).matches||!1;var i;return _("@media "+t+" { #"+c+" { position: absolute; } }",function(t){i="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),i},v={}.hasOwnProperty;a=o(v,"undefined")||o(v.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return v.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=g.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=t.prototype;var r=new o,a=t.apply(r,n.concat(g.call(arguments)));return Object(a)===a?a:r}return t.apply(e,n.concat(g.call(arguments)))};return i}),p.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:_(["@media (",h.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var b in p)a(p,b)&&(r=b.toLowerCase(),s[r]=p[b](),f.push((s[r]?"":"no-")+r));return s.addTest=function(e,t){if("object"==typeof e)for(var i in e)a(e,i)&&s.addTest(i,e[i]);else{if(e=e.toLowerCase(),s[e]!==n)return s;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(l.className+=" "+(t?"":"no-")+e),s[e]=t}return s},i(""),d=null,s._version="2.8.2",s._prefixes=h,s.mq=m,s.testStyles=_,s}(this,this.document),define("modernizr",function(e){return function(){return e.Modernizr}}(this)),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,n){function i(n){var i=t.console;r[n]||(r[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function o(t,o,r,a){if(Object.defineProperty)try{return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){return i(a),r},set:function(e){i(a),r=e}}),n}catch(e){}e._definePropertyBroken=!0,t[o]=r}var r={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){r={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},d=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;o(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,o,r,l){var c=o.toLowerCase(),f=t&&t.nodeType;return l&&(4>s.length&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(f)&&(a?o in a:e.isFunction(e.fn[o])))?e(t)[o](r):("type"===o&&r!==n&&d.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,i){var o,r=e.prop(t,i);return!0===r||"boolean"!=typeof r&&(o=t.getAttributeNode(i))&&!1!==o.nodeValue?i.toLowerCase():n},set:function(t,n,i){var o;return!1===n?e.removeAttr(t,i):(o=e.propFix[i]||i,o in t&&(t[o]=!0),t.setAttribute(i,i.toLowerCase())),i}},p.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,o,r))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var o=(e.nodeName||"").toLowerCase();return"button"===o?c.apply(this,arguments):("input"!==o&&"option"!==o&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var f,g,_=e.fn.init,m=e.parseJSON,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,o){var r;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(r=v.exec(e.trim(t)))&&r[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),r[3]&&i("$(html) HTML text after last tag is ignored"),"#"===r[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?_.call(this,e.parseHTML(r[2],n,!0),n,o):_.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f=e.uaMatch(navigator.userAgent),g={},f.browser&&(g[f.browser]=!0,g.version=f.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),e.browser=g),o(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,o){return o&&o instanceof e&&!(o instanceof t)&&(o=t(o)),e.fn.init.call(this,i,o,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var o,r,a=this[0];return!a||"events"!==t||1!==arguments.length||(o=e.data(a,t),r=e._data(a,t),o!==n&&o!==r||r===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),r)};var w=/\/(java|ecma)script/i,y=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),y.apply(this,arguments)},e.clean||(e.clean=function(t,o,r,a){o=o||document,o=!o.nodeType&&o[0]||o,o=o.ownerDocument||o,i("jQuery.clean() is deprecated");var s,l,c,d,u=[];if(e.merge(u,e.buildFragment(t,o).childNodes),r)for(c=function(e){return!e.type||w.test(e.type)?a?a.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e):n},s=0;null!=(l=u[s]);s++)e.nodeName(l,"script")&&c(l)||(r.appendChild(l),l.getElementsByTagName!==n&&(d=e.grep(e.merge([],l.getElementsByTagName("script")),c),u.splice.apply(u,[s+1,0].concat(d)),s+=d.length));return u});var k=e.event.add,x=e.event.remove,C=e.event.trigger,S=e.fn.toggle,j=e.fn.live,T=e.fn.die,E="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=RegExp("\\b(?:"+E+")\\b"),I=/(?:^|\s)hover(\.\S+|)\b/,M=function(t){return"string"!=typeof t||e.event.special.hover?t:(I.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(I,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,o,r){e!==document&&A.test(t)&&i("AJAX events should be attached to document: "+t),k.call(this,e,M(t||""),n,o,r)},e.event.remove=function(e,t,n,i,o){x.call(this,e,M(t)||"",n,i,o)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return S.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,r=t.guid||e.guid++,a=0,s=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),o[i].apply(this,arguments)||!1};for(s.guid=r;o.length>a;)o[a++].guid=r;return this.click(s)},e.fn.live=function(t,n,o){return i("jQuery.fn.live() is deprecated"),j?j.apply(this,arguments):(e(this.context).on(t,this.selector,n,o),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),T?T.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,o){return n||A.test(e)||i("Global events are undocumented and deprecated"),C.call(this,e,t,n||document,o)},e.each(E.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),define("jquery_migrate",function(){}),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Share=function(){function e(e){return e.selector+"{width:92px;height:20px;-webkit-touch-callout:none;-khtml-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"+e.selector+" [class*=entypo-]:before{font-family:entypo,sans-serif}"+e.selector+" label{font-size:16px;cursor:pointer;margin:0;padding:5px 10px;border-radius:5px;background:#a29baa;color:#333;-webkit-transition:all .3s ease;transition:all .3s ease}"+e.selector+" label:hover{opacity:.8}"+e.selector+" label span{text-transform:uppercase;font-size:.9em;font-family:Lato,sans-serif;font-weight:700;-webkit-font-smoothing:antialiased;padding-left:6px}"+e.selector+" .social{opacity:0;-webkit-transition:all .4s ease;transition:all .4s ease;margin-left:-15px;visibility:hidden}"+e.selector+" .social.top{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;margin-top:-80px}"+e.selector+" .social.bottom{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;margin-top:5px}"+e.selector+" .social.middle{margin-top:-34px}"+e.selector+" .social.middle.right{-webkit-transform-origin:5% 50%;-ms-transform-origin:5% 50%;transform-origin:5% 50%;margin-left:105px}"+e.selector+" .social.middle.left{-webkit-transform-origin:5% 50%;-ms-transform-origin:5% 50%;transform-origin:5% 50%}"+e.selector+" .social.right{margin-left:14px}"+e.selector+" .social.load{-webkit-transition:none!important;transition:none!important}"+e.selector+" .social.networks-1{width:60px}"+e.selector+" .social.networks-1.center,"+e.selector+" .social.networks-1.left{margin-left:14px}"+e.selector+" .social.networks-1.middle.left{margin-left:-70px}"+e.selector+" .social.networks-1 ul{width:60px}"+e.selector+" .social.networks-2{width:120px}"+e.selector+" .social.networks-2.center{margin-left:-13px}"+e.selector+" .social.networks-2.left{margin-left:-44px}"+e.selector+" .social.networks-2.middle.left{margin-left:-130px}"+e.selector+" .social.networks-2 ul{width:120px}"+e.selector+" .social.networks-3{width:180px}"+e.selector+" .social.networks-3.center{margin-left:-45px}"+e.selector+" .social.networks-3.left{margin-left:-102px}"+e.selector+" .social.networks-3.middle.left{margin-left:-190px}"+e.selector+" .social.networks-3 ul{width:180px}"+e.selector+" .social.networks-4{width:240px}"+e.selector+" .social.networks-4.center{margin-left:-75px}"+e.selector+" .social.networks-4.left{margin-left:162px}"+e.selector+" .social.networks-4.middle.left{margin-left:-250px}"+e.selector+" .social.networks-4 ul{width:240px}"+e.selector+" .social.networks-5{width:300px}"+e.selector+" .social.networks-5.center{margin-left:-105px}"+e.selector+" .social.networks-5.left{margin-left:-225px}"+e.selector+" .social.networks-5.middle.left{margin-left:-320px}"+e.selector+" .social.networks-5 ul{width:300px}"+e.selector+" .social.active{opacity:1;-webkit-transition:all .4s ease;transition:all .4s ease;visibility:visible}"+e.selector+" .social.active.top{-webkit-transform:scale(1) translateY(-10px);-ms-transform:scale(1) translateY(-10px);transform:scale(1) translateY(-10px)}"+e.selector+" .social.active.bottom{-webkit-transform:scale(1) translateY(15px);-ms-transform:scale(1) translateY(15px);transform:scale(1) translateY(15px)}"+e.selector+" .social.active.middle.right{-webkit-transform:scale(1) translateX(10px);-ms-transform:scale(1) translateX(10px);transform:scale(1) translateX(10px)}"+e.selector+" .social.active.middle.left{-webkit-transform:scale(1) translateX(-10px);-ms-transform:scale(1) translateX(-10px);transform:scale(1) translateX(-10px)}"+e.selector+" .social ul{position:relative;left:0;right:0;height:46px;color:#fff;margin:auto;padding:0;list-style:none}"+e.selector+" .social ul li{font-size:20px;cursor:pointer;width:60px;margin:0;padding:12px 0;text-align:center;float:left;display:none;height:22px;position:relative;z-index:2;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transition:all .3s ease;transition:all .3s ease}"+e.selector+" .social ul li:hover{color:rgba(0,0,0,.5)}"+e.selector+" .social li[class*=facebook]{background:#3b5998;display:"+e.networks.facebook.display+"}"+e.selector+" .social li[class*=twitter]{background:#6cdfea;display:"+e.networks.twitter.display+"}"+e.selector+" .social li[class*=gplus]{background:#e34429;display:"+e.networks.google_plus.display+"}"+e.selector+" .social li[class*=pinterest]{background:#c5282f;display:"+e.networks.pinterest.display+"}"+e.selector+" .social li[class*=paper-plane]{background:#42c5b0;display:"+e.networks.email.display+"}"}var t;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e,t,n;return n=function(e){return function(n){var i,o;i=t.className.split(/\s+/),o=i.indexOf(n),e(i,o,n),t.className=i.join(" ")}},t=this,e={add:n(function(e,t,n){~t||e.push(n)}),remove:n(function(e,t){~t&&e.splice(t,1)}),toggle:n(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}},Object.defineProperty(e,"length",{get:function(){return t.className.split(/\s+/).length}}),e}}),String.prototype.to_rfc3986=function(){var e;return e=encodeURIComponent(this),e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},t=function(){function e(){}return e.prototype.extend=function(e,t,n){var i,o;for(o in t)i=void 0!==e[o],i&&"object"==typeof t[o]?this.extend(e[o],t[o],n):(n||!i)&&(e[o]=t[o])},e.prototype.hide=function(e){return e.style.display="none"},e.prototype.show=function(e){return e.style.display="block"},e.prototype.has_class=function(e,t){return e.classList.contains(t)},e.prototype.add_class=function(e,t){return e.classList.add(t)},e.prototype.remove_class=function(e,t){return e.classList.remove(t)},e.prototype.is_encoded=function(e){return e=e.to_rfc3986(),decodeURIComponent(e)!==e},e.prototype.encode=function(e){return void 0===e||this.is_encoded(e)?e:e.to_rfc3986()},e.prototype.popup=function(e,t){var n,i,o,r;return null==t&&(t={}),i={width:500,height:350},i.top=screen.height/2-i.height/2,i.left=screen.width/2-i.width/2,o=function(){var e;e=[];for(n in t)r=t[n],e.push(n+"="+this.encode(r));return e}.call(this).join("&"),o&&(o="?"+o),window.open(e+o,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+i.left+",top="+i.top+",width="+i.width+",height="+i.height)},e}();var n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};return function(t){function n(e,t){return this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null,via:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(e,t),this}return i(n,t),n.prototype.setup=function(e,t){var n,i,o,r;for(i=document.querySelectorAll(e),this.extend(this.config,t,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.ui.icon_font&&this.inject_icons(),this.config.ui.button_font&&this.inject_fonts(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),n=o=0,r=i.length;r>o;n=++o)i[n],this.setup_instance(e,n)},n.prototype.setup_instance=function(e,t){var n,i,o,r,a,s,l,c,d=this;for(i=document.querySelectorAll(e)[t],this.hide(i),this.add_class(i,"sharer-"+t),i=document.querySelectorAll(e)[t],this.inject_css(i),this.inject_html(i),this.show(i),o=i.getElementsByTagName("label")[0],n=i.getElementsByClassName("social")[0],a=i.getElementsByTagName("li"),this.add_class(n,"networks-"+this.config.enabled_networks),o.addEventListener("click",function(){return d.event_toggle(n)}),d=this,c=[],t=s=0,l=a.length;l>s;t=++s)r=a[t],c.push(r.addEventListener("click",function(){return d.event_network(i,this),d.event_close(n)}));return c},n.prototype.event_toggle=function(e){return this.has_class(e,"active")?this.event_close(e):this.event_open(e)},n.prototype.event_open=function(e){return this.has_class(e,"load")&&this.remove_class(e,"load"),this.add_class(e,"active")},n.prototype.event_close=function(e){return this.remove_class(e,"active")},n.prototype.event_network=function(e,t){var n;return n=t.getAttribute("data-network"),this.hook("before",n,e),this["network_"+n](),this.hook("after",n,e)},n.prototype.open=function(){return this.public("open")},n.prototype.close=function(){return this.public("close")},n.prototype.toggle=function(){return this.public("toggle")},n.prototype.public=function(e){var t,n,i,o,r,a,s;for(a=document.querySelectorAll(this.element),s=[],n=o=0,r=a.length;r>o;n=++o)i=a[n],t=i.getElementsByClassName("social")[0],s.push(this["event_"+e](t));return s},n.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description,from:1}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},n.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:encodeURIComponent(this.config.networks.twitter.description),url:this.config.networks.twitter.url,via:encodeURIComponent(this.config.networks.twitter.via)})},n.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},n.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:encodeURIComponent(this.config.networks.pinterest.url),media:encodeURIComponent(this.config.networks.pinterest.image),description:encodeURIComponent(this.config.networks.pinterest.description)})},n.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description})},n.prototype.inject_icons=function(){return this.inject_stylesheet("https://www.sharebutton.co/fonts/v2/entypo.min.css")},n.prototype.inject_fonts=function(){return this.inject_stylesheet("https://fonts.googleapis.com/css?family=Lato:900&text="+this.config.ui.button_text)},n.prototype.inject_stylesheet=function(e){var t;return this.el.head.querySelector('link[href="'+e+'"]')?void 0:(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t))},n.prototype.inject_css=function(t){var n,i,o,r;return o="."+t.getAttribute("class").split(" ").join("."),this.el.head.querySelector("meta[name='sharer"+o+"']")?void 0:(this.config.selector=o,n=e(this.config),r=document.createElement("style"),r.type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),this.el.head.appendChild(r),delete this.config.selector,i=document.createElement("meta"),i.setAttribute("name","sharer"+o),this.el.head.appendChild(i))},n.prototype.inject_html=function(e){return e.innerHTML="<label class='entypo-export'><span>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='entypo-pinterest' data-network='pinterest'></li><li class='entypo-twitter' data-network='twitter'></li><li class='entypo-facebook' data-network='facebook'></li><li class='entypo-gplus' data-network='google_plus'></li><li class='entypo-paper-plane' data-network='email'></li></ul></div>"},n.prototype.inject_facebook_sdk=function(){var e,t;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:(t=document.createElement("script"),t.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",e=document.createElement("div"),e.id="fb-root",this.el.body.appendChild(e),this.el.body.appendChild(t))},n.prototype.hook=function(e,t,n){var i,o;"function"==typeof(i=this.config.networks[t][e])&&void 0!==(o=i.call(this.config.networks[t],n))&&(o=this.normalize_filter_config_updates(o),this.extend(this.config.networks[t],o,!0),this.normalize_network_configuration())},n.prototype.default_title=function(){var e;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.innerText:void 0},n.prototype.default_image=function(){var e;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0},n.prototype.default_description=function(){var e;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""},n.prototype.set_global_configuration=function(){var e,t,n,i,o,r;o=this.config.networks,r=[];for(t in o){i=o[t];for(n in i)null==this.config.networks[t][n]&&(this.config.networks[t][n]=this.config[n]);this.config.networks[t].enabled?(e="block",this.config.enabled_networks+=1):e="none",r.push(this.config.networks[t].display=e)}return r},n.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},n.prototype.normalize_filter_config_updates=function(e){return this.config.networks.facebook.app_id!==e.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),this.config.networks.facebook.load_sdk!==e.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),e},n}(t)}()}(),function(e){function t(){if(e.browser.msie){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet.cssText=".share_button [class*=icon-]:before, .share_button [class*=icon-]:after{content:none !important",t.appendChild(n),setTimeout(function(){t.removeChild(n)},10)}}function n(){var t={gmail:{class:"gmail icon-gmail",title:"GMail"},outlook:{class:"outlook icon-windows",title:"Outlook"},yahoo:{class:"yahoo icon-yahoo",title:"Yahoo! Mail"},mailto:{class:"mailto icon-mail",title:"Native Email Client"}},n=0,i=e("<ul>");return e.each(t,function(t,o){n++;var r=e("<li>",e.extend(o,{"data-network":t})).attr("aria-hidden","true").appendTo(i);e('<a href="#"></a>').append(t).appendTo(r)}),e("<div>",{class:"social networks-"+n+" email_share"}).append(i)}function i(e,t,n){return{gmail:"https://mail.google.com/mail/u/0/?view=cm&su=|subject|&to&body=|body|&pli=1&fs=1&tf=1",yahoo:"https://compose.mail.yahoo.com/?&Subject=|subject|&To=&Body=|body|",outlook:"https://mail.live.com/default.aspx?rru=compose&subject=|subject|&to=&body=|body|",mailto:"mailto:?subject=|subject|&body=|body|"}[n].replace("|subject|",encodeURIComponent(e)).replace("|body|",encodeURIComponent(t))}BCShareButton=Share,BCShareButton.DEFAULTS={ui:{button_text:"",flyout:"middle right",icon_font:!1,button_font:!1},networks:{linkedin:{enabled:!1,url:null,description:null,title:null},tumblr:{enabled:!1,url:null,description:null,title:null}},container:".share-buttons"};var o=!e.browser.msie;e.extend(BCShareButton.prototype,{network_tumblr:function(){var e=this.config.networks.tumblr;this.popup("https://www.tumblr.com/share/link",{url:encodeURIComponent(e.url),title:e.title,description:e.description})},network_linkedin:function(){var e=this.config.networks.linkedin;this.popup("https://www.linkedin.com/shareArticle",{mini:"true",url:e.url,title:e.title,summary:e.description,source:baseURL()})},network_email:function(){var t=e(this.config.container+":has(.social.active)"),o=(t.find(".social"),t.find(".email_share")),r=this.config.networks.email,a=this;0===o.length&&(t.append(n()),o=t.find(".email_share"),""!==t.data("flyout-direction")?o.addClass(t.data("flyout-direction")):o.addClass(this.config.ui.flyout),o.find("li").on("keypress click",function(t){if(13===t.which||"click"===t.type){t.preventDefault();var n=e(this);a.popup(i(r.title,r.description,n.data("network"))),o.removeClass("active")}})),o.addClass("active"),e(".email_share li:last-of-type a").on("focusout",function(){o.removeClass("active")})},network_facebook:function(){var e={method:"feed",link:this.config.networks.facebook.url};if(!(window.FB&&window.fbAsyncInit&&this.config.networks.facebook.image))return this.config.networks.facebook.load_sdk?window.FB?FB.ui(e):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url});FB.ui(e)},hide_disabled_networks:function(){var t=this;e.each(this.config.networks,function(n){t.config.socialNetworks&&(this.enabled=-1!==e.inArray(n,t.config.socialNetworks)),this.enabled||e(t.config.container).find("[data-network="+n+"]").hide()})},event_toggle:function(n){var i=e(n),r=i.next(".email_share");if(r.hasClass("active"))return void r.removeClass("active");this.event_close(e(".social.active").not(i)),
this.has_class(n,"active")?this.event_close(n):(this.event_open(n),o||(o=!0,t()))},inject_css:function(){return!1},has_class:function(t,n){return e(t).hasClass(n)},add_class:function(t,n){return e(t).addClass(n)},remove_class:function(t,n){return e(t).removeClass(n)},setup_instance:function(n,i){var o,r,a,s,l,c,d,u,h,p=this;if(r=document.querySelectorAll(n)[i],!e(r).is('[class*="sharer-"]')){for(this.hide(r),this.add_class(r,"sharer-"+i),r=document.querySelectorAll(n)[i],h=this.config.ui.flyout,e(r).data("flyout-direction")&&(this.config.ui.flyout=e(r).data("flyout-direction")),this.inject_html(r),this.config.ui.flyout=h,this.show(r),a=r.getElementsByClassName("icon-export")[0],o=e(r).find(".social")[0],l=r.getElementsByTagName("li"),this.add_class(o,"networks-"+this.config.enabled_networks),e(a).on("keypress click",function(e){if(13===e.which||"click"===e.type)return e.preventDefault(),p.event_toggle(o)}),"open"!=e(r).data("flyout-inital-state")&&"expand"!=e(r).data("flyout-inital-status")||e(a).click(),p=this,u=[],i=c=0,d=l.length;c<d;i=++c)s=l[i],u.push(e(s).on("keydown click",function(t){return"click"===t.type?(t.preventDefault(),p.event_network(r,this),p.event_close(o)):13==t.keyCode?(t.preventDefault(),p.event_network(r,this),e(".email_share li:first-of-type a").focus(),p.event_close(o)):void 0}));return e(".share_links li:last-of-type a").on("focusout",function(){e(".share_links").removeClass("active")}),t(),this.hide_disabled_networks(),u}},inject_html:function(e){e.innerHTML="<span class='icon-export' aria-hidden='true'><a class='social_link' href='#'>Share Links</a></span><div class='social load share_links "+this.config.ui.flyout+"'><ul><li class='icon-pinterest' data-network='pinterest' aria-hidden='true'><a href='#'>Pinterest</a></li><li class='icon-twitter' data-network='twitter' aria-hidden='true'><a href='#'>Twitter</a></li><li class='icon-facebook' data-network='facebook' aria-hidden='true'><a href='#'>Facebook</a></li><li class='icon-gplus' data-network='google_plus' aria-hidden='true'><a href='#'>Google Plus</a></li><li class='icon-paper-plane' data-network='email' aria-hidden='true'><a href='#'>Email</a></li></ul></div>"}}),BCShareButton.init=function(){var t=e.extend(BCShareButton.DEFAULTS,e(BCShareButton.DEFAULTS.container).data());new BCShareButton(BCShareButton.DEFAULTS.container,t)}}(jQuery),define("share_button",["jquery","jquery_migrate"],function(e){return function(){return e.BCShareButton}}(this)),jQuery.cookie=function(e,t,n){if(arguments.length>1&&"[object Object]"!==String(t)){if(n=jQuery.extend({},n),null!==t&&void 0!==t||(n.expires=-1),"number"==typeof n.expires){var i=n.expires,o=n.expires=new Date;o.setDate(o.getDate()+i)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}return n=t||{},o=n.raw?function(e){return e}:decodeURIComponent,(i=RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?o(i[1]):null},define("jquery_cookie",["jquery"],function(){}),function(e){e.address=function(){var t,n=function(t){return t=e.extend(e.Event(t),function(){for(var t={},n=e.address.parameterNames(),i=0,o=n.length;i<o;i++)t[n[i]]=e.address.parameter(n[i]);return{value:e.address.value(),path:e.address.path(),pathNames:e.address.pathNames(),parameterNames:n,parameters:t,queryString:e.address.queryString()}}.call(e.address)),e(e.address).trigger(t),t},i=function(e){return Array.prototype.slice.call(e)},o=function(){return e().bind.apply(e(e.address),Array.prototype.slice.call(arguments)),e.address},r=function(){return e().unbind.apply(e(e.address),Array.prototype.slice.call(arguments)),e.address},a=function(){return L.pushState&&I.state!==t},s=function(){return("/"+O.pathname.replace(new RegExp(I.state),"")+O.search+(l()?"#"+l():"")).replace(H,"/")},l=function(){var e=O.href.indexOf("#");return-1!=e?u(O.href.substr(e+1),A):""},c=function(){return a()?s():l()},d=function(e){return e=e.toString(),(I.strict&&"/"!=e.substr(0,1)?"/":"")+e},u=function(e,t){return I.crawlable&&t?(""!==e?"!":"")+e:e.replace(/^\!/,"")},h=function(e,t){return parseInt(e.css(t),10)},p=function(){if(!G){var e=c();decodeURI(V)!=decodeURI(e)&&(N&&P<7?O.reload():(N&&!U&&I.history&&Q(m,50),_old=V,V=e,f(A)))}},f=function(e){var t=n(S);e=n(e?j:T),Q(_,10),(t.isDefaultPrevented()||e.isDefaultPrevented())&&g()},g=function(){V=_old,a()?L.popState({},"",I.state.replace(/\/$/,"")+(""===V?"/":V)):(G=E,F?I.history?O.hash="#"+u(V,E):O.replace("#"+u(V,E)):V!=c()&&(I.history?O.hash="#"+u(V,E):O.replace("#"+u(V,E))),N&&!U&&I.history&&Q(m,50),F?Q(function(){G=A},1):G=A)},_=function(){if("null"!==I.tracker&&I.tracker!==k){var n=e.isFunction(I.tracker)?I.tracker:z[I.tracker],i=(O.pathname+O.search+(e.address&&!a()?e.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");e.isFunction(n)?n(i):e.isFunction(z.urchinTracker)?z.urchinTracker(i):z.pageTracker!==t&&e.isFunction(z.pageTracker._trackPageview)?z.pageTracker._trackPageview(i):z._gaq!==t&&e.isFunction(z._gaq.push)&&z._gaq.push(["_trackPageview",decodeURI(i)])}},m=function(){var e="javascript:"+A+";document.open();document.writeln('<html><head><title>"+q.title.replace(/\'/g,"\\'")+"</title><script>var "+x+' = "'+encodeURIComponent(c()).replace(/\'/g,"\\'")+(q.domain!=O.hostname?'";document.domain="'+q.domain:"")+"\";<\/script></head></html>');document.close();";P<7?W.src=e:W.contentWindow.location.replace(e)},v=function(){if(B&&-1!=$){var e,t,n=B.substr($+1).split("&");for(e=0;e<n.length;e++)t=n[e].split("="),/^(autoUpdate|crawlable|history|strict|wrap)$/.test(t[0])&&(I[t[0]]=isNaN(t[1])?/^(true|yes)$/i.test(t[1]):0!==parseInt(t[1],10)),/^(state|tracker)$/.test(t[0])&&(I[t[0]]=t[1]);B=k}_old=V,V=c()},b=function(){if(!Y){Y=E,v();var i=function(){w.call(this),y.call(this)},o=e("body").ajaxComplete(i);i(),I.wrap&&(e("body > *").wrapAll('<div style="padding:'+(h(o,"marginTop")+h(o,"paddingTop"))+"px "+(h(o,"marginRight")+h(o,"paddingRight"))+"px "+(h(o,"marginBottom")+h(o,"paddingBottom"))+"px "+(h(o,"marginLeft")+h(o,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+x+'" style="height:100%;overflow:auto;position:relative;'+(F&&!window.statusbar.visible?"resize:both;":"")+'" />'),e("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),F&&e('<style type="text/css" />').appendTo("head").text("#"+x+"::-webkit-resizer { background-color: #fff; }")),N&&!U&&(i=q.getElementsByTagName("frameset")[0],W=q.createElement((i?"":"i")+"frame"),W.src="javascript:"+A,i?(i.insertAdjacentElement("beforeEnd",W),i[i.cols?"cols":"rows"]+=",0",W.noResize=E,W.frameBorder=W.frameSpacing=0):(W.style.display="none",W.style.width=W.style.height=0,W.tabIndex=-1,q.body.insertAdjacentElement("afterBegin",W)),Q(function(){e(W).bind("load",function(){var e=W.contentWindow;_old=V,(V=e[x]!==t?e[x]:"")!=c()&&(f(A),O.hash=u(V,E))}),W.contentWindow[x]===t&&m()},50)),Q(function(){n("init"),f(A)},1),a()||(N&&P>7||!N&&U?z.addEventListener?z.addEventListener(C,p,A):z.attachEvent&&z.attachEvent("on"+C,p):D(p,50)),"state"in window.history&&e(window).trigger("popstate")}},w=function(){var t,n=e("a"),i=n.size(),o=-1,r=function(){++o!=i&&(t=e(n.get(o)),t.is('[rel*="address:"]')&&t.address('[rel*="address:"]'),Q(r,1))};Q(r,1)},y=function(){if(I.crawlable){var t=O.pathname.replace(/\/$/,"");-1!=e("body").html().indexOf("_escaped_fragment_")&&e('a[href]:not([href^=http]), a[href*="'+document.domain+'"]').each(function(){var n=e(this).attr("href").replace(/^http:/,"").replace(new RegExp(t+"/?$"),"");""!==n&&-1==n.indexOf("_escaped_fragment_")||e(this).attr("href","#"+encodeURI(decodeURIComponent(n.replace(/\/(.*)\?_escaped_fragment_=(.*)$/,"!$2"))))})}},k=null,x="jQueryAddress",C="hashchange",S="change",j="internalChange",T="externalChange",E=!0,A=!1,I={autoUpdate:E,crawlable:A,history:E,strict:E,wrap:A},M=e.browser,P=parseFloat(M.version),N=!e.support.opacity,F=M.webkit||M.safari,z=function(){try{return top.document!==t&&top.document.title!==t?top:window}catch(e){return window}}(),q=z.document,L=z.history,O=z.location,D=setInterval,Q=setTimeout,H=/\/{2,9}/g;M=navigator.userAgent;var W,U="on"+C in z,B=e("script:last").attr("src"),$=B?B.indexOf("?"):-1,R=q.title,G=A,Y=A,J=E,X=A,V=c();if(_old=V,N){P=parseFloat(M.substr(M.indexOf("MSIE")+4)),q.documentMode&&q.documentMode!=P&&(P=8!=q.documentMode?7:8);var Z=q.onpropertychange;q.onpropertychange=function(){Z&&Z.call(q),q.title!=R&&-1!=q.title.indexOf("#"+c())&&(q.title=R)}}if(L.navigationMode&&(L.navigationMode="compatible"),"complete"==document.readyState)var K=setInterval(function(){e.address&&(b(),clearInterval(K))},50);else v(),e(b);return e(window).bind("popstate",function(){decodeURI(V)!=decodeURI(c())&&(_old=V,V=c(),f(A))}).bind("unload",function(){z.removeEventListener?z.removeEventListener(C,p,A):z.detachEvent&&z.detachEvent("on"+C,p)}),{bind:function(){return o.apply(this,i(arguments))},unbind:function(){return r.apply(this,i(arguments))},init:function(){return o.apply(this,["init"].concat(i(arguments)))},change:function(){return o.apply(this,[S].concat(i(arguments)))},internalChange:function(){return o.apply(this,[j].concat(i(arguments)))},externalChange:function(){return o.apply(this,[T].concat(i(arguments)))},baseURL:function(){var e=O.href;return-1!=e.indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),/\/$/.test(e)&&(e=e.substr(0,e.length-1)),e},autoUpdate:function(e){return e!==t?(I.autoUpdate=e,this):I.autoUpdate},crawlable:function(e){return e!==t?(I.crawlable=e,this):I.crawlable},history:function(e){return e!==t?(I.history=e,this):I.history},state:function(e){if(e!==t){I.state=e;var n=s();return I.state!==t&&(L.pushState?"/#/"==n.substr(0,3)&&O.replace(I.state.replace(/^\/$/,"")+n.substr(2)):"/"!=n&&n.replace(/^\/#/,"")!=l()&&Q(function(){O.replace(I.state.replace(/^\/$/,"")+"/#"+n)},1)),this}return I.state},strict:function(e){return e!==t?(I.strict=e,this):I.strict},tracker:function(e){return e!==t?(I.tracker=e,this):I.tracker},wrap:function(e){return e!==t?(I.wrap=e,this):I.wrap},update:function(){return X=E,this.value(V),X=A,this},title:function(e){return e!==t?(Q(function(){R=q.title=e,J&&W&&W.contentWindow&&W.contentWindow.document&&(W.contentWindow.document.title=e,J=A)},50),this):q.title},value:function(e){if(e!==t){if(e=d(e),"/"==e&&(e=""),V==e&&!X)return;return _old=V,V=e,(I.autoUpdate||X)&&(f(E),a()?L[I.history?"pushState":"replaceState"]({},"",I.state.replace(/\/$/,"")+(""===V?"/":V)):(G=E,F?I.history?O.hash="#"+u(V,E):O.replace("#"+u(V,E)):V!=c()&&(I.history?O.hash="#"+u(V,E):O.replace("#"+u(V,E))),N&&!U&&I.history&&Q(m,50),F?Q(function(){G=A},1):G=A)),this}return d(V)},path:function(e){if(e!==t){var n=this.queryString(),i=this.hash();return this.value(e+(n?"?"+n:"")+(i?"#"+i:"")),this}return d(V).split("#")[0].split("?")[0]},pathNames:function(){var e=this.path(),t=e.replace(H,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||t.splice(0,1),"/"==e.substr(e.length-1,1)&&t.splice(t.length-1,1),t},queryString:function(e){if(e!==t){var n=this.hash();return this.value(this.path()+(e?"?"+e:"")+(n?"#"+n:"")),this}return e=V.split("?"),e.slice(1,e.length).join("?").split("#")[0]},parameter:function(n,i,o){var r,a;if(i!==t){var s=this.parameterNames();for(a=[],i=i===t||i===k?"":i.toString(),r=0;r<s.length;r++){var l=s[r],c=this.parameter(l);"string"==typeof c&&(c=[c]),l==n&&(c=i===k||""===i?[]:o?c.concat([i]):[i]);for(var d=0;d<c.length;d++)a.push(l+"="+c[d])}return-1==e.inArray(n,s)&&i!==k&&""!==i&&a.push(n+"="+i),this.queryString(a.join("&")),this}if(i=this.queryString()){for(o=[],a=i.split("&"),r=0;r<a.length;r++)i=a[r].split("="),i[0]==n&&o.push(i.slice(1).join("="));if(0!==o.length)return 1!=o.length?o:o[0]}},parameterNames:function(){var t=this.queryString(),n=[];if(t&&-1!=t.indexOf("=")){t=t.split("&");for(var i=0;i<t.length;i++){var o=t[i].split("=")[0];-1==e.inArray(o,n)&&n.push(o)}}return n},hash:function(e){return e!==t?(this.value(V.split("#")[0]+(e?"#"+e:"")),this):(e=V.split("#"),e.slice(1,e.length).join("#"))}}}(),e.fn.address=function(t){var n;return"string"==typeof t&&(n=t,t=void 0),e(this).attr("address")||e(n||this).live("click",function(n){if(n.shiftKey||n.ctrlKey||n.metaKey||2==n.which)return!0;e(this).is("a")&&(n.preventDefault(),n=t?t.call(this):/address:/.test(e(this).attr("rel"))?e(this).attr("rel").split("address:")[1].split(" ")[0]:void 0===e.address.state()||/^\/?$/.test(e.address.state())?e(this).attr("href").replace(/^(#\!?|\.)/,""):e(this).attr("href").replace(new RegExp("^(.*"+e.address.state()+"|\\.)"),""),e.address.value(n))}).live("submit",function(n){e(this).is("form")&&(n.preventDefault(),n=e(this).attr("action"),n=t?t.call(this):(-1!=n.indexOf("?")?n.replace(/&$/,""):n+"?")+e(this).serialize(),e.address.value(n))}).attr("address",!0),this}}(jQuery),define("address",["jquery","jquery_migrate"],function(e){return function(){return e.jQuery.fn.address}}(this)),define("general_helpers",["jquery","share_button","jquery_cookie","address"],function(e){return String.prototype.trunc=function(e){return this.substr(0,e-1)+(this.length>e?"&hellip;":"")},String.prototype.trunc=function(e){return this.substr(0,e-1)+(this.length>e?"&hellip;":"")},{truncate_poll_cards:function(){e(".card_info .gfield_label, .poll .card_info h5 a").each(function(){var t=e(this);0==e(".homepage_column").length&&0==e(".col-three").length&&t.text().length>65&&t.html(t.text().trunc(65))})},isHomePage:function(){return"/home"===e.address.value()||""===e.address.value()||"/"===e.address.value()},showPopover:function(){null===e.cookie("SHOW_HOMEPAGE_POPOVER")&&e(".popover-banner").length>0&&"function"==typeof ga&&(ga("send","event","banner","impression","Banner Was Seen"),e(".popover-banner").show()),e(".popover-close-btn").click(function(){e.cookie("SHOW_HOMEPAGE_POPOVER",!1,{domain:location.hostname,expires:14}),e(this).parents(".popover-banner").fadeOut()})},add_share_button:function(t){var n=e.extend({},share_page_config,t);new BCShareButton(".share-buttons",n)},update_catalog_search:function(){var t=e.trim(e(".search_landing_block .search_base").val()),n="",i="&q="+encodeURIComponent(e("#globalQuery_in_page").val()),o=e(".search_landing_block .query_param");o.each(function(t){n+=e(this).val(),t<o.length-1&&(n+="&")});var r=t+n+i;e(".search_landing_block .search_button").attr("href",r)}}}),define("no_depency_helpers",["jquery"],function(e){return{getTopOffset:function(t){if(t&&"undefined"!==t){var n=e("#wpadminbar"),i=!!e("#bccms_masthead.fixed").length,o=t.offset().top;return o>15&&!i&&(o+=35),o-=55,n.length&&(o-=n.height()),Math.max(o,0)}return 0},anchorScroll:function(t){try{var n=[e(t),e("a"+t)].filter(function(e){return e.length})[0]}catch(e){return}e("a"+t).trigger("click"),e("html,body").animate({scrollTop:this.getTopOffset(n)},500)}}}),function(e,t){"function"==typeof define&&define.amd?define("tether",t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,n){return function(){var e,t,n,i,o,r,a,s,l,c,d,u,h,p,f,g,_,m,v={}.hasOwnProperty,b=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},w=[].slice;null==this.Tether&&(this.Tether={modules:[]}),u=function(e){var t,n,i,o;if("fixed"===(n=getComputedStyle(e).position))return e;for(void 0,t=e;t=t.parentNode;){try{i=getComputedStyle(t)}catch(e){}if(null==i)return t;if(/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX)&&("absolute"!==n||"relative"===(o=i.position)||"absolute"===o||"fixed"===o))return t}return document.body},g=function(){var e;return e=0,function(){return e++}}(),m={},c=function(e){var t,i,r,a,s;if(r=e._tetherZeroElement,null==r&&(r=e.createElement("div"),r.setAttribute("data-tether-id",g()),o(r.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(r),e._tetherZeroElement=r),t=r.getAttribute("data-tether-id"),null==m[t]){m[t]={},s=r.getBoundingClientRect();for(i in s)a=s[i],m[t][i]=a;n(function(){return m[t]=void 0})}return m[t]},a=function(e){var t,n,i,o,r,a,s;e===document?(n=document,e=document.documentElement):n=e.ownerDocument,i=n.documentElement,t={},s=e.getBoundingClientRect();for(o in s)a=s[o],t[o]=a;return r=c(n),t.top-=r.top,t.left-=r.left,null==t.width&&(t.width=document.body.scrollWidth-t.left-t.right),null==t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-i.clientTop,t.left=t.left-i.clientLeft,t.right=n.body.clientWidth-t.width-t.left,t.bottom=n.body.clientHeight-t.height-t.top,t},l=function(e){return e.offsetParent||document.documentElement},d=function(){var e,t,n,i,r;return e=document.createElement("div"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),o(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t),i=e.offsetWidth,t.style.overflow="scroll",r=e.offsetWidth,i===r&&(r=t.clientWidth),document.body.removeChild(t),n=i-r,{width:n,height:n}},o=function(e){var t,n,i,o,r,a,s;for(null==e&&(e={}),t=[],Array.prototype.push.apply(t,arguments),s=t.slice(1),r=0,a=s.length;r<a;r++)if(i=s[r])for(n in i)v.call(i,n)&&(o=i[n],e[n]=o);return e},p=function(e,t){var n,i,o,r,a,l;if(null!=e.classList){for(a=t.split(" "),l=[],o=0,r=a.length;o<r;o++)i=a[o],i.trim()&&l.push(e.classList.remove(i));return l}return n=s(e).replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," "),f(e,n)},t=function(e,t){var n,i,o,r,a;if(null!=e.classList){for(r=t.split(" "),a=[],i=0,o=r.length;i<o;i++)n=r[i],n.trim()&&a.push(e.classList.add(n));return a}return p(e,t),n=s(e)+" "+t,f(e,n)},h=function(e,t){return null!=e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(s(e))},s=function(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className},f=function(e,t){return e.setAttribute("class",t)},_=function(e,n,i){var o,r,a,s,l,c;for(r=0,s=i.length;r<s;r++)o=i[r],b.call(n,o)<0&&h(e,o)&&p(e,o);for(c=[],a=0,l=n.length;a<l;a++)o=n[a],h(e,o)?c.push(void 0):c.push(t(e,o));return c},i=[],n=function(e){return i.push(e)},r=function(){var e,t;for(t=[];e=i.pop();)t.push(e());return t},e=function(){function e(){}return e.prototype.on=function(e,t,n,i){var o;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[e]&&(o[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,i,o;if(null!=(null!=(i=this.bindings)?i[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,o=[];n<this.bindings[e].length;)this.bindings[e][n].handler===t?o.push(this.bindings[e].splice(n,1)):o.push(n++);return o}},e.prototype.trigger=function(){var e,t,n,i,o,r,a,s,l;if(n=arguments[0],e=2<=arguments.length?w.call(arguments,1):[],null!=(a=this.bindings)?a[n]:void 0){for(o=0,l=[];o<this.bindings[n].length;)s=this.bindings[n][o],i=s.handler,t=s.ctx,r=s.once,i.apply(null!=t?t:this,e),r?l.push(this.bindings[n].splice(o,1)):l.push(o++);return l}},e}(),this.Tether.Utils={getScrollParent:u,getBounds:a,getOffsetParent:l,extend:o,addClass:t,removeClass:p,hasClass:h,updateClasses:_,defer:n,flush:r,uniqueId:g,Evented:e,getScrollBarSize:d}}.call(this),function(){var e,t,n,i,o,r,a,s,l,c,d,u,h,p,f,g,_,m,v,b,w,y,k,x,C,S,j,T=[].slice,E=function(e,t){return function(){return e.apply(t,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");i=this.Tether,j=i.Utils,f=j.getScrollParent,j.getSize,j.getOuterSize,u=j.getBounds,h=j.getOffsetParent,c=j.extend,o=j.addClass,w=j.removeClass,x=j.updateClasses,l=j.defer,d=j.flush,p=j.getScrollBarSize,C=function(e,t,n){return null==n&&(n=1),e+n>=t&&t>=e-n},k=function(){var e,t,n,i,o;for(e=document.createElement("div"),o=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,i=o.length;n<i;n++)if(t=o[n],void 0!==e.style[t])return t}(),y=[],b=function(){var e,t,n;for(t=0,n=y.length;t<n;t++)e=y[t],e.position(!1);return d()},g=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},function(){var e,t,n,i,o,r,a,s,l;for(t=null,n=null,i=null,o=function(){if(null!=n&&n>16)return n=Math.min(n-16,250),void(i=setTimeout(o,250));if(!(null!=t&&g()-t<10))return null!=i&&(clearTimeout(i),i=null),t=g(),b(),n=g()-t},s=["resize","scroll","touchmove"],l=[],r=0,a=s.length;r<a;r++)e=s[r],l.push(window.addEventListener(e,o))}(),e={center:"center",left:"right",right:"left"},t={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},s=function(n,i){var o,r;return o=n.left,r=n.top,"auto"===o&&(o=e[i.left]),"auto"===r&&(r=t[i.top]),{left:o,top:r}},a=function(e){var t,i;return{left:null!=(t=n[e.left])?t:e.left,top:null!=(i=n[e.top])?i:e.top}},r=function(){var e,t,n,i,o,r,a;for(t=1<=arguments.length?T.call(arguments,0):[],n={top:0,left:0},o=0,r=t.length;o<r;o++)a=t[o],i=a.top,e=a.left,"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof e&&(e=parseFloat(e,10)),n.top+=i,n.left+=e;return n},_=function(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e},m=v=function(e){var t,n,i;return i=e.split(" "),n=i[0],t=i[1],{top:n,left:t}},S=function(){function e(e){this.position=E(this.position,this);var t,n,o,r,a;for(y.push(this),this.history=[],this.setOptions(e,!1),r=i.modules,n=0,o=r.length;n<o;n++)t=r[n],null!=(a=t.initialize)&&a.call(this);this.position()}return e.modules=[],e.prototype.getClass=function(e){var t,n;return(null!=(t=this.options.classes)?t[e]:void 0)?this.options.classes[e]:!1!==(null!=(n=this.options.classes)?n[e]:void 0)?this.options.classPrefix?this.options.classPrefix+"-"+e:e:""},e.prototype.setOptions=function(e,t){var n,i,r,a,s,l;for(this.options=e,null==t&&(t=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=c(n,this.options),s=this.options,this.element=s.element,this.target=s.target,this.targetModifier=s.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),l=["element","target"],r=0,a=l.length;r<a;r++){if(i=l[r],null==this[i])throw new Error("Tether Error: Both element and target must be defined");null!=this[i].jquery?this[i]=this[i][0]:"string"==typeof this[i]&&(this[i]=document.querySelector(this[i]))}if(o(this.element,this.getClass("element")),o(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");if(this.targetAttachment=m(this.options.targetAttachment),this.attachment=m(this.options.attachment),this.offset=v(this.options.offset),this.targetOffset=v(this.options.targetOffset),null!=this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=f(this.target),!1!==this.options.enabled)return this.enable(t)},e.prototype.getTargetBounds=function(){var e,t,n,i,o,r,a,s,l;if(null==this.targetModifier)return u(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(e=u(this.target),o={height:e.height,width:e.width,top:e.top,left:e.left},o.height=Math.min(o.height,e.height-(pageYOffset-e.top)),o.height=Math.min(o.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,e.width-(pageXOffset-e.left)),o.width=Math.min(o.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);case"scroll-handle":return l=this.target,l===document.body?(l=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=u(l),s=getComputedStyle(l),n=l.scrollWidth>l.clientWidth||"scroll"===[s.overflow,s.overflowX]||this.target!==document.body,r=0,n&&(r=15),i=e.height-parseFloat(s.borderTopWidth)-parseFloat(s.borderBottomWidth)-r,o={width:15,height:.975*i*(i/l.scrollHeight),left:e.left+e.width-parseFloat(s.borderLeftWidth)-15},t=0,i<408&&this.target===document.body&&(t=-11e-5*Math.pow(i,2)-.00727*i+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24)),a=this.target.scrollTop/(l.scrollHeight-i),o.top=a*(i-o.height-t)+e.top+parseFloat(s.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}},e.prototype.clearCache=function(){return this._cache={}},e.prototype.cache=function(e,t){return null==this._cache&&(this._cache={}),null==this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},e.prototype.enable=function(e){if(null==e&&(e=!0),o(this.target,this.getClass("enabled")),o(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e)return this.position()},e.prototype.disable=function(){if(w(this.target,this.getClass("enabled")),w(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent)return this.scrollParent.removeEventListener("scroll",this.position)},e.prototype.destroy=function(){var e,t,n,i;for(this.disable(),i=[],e=t=0,n=y.length;t<n;e=++t){if(y[e]===this){y.splice(e,1);break}i.push(void 0)}return i},e.prototype.updateAttachClasses=function(e,t){var n,i,o,r,a,s,c,d,u,h=this;for(null==e&&(e=this.attachment),null==t&&(t=this.targetAttachment),r=["left","top","bottom","right","middle","center"],(null!=(u=this._addAttachClasses)?u.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],e.top&&n.push(this.getClass("element-attached")+"-"+e.top),e.left&&n.push(this.getClass("element-attached")+"-"+e.left),t.top&&n.push(this.getClass("target-attached")+"-"+t.top),t.left&&n.push(this.getClass("target-attached")+"-"+t.left),i=[],a=0,c=r.length;a<c;a++)o=r[a],i.push(this.getClass("element-attached")+"-"+o);for(s=0,d=r.length;s<d;s++)o=r[s],i.push(this.getClass("target-attached")+"-"+o);return l(function(){if(null!=h._addAttachClasses)return x(h.element,h._addAttachClasses,i),x(h.target,h._addAttachClasses,i),h._addAttachClasses=void 0})},e.prototype.position=function(e){var t,n,o,l,c,f,g,m,v,b,w,y,k,x,C,S,j,T,E,A,I,M,P,N,F,z,q,L,O,D,Q,H,W,U,B=this;if(null==e&&(e=!0),this.enabled){for(this.clearCache(),E=s(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,E),t=this.cache("element-bounds",function(){return u(B.element)}),N=t.width,n=t.height,0===N&&0===n&&null!=this.lastSize?(O=this.lastSize,N=O.width,n=O.height):this.lastSize={width:N,height:n},M=I=this.cache("target-bounds",function(){return B.getTargetBounds()}),m=_(a(this.attachment),{width:N,height:n}),A=_(a(E),M),l=_(this.offset,{width:N,height:n}),c=_(this.targetOffset,M),m=r(m,l),A=r(A,c),o=I.left+A.left-m.left,P=I.top+A.top-m.top,D=i.modules,F=0,q=D.length;F<q;F++)if(f=D[F],null!=(x=f.position.call(this,{left:o,top:P,targetAttachment:E,targetPos:I,attachment:this.attachment,elementPos:t,offset:m,targetOffset:A,manualOffset:l,manualTargetOffset:c,scrollbarSize:j}))&&"object"==typeof x){if(!1===x)return!1;P=x.top,o=x.left}if(g={page:{top:P,left:o},viewport:{top:P-pageYOffset,bottom:pageYOffset-P-n+innerHeight,left:o-pageXOffset,right:pageXOffset-o-N+innerWidth}},document.body.scrollWidth>window.innerWidth&&(j=this.cache("scrollbar-size",p),g.viewport.bottom-=j.height),document.body.scrollHeight>window.innerHeight&&(j=this.cache("scrollbar-size",p),g.viewport.right-=j.width),(""!==(Q=document.body.style.position)&&"static"!==Q||""!==(H=document.body.parentElement.style.position)&&"static"!==H)&&(g.page.bottom=document.body.scrollHeight-P-n,g.page.right=document.body.scrollWidth-o-N),!1!==(null!=(W=this.options.optimizations)?W.moveElement:void 0)&&null==this.targetModifier){for(b=this.cache("target-offsetparent",function(){return h(B.target)}),k=this.cache("target-offsetparent-bounds",function(){return u(b)}),y=getComputedStyle(b),getComputedStyle(this.element),w=k,v={},U=["Top","Left","Bottom","Right"],z=0,L=U.length;z<L;z++)T=U[z],v[T.toLowerCase()]=parseFloat(y["border"+T+"Width"]);k.right=document.body.scrollWidth-k.left-w.width+v.right,k.bottom=document.body.scrollHeight-k.top-w.height+v.bottom,g.page.top>=k.top+v.top&&g.page.bottom>=k.bottom&&g.page.left>=k.left+v.left&&g.page.right>=k.right&&(S=b.scrollTop,C=b.scrollLeft,g.offset={top:g.page.top-k.top+S-v.top,left:g.page.left-k.left+C-v.left})}return this.move(g),this.history.unshift(g),this.history.length>3&&this.history.pop(),e&&d(),!0}},e.prototype.move=function(e){var t,n,i,o,r,a,s,d,u,p,f,g,_,m,v,b,w,y=this;if(null!=this.element.parentNode){d={};for(p in e){d[p]={};for(o in e[p]){for(i=!1,b=this.history,m=0,v=b.length;m<v;m++)if(s=b[m],!C(null!=(w=s[p])?w[o]:void 0,e[p][o])){i=!0;break}i||(d[p][o]=!0)}}t={top:"",left:"",right:"",bottom:""},u=function(e,n){var i,o,r;return!1===(null!=(r=y.options.optimizations)?r.gpu:void 0)?(e.top?t.top=n.top+"px":t.bottom=n.bottom+"px",e.left?t.left=n.left+"px":t.right=n.right+"px"):(e.top?(t.top=0,o=n.top):(t.bottom=0,o=-n.bottom),e.left?(t.left=0,i=n.left):(t.right=0,i=-n.right),t[k]="translateX("+Math.round(i)+"px) translateY("+Math.round(o)+"px)","msTransform"!==k?t[k]+=" translateZ(0)":void 0)},r=!1,(d.page.top||d.page.bottom)&&(d.page.left||d.page.right)?(t.position="absolute",u(d.page,e.page)):(d.viewport.top||d.viewport.bottom)&&(d.viewport.left||d.viewport.right)?(t.position="fixed",u(d.viewport,e.viewport)):null!=d.offset&&d.offset.top&&d.offset.left?(t.position="absolute",a=this.cache("target-offsetparent",function(){return h(y.target)}),h(this.element)!==a&&l(function(){return y.element.parentNode.removeChild(y.element),a.appendChild(y.element)}),u(d.offset,e.offset),r=!0):(t.position="absolute",u({top:!0,left:!0},e.page)),r||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),_={},g=!1;for(o in t)f=t[o],n=this.element.style[o],""===n||""===f||"top"!==o&&"left"!==o&&"bottom"!==o&&"right"!==o||(n=parseFloat(n),f=parseFloat(f)),n!==f&&(g=!0,_[o]=t[o]);return g?l(function(){return c(y.element.style,_)}):void 0}},e}(),i.position=b,this.Tether=c(S,i)}.call(this),function(){var e,t,n,i,o,r,a,s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};a=this.Tether.Utils,a.getOuterSize,o=a.getBounds,a.getSize,n=a.extend,r=a.updateClasses,t=a.defer,e=["left","top","right","bottom"],i=function(t,n){var i,r,a,s,l,c,d;if("scrollParent"===n?n=t.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(r=s=o(n),l=getComputedStyle(n),n=[r.left,r.top,s.width+r.left,s.height+r.top],i=c=0,d=e.length;c<d;i=++c)a=e[i],a=a[0].toUpperCase()+a.substr(1),"Top"===a||"Left"===a?n[i]+=parseFloat(l["border"+a+"Width"]):n[i]-=parseFloat(l["border"+a+"Width"]);return n},this.Tether.modules.push({position:function(a){var l,c,d,u,h,p,f,g,_,m,v,b,w,y,k,x,C,S,j,T,E,A,I,M,P,N,F,z,q,L,O,D,Q,H,W,U,B,$,R,G,Y,J,X,V,Z,K,ee=this;if(P=a.top,v=a.left,T=a.targetAttachment,!this.options.constraints)return!0;for(function(t){var n,i,o,r;for(ee.removeClass(t),r=[],i=0,o=e.length;i<o;i++)n=e[i],r.push(ee.removeClass(t+"-"+n));return r},R=this.cache("element-bounds",function(){return o(ee.element)}),m=R.height,N=R.width,0===N&&0===m&&null!=this.lastSize&&(G=this.lastSize,N=G.width,m=G.height),
A=this.cache("target-bounds",function(){return ee.getTargetBounds()}),E=A.height,I=A.width,j={},_={},c=[this.getClass("pinned"),this.getClass("out-of-bounds")],Y=this.options.constraints,F=0,O=Y.length;F<O;F++)g=Y[F],g.outOfBoundsClass&&c.push(g.outOfBoundsClass),g.pinnedClass&&c.push(g.pinnedClass);for(z=0,D=c.length;z<D;z++)for(f=c[z],J=["left","top","right","bottom"],q=0,Q=J.length;q<Q;q++)S=J[q],c.push(f+"-"+S);for(l=[],j=n({},T),_=n({},this.attachment),X=this.options.constraints,L=0,H=X.length;L<H;L++){if(g=X[L],M=g.to,d=g.attachment,k=g.pin,null==d&&(d=""),s.call(d," ")>=0?(V=d.split(" "),p=V[0],h=V[1]):h=p=d,u=i(this,M),"target"!==p&&"both"!==p||(P<u[1]&&"top"===j.top&&(P+=E,j.top="bottom"),P+m>u[3]&&"bottom"===j.top&&(P-=E,j.top="top")),"together"===p&&(P<u[1]&&"top"===j.top&&("bottom"===_.top?(P+=E,j.top="bottom",P+=m,_.top="top"):"top"===_.top&&(P+=E,j.top="bottom",P-=m,_.top="bottom")),P+m>u[3]&&"bottom"===j.top&&("top"===_.top?(P-=E,j.top="top",P-=m,_.top="bottom"):"bottom"===_.top&&(P-=E,j.top="top",P+=m,_.top="top")),"middle"===j.top&&(P+m>u[3]&&"top"===_.top?(P-=m,_.top="bottom"):P<u[1]&&"bottom"===_.top&&(P+=m,_.top="top"))),"target"!==h&&"both"!==h||(v<u[0]&&"left"===j.left&&(v+=I,j.left="right"),v+N>u[2]&&"right"===j.left&&(v-=I,j.left="left")),"together"===h&&(v<u[0]&&"left"===j.left?"right"===_.left?(v+=I,j.left="right",v+=N,_.left="left"):"left"===_.left&&(v+=I,j.left="right",v-=N,_.left="right"):v+N>u[2]&&"right"===j.left?"left"===_.left?(v-=I,j.left="left",v-=N,_.left="right"):"right"===_.left&&(v-=I,j.left="left",v+=N,_.left="left"):"center"===j.left&&(v+N>u[2]&&"left"===_.left?(v-=N,_.left="right"):v<u[0]&&"right"===_.left&&(v+=N,_.left="left"))),"element"!==p&&"both"!==p||(P<u[1]&&"bottom"===_.top&&(P+=m,_.top="top"),P+m>u[3]&&"top"===_.top&&(P-=m,_.top="bottom")),"element"!==h&&"both"!==h||(v<u[0]&&"right"===_.left&&(v+=N,_.left="left"),v+N>u[2]&&"left"===_.left&&(v-=N,_.left="right")),"string"==typeof k?k=function(){var e,t,n,i;for(n=k.split(","),i=[],t=0,e=n.length;t<e;t++)y=n[t],i.push(y.trim());return i}():!0===k&&(k=["top","left","right","bottom"]),k||(k=[]),x=[],b=[],P<u[1]&&(s.call(k,"top")>=0?(P=u[1],x.push("top")):b.push("top")),P+m>u[3]&&(s.call(k,"bottom")>=0?(P=u[3]-m,x.push("bottom")):b.push("bottom")),v<u[0]&&(s.call(k,"left")>=0?(v=u[0],x.push("left")):b.push("left")),v+N>u[2]&&(s.call(k,"right")>=0?(v=u[2]-N,x.push("right")):b.push("right")),x.length)for(C=null!=(Z=this.options.pinnedClass)?Z:this.getClass("pinned"),l.push(C),B=0,W=x.length;B<W;B++)S=x[B],l.push(C+"-"+S);if(b.length)for(w=null!=(K=this.options.outOfBoundsClass)?K:this.getClass("out-of-bounds"),l.push(w),$=0,U=b.length;$<U;$++)S=b[$],l.push(w+"-"+S);(s.call(x,"left")>=0||s.call(x,"right")>=0)&&(_.left=j.left=!1),(s.call(x,"top")>=0||s.call(x,"bottom")>=0)&&(_.top=j.top=!1),j.top===T.top&&j.left===T.left&&_.top===this.attachment.top&&_.left===this.attachment.left||this.updateAttachClasses(_,j)}return t(function(){return r(ee.target,l,c),r(ee.element,l,c)}),{top:P,left:v}}})}.call(this),function(){var e,t,n,i;i=this.Tether.Utils,t=i.getBounds,n=i.updateClasses,e=i.defer,this.Tether.modules.push({position:function(i){var o,r,a,s,l,c,d,u,h,p,f,g,_,m,v,b,w,y,k,x,C,S,j,T,E,A=this;if(f=i.top,c=i.left,C=this.cache("element-bounds",function(){return t(A.element)}),l=C.height,g=C.width,p=this.getTargetBounds(),s=f+l,d=c+g,o=[],f<=p.bottom&&s>=p.top)for(S=["left","right"],_=0,w=S.length;_<w;_++)u=S[_],(j=p[u])!==c&&j!==d||o.push(u);if(c<=p.right&&d>=p.left)for(T=["top","bottom"],m=0,y=T.length;m<y;m++)u=T[m],(E=p[u])!==f&&E!==s||o.push(u);for(a=[],r=[],h=["left","top","right","bottom"],a.push(this.getClass("abutted")),v=0,k=h.length;v<k;v++)u=h[v],a.push(this.getClass("abutted")+"-"+u);for(o.length&&r.push(this.getClass("abutted")),b=0,x=o.length;b<x;b++)u=o[b],r.push(this.getClass("abutted")+"-"+u);return e(function(){return n(A.target,r,a),n(A.element,r,a)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(e){var t,n,i,o,r,a,s;if(a=e.top,t=e.left,this.options.shift)return n=function(e){return"function"==typeof e?e.call(this,{top:a,left:t}):e},i=n(this.options.shift),"string"==typeof i?(i=i.split(" "),i[1]||(i[1]=i[0]),r=i[0],o=i[1],r=parseFloat(r,10),o=parseFloat(o,10)):(s=[i.top,i.left],r=s[0],o=s[1]),a+=r,t+=o,{top:a,left:t}}})}.call(this),this.Tether}),function(e,t){"function"==typeof define&&define.amd?define("shepherd",["tether"],t):"object"==typeof exports?module.exports=t(require("tether")):e.Shepherd=t(e.Tether)}(this,function(e){return function(){var t,n,i,o,r,a,s,l,c,d,u,h,p,f,g=function(e,t){return function(){return e.apply(t,arguments)}},_={}.hasOwnProperty,m=function(e,t){function n(){this.constructor=e}for(var i in t)_.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};f=e.Utils,l=f.extend,h=f.removeClass,a=f.addClass,c=f.hasClass,n=f.Evented,f.getBounds,p=f.uniqueId,i=new n,t={top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center"},s=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.children[0]},d=function(e,t){var n,i,o,r,a,s;return n=null!=(i=null!=(o=null!=(r=null!=(a=null!=(s=e.matches)?s:e.matchesSelector)?a:e.msMatchesSelector)?r:e.webkitMatchesSelector)?o:e.mozMatchesSelector)?i:e.oMatchesSelector,n.call(e,t)},u=function(e,t){var n,i,o,r,a,s;if(null==e)return e;if("object"==typeof e)return e;for(r=e.split(" "),r.length>t.length&&(r[0]=r.slice(0,+(r.length-t.length)+1||9e9).join(" "),r.splice(1,r.length-t.length)),i={},n=a=0,s=t.length;a<s;n=++a)o=t[n],i[o]=r[n];return i},o=function(n){function i(e,t){this.tour=e,this.destroy=g(this.destroy,this),this.scrollTo=g(this.scrollTo,this),this.complete=g(this.complete,this),this.cancel=g(this.cancel,this),this.isOpen=g(this.isOpen,this),this.hide=g(this.hide,this),this.show=g(this.show,this),this.setOptions(t)}return m(i,n),i.prototype.setOptions=function(e){var t,n,i,o;if(this.options=null!=e?e:{},this.destroy(),this.id=this.options.id||this.id||"step-"+p(),this.options.when){o=this.options.when;for(t in o)n=o[t],this.on(t,n,this)}return null!=(i=this.options).buttons?(i=this.options).buttons:i.buttons=[{text:"Next",action:this.tour.next}]},i.prototype.getTour=function(){return this.tour},i.prototype.bindAdvance=function(){var e,t,n,i,o=this;return i=u(this.options.advanceOn,["selector","event"]),e=i.event,n=i.selector,t=function(e){if(o.isOpen())if(null!=n){if(d(e.target,n))return o.tour.next()}else if(o.el&&e.target===o.el)return o.tour.next()},document.body.addEventListener(e,t),this.on("destroy",function(){return document.body.removeEventListener(e,t)})},i.prototype.getAttachTo=function(){var e;if(e=u(this.options.attachTo,["element","on"]),null==e&&(e={}),"string"==typeof e.element&&(e.element=document.querySelector(e.element),null==e.element))throw new Error("Shepherd step's attachTo was not found in the page");return e},i.prototype.setupTether=function(){var n,i,o;if(void 0===e||null===e)throw new Error("Using the attachment feature of Shepherd requires the Tether library");return i=this.getAttachTo(),n=t[i.on||"right"],null==i.element&&(i.element="viewport",n="middle center"),o={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:i.element,offset:i.offset||"0 0",attachment:n},this.tether=new e(l(o,this.options.tetherOptions))},i.prototype.show=function(){var e=this;return null==this.el&&this.render(),a(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){return e.scrollTo()}),this.trigger("show")},i.prototype.hide=function(){var e;return h(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),null!=(e=this.tether)&&e.destroy(),this.tether=null,this.trigger("hide")},i.prototype.isOpen=function(){return c(this.el,"shepherd-open")},i.prototype.cancel=function(){return this.tour.cancel(),this.trigger("cancel")},i.prototype.complete=function(){return this.tour.complete(),this.trigger("complete")},i.prototype.scrollTo=function(){var e;return e=this.getAttachTo().element,null!=this.options.scrollToHandler?this.options.scrollToHandler(e):null!=e?e.scrollIntoView():void 0},i.prototype.destroy=function(){var e;return null!=this.el&&(document.body.removeChild(this.el),delete this.el),null!=(e=this.tether)&&e.destroy(),this.tether=null,this.trigger("destroy")},i.prototype.render=function(){var e,t,n,i,o,r,a,l,c,d,u,h,p,f,g,_,m;if(null!=this.el&&this.destroy(),this.el=s("<div class='shepherd-step "+(null!=(g=this.options.classes)?g:"")+"' data-id='"+this.id+"'></div>"),i=document.createElement("div"),i.className="shepherd-content",this.el.appendChild(i),r=document.createElement("header"),i.appendChild(r),null!=this.options.title&&(r.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink&&(a=s("<a href class='shepherd-cancel-link'>✕</a>"),r.appendChild(a),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(a)),null!=this.options.text){if(d=s("<div class='shepherd-text'></div>"),c=this.options.text,"function"==typeof c&&(c=this.options.text.call(this,d)),c instanceof HTMLElement)d.appendChild(c);else for("string"==typeof c&&(c=[c]),u=0,p=c.length;u<p;u++)l=c[u],d.innerHTML+="<p>"+l+"</p>";i.appendChild(d)}if(o=document.createElement("footer"),this.options.buttons){for(t=s("<ul class='shepherd-buttons'></ul>"),_=this.options.buttons,h=0,f=_.length;h<f;h++)n=_[h],e=s("<li><a class='shepherd-button "+(null!=(m=n.classes)?m:"")+"'>"+n.text+"</a>"),t.appendChild(e),this.bindButtonEvents(n,e.querySelector("a"));o.appendChild(t)}if(i.appendChild(o),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn)return this.bindAdvance()},i.prototype.bindCancelLink=function(e){var t=this;return e.addEventListener("click",function(e){return e.preventDefault(),t.cancel()})},i.prototype.bindButtonEvents=function(e,t){var n,i,o,r,a=this;null==e.events&&(e.events={}),null!=e.action&&(e.events.click=e.action),r=e.events;for(n in r)i=r[n],"string"==typeof i&&(o=i,i=function(){return a.tour.show(o)}),t.addEventListener(n,i);return this.on("destroy",function(){var o,r;o=e.events,r=[];for(n in o)i=o[n],r.push(t.removeEventListener(n,i));return r})},i}(n),r=function(e){function t(e){var t,n,o,r,a,s,l=this;for(this.options=null!=e?e:{},this.hide=g(this.hide,this),this.complete=g(this.complete,this),this.cancel=g(this.cancel,this),this.back=g(this.back,this),this.next=g(this.next,this),this.steps=null!=(a=this.options.steps)?a:[],s=["complete","cancel","hide","start","show","active","inactive"],n=function(e){return l.on(e,function(t){return null==t&&(t={}),t.tour=l,i.trigger(e,t)})},o=0,r=s.length;o<r;o++)t=s[o],n(t)}return m(t,e),t.prototype.addStep=function(e,t){var n;return null==t&&(t=e),t instanceof o?t.tour=this:("string"!=(n=typeof e)&&"number"!==n||(t.id=e.toString()),t=l({},this.options.defaults,t),t=new o(this,t)),this.steps.push(t),this},t.prototype.getById=function(e){var t,n,i,o;for(o=this.steps,n=0,i=o.length;n<i;n++)if(t=o[n],t.id===e)return t},t.prototype.getCurrentStep=function(){return this.currentStep},t.prototype.next=function(){var e;return e=this.steps.indexOf(this.currentStep),e===this.steps.length-1?(this.hide(e),this.trigger("complete"),this.done()):this.show(e+1)},t.prototype.back=function(){var e;return e=this.steps.indexOf(this.currentStep),this.show(e-1)},t.prototype.cancel=function(){var e;return null!=(e=this.currentStep)&&e.hide(),this.trigger("cancel"),this.done()},t.prototype.complete=function(){var e;return null!=(e=this.currentStep)&&e.hide(),this.trigger("complete"),this.done()},t.prototype.hide=function(){var e;return null!=(e=this.currentStep)&&e.hide(),this.trigger("hide"),this.done()},t.prototype.done=function(){return i.activeTour=null,h(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})},t.prototype.show=function(e){var t;if(null==e&&(e=0),this.currentStep?this.currentStep.hide():(a(document.body,"shepherd-active"),this.trigger("active",{tour:this})),i.activeTour=this,t="string"==typeof e?this.getById(e):this.steps[e])return this.trigger("show",{step:t,previous:this.currentStep}),this.currentStep=t,t.show()},t.prototype.start=function(){return this.trigger("start"),this.currentStep=null,this.next()},t}(n),l(i,{Tour:r,Step:o,Evented:n}),window.Shepherd=i}.call(this),Shepherd}),define("callout",["jquery","shepherd","tether","jquery_cookie"],function(e,t,n){return{init:function(){if(!(!e(".include_onboarding_callouts").length||void 0!==e.cookie("cms_site_visited")&&null!==e.cookie("cms_site_visited")||e(document).width()<480)){e.cookie("cms_site_visited",!0,{expires:3650,path:"/"}),tour=new t.Tour({defaults:{classes:"shepherd-callouts",showCancelLink:!0}});tour.addStep("search-step",{text:e(".search_block_callout_text.callout_desc").val(),title:e(".search_block_callout_text.callout_title").val(),attachTo:"#search_starter_block bottom",classes:"shepherd-callouts arrow-top-right search-callout",tetherOptions:{targetAttachment:"bottom right",attachment:"top right",targetOffset:"30px 0",offset:"0 20px",constraints:[{to:"scrollParent",pin:!1}],optimizations:{gpu:!1}},buttons:[{text:e(".search_block_callout_text.callout_morebutton").val(),classes:"more-button",events:{click:function(){window.location.href=e(".search_block_callout_text.callout_morebuttonurl").val()}}},{text:e(".search_block_callout_text.callout_okbutton").val(),classes:"ok-button",action:tour.next}]});t.on("show",function(){e(".disablingDiv").click(function(e){e.stopPropagation()})});for(var i=0;i<tour.steps.length;i++){var o=tour.steps[i];o.on("show",function(){e("a.shepherd-button").attr("href","javascript:void(0);"),e("a.shepherd-button").attr("tab-index",0),e("div.shepherd-open").attr("role","dialog"),e("div.shepherd-open").first().focus(),e(".shepherd-cancel-link").text("close"),n.position()}),o.on("hide",function(){e("div.shepherd-step").attr("aria-hidden","true")})}tour.start()}}}}),define("ga_events",["jquery"],function(e){function t(e){if("LIVE"!==window.bc_Environment.enviroment){for(var t=!1,n=3;n<e.length;n++)"string"==typeof e[n]&&(null!=e[n].match(/undefined #null/)?t=!0:null!=e[n].match(/false #/)?t=!0:null!=e[n].match(/&amp;/)&&(t=!0));t&&(alert("ga_events.js warning"),console.warn("ga_events.js warning",e))}void 0!==window.bc_Environment.ga_cms_universal&&window.bc_Environment.ga_cms_universal&&(e[0]="ga_cms_universal.send",ga.apply(this,e)),void 0!==window.bc_Environment.ga_cms_library&&window.bc_Environment.ga_cms_library&&(e[0]="ga_cms_library.send",ga.apply(this,e)),void 0!==window.bc_Environment.ga_core_library&&window.bc_Environment.ga_core_library&&(e[0]="ga_core_library.send",ga.apply(this,e))}function n(e){return i(e.closest(".channel_card, .card_holder, .browse_card, .content_card, .full_width_channel_wrapper"))}function i(t){var n,i=t.hasClass("channel_card")||t.hasClass("full_width_channel_wrapper"),o=t.hasClass("card_holder")||t.hasClass("pathway_card"),r=t.hasClass("browse_card")||t.hasClass("content_card");if(o||r)if(t.hasClass("instagram_card")||t.find(".instagram_card").length||t.find(".homepage_card").hasClass("instagram_card"))n="Instagram: "+t.find(".description .comment").text().trim().substring(0,50);else if(t.hasClass("poll")||t.find(".poll").length){var a=t.find(".gfield_label").first().text().substring(0,50);if(""==a)var a=t.find(".gpoll_field_label").first().text().substring(0,50);n="Poll Card: "+a}else n=t.find(".content_card_title .content_card_title_short").text().trim()||t.find(".content_card_title .content_card_title_short:visible").text().trim()||t.find(".content_card_title").children(":visible").text().trim()||t.find(".content_card_title").text().trim()||t.find(".card-title").children(":visible").text().trim()||t.find(".card-title").text().trim()||t.find("h3 a").first().children(":visible").text().trim()||t.find("h1 a").first().children(":visible").text().trim()||t.find("h3 a:visible").first().text().trim()||"Tweet: "+t.find("p.single-tweet").text().trim().substring(0,50);else if(i)if(t.hasClass("instagram_card")||t.find(".homepage_card").hasClass("instagram_card"))n="Instagram: "+t.find(".description").text().substring(0,50);else if(t.hasClass("poll")){var a=t.find(".gfield_label").text()||t.find(".content_card_title").text();n="Poll Card: "+a}else n=t.find(".info-block .content_card_title a:visible").first().text()||t.find(".info-block h1 a").children(":visible").text()||t.find(".info-block h2 a:visible").text().trim()||t.find(".info-block h3 a:visible").text().trim()||t.find(".content_card_title a .content_card_title_short").text().trim()||t.find(".content_card_title a:visible").text().trim()||t.find(".channel-tile-heading a").text().trim()||t.find(".gfield_label:visible").text().trim()||"Tweet: "+t.find(".single-tweet").text().substring(0,50);n=s(n);var l=e.trim(n).replace(/(\r\n|\n|\r)/gm,"");return"Poll Card: "!=l&&""!=l&&"Tweet:"!=l&&l}function o(e){var t=e.parents(".channel_card, .card_holder, .browse_card, .content_card, .full_width_channel_wrapper");return t.hasClass("full_width_channel_wrapper")&&(t=t.find(".channel_card:visible").first()),a(t)}function r(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}function a(e){return e.attr("card-id")?e.attr("card-id").replace("card-",""):e.attr("param-cardid")?e.attr("param-cardid"):e.attr("id")?e.attr("id").replace("card-",""):null}function s(e){return String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').trim()}return{init:function(){var l=!!e(".pathway_columns").length,c=!!e("#homepage_grid .homepage_column").length,d=!!e("body.home").length;if("function"==typeof ga){var u=[];e(document).on("click",'.browse_card .medium_card_link_box a, .full_width_channel_wrapper .share_for_no_title a,.pin_wrap h1 a, .content_card .content_card_title, .content_card .content_card_title a, .content_card .content_card_image, .content_card .list-img-container, .content_card .instagram_image, .content_card .instagram_card .user_info, .content_card .twitter_image, .content_card li[class^="icon-"], .content_card .gform_button, .content_card .related_information, .channel_card .list-covers-image a, .channel_card .featured_image, .channel_card .content_card_title, .channel_card .content_card_title a, .channel_card .channel-tile-heading, .channel_card .channel-tile-heading a, .channel_card li[class^="icon-"], .card_holder .card-title, .card_holder .card-title a, .card_holder a img.link_box, .card_holder a .link_box img, .card_holder .link_box a img, .card_holder li[class^="icon-"], .card_holder .gform_button ',function(i){var r="click_"+i.pageY+"_"+i.pageX+"_"+i.timeStamp;if(!(u.indexOf(r)>=0)){u.push(r);var a=n(e(this)),s=o(e(this)),h="";e(this).closest(".home").length?h="from the Homepage":e(this).closest(".tax-bc_program").length?h="from a Program Page":e(this).closest(".tax-bc_browse").length&&(h="from a Browse Page");var p=[];p.push(["send","event","card_click",a+" #"+s]),e(this).closest(".icon-facebook").length?(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Shared on Facebook"]),p.push(["send","event","share","facebook",a+" #"+s]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Shared on Facebook "+h])):e(this).closest(".icon-twitter").length?(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Shared on Twitter"]),p.push(["send","event","share","twitter",a+" #"+s]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Shared on Twitter "+h])):e(this).closest(".icon-pinterest").length?(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Shared on Pinterest"]),p.push(["send","event","share","pinterest",a+" #"+s]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Shared on Pinterest "+h])):e(this).closest(".icon-paper-plane").length?(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Shared on Email"]),p.push(["send","event","share","email",a+" #"+s]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Shared on Email "+h])):e(this).closest(".icon-gplus").length?(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Shared on Google Plus"]),p.push(["send","event","share","gplus",a+" #"+s]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Shared on Google Plus "+h])):e(this).closest(".homepage_card h3, .homepage_card h1, .homepage_card p.single-tweet, .channel_card h3, .channel_card h2, .channel_card h1, .channel_card p.single-tweet, .content_card_title a, .channel-tile-heading a").length?(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Title Clicked"]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Title Clicked "+h]),c?e(this).parents(".home .card_holder").index()<4&&p.push(["send","event","above_fold_cards",a+" #"+s,a+" first four interaction #"+s]):l&&e(this).parents(".home .card_holder").index()<1&&p.push(["send","event","above_fold_cards",a+" #"+s,a+" first three interaction #"+s])):e(this).closest(".gform_button").length?(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Form Submitted"]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Form Submitted "+h]),c?e(this).parents(".home .card_holder").index()<4&&p.push(["send","event","above_fold_cards",a+" #"+s,a+" first four interaction #"+s]):l&&e(this).parents(".home .card_holder").index()<1&&p.push(["send","event","above_fold_cards",a+" #"+s,a+" first three interaction #"+s])):e(this).closest(".homepage_card .link_box, .channel_card .featured_image, .instagram_image, .twitter_image_link, .content_card_image, .list-img-container, .list-covers-image").length&&(d&&p.push(["send","event","event_by_card_id",a+" #"+s,"Card Image Clicked"]),h&&p.push(["send","event","detailed_event_by_card_id",a+" #"+s,"Card Image Clicked "+h]),c?e(this).parents(".home .card_holder").index()<4&&p.push(["send","event","above_fold_cards",a+" #"+s,a+" first four interaction #"+s]):l&&e(this).parents(".home .card_holder").index()<1&&p.push(["send","event","above_fold_cards",a+" #"+s,a+" first three interaction #"+s]));for(var f=0;f<p.length;f++)t(p[f])}}),e(".home").on("click","#back_to_all_formats, #back_to_all",function(){t(["send","event","navigation","view_all_click","View All Was Clicked"])}),e(".call_out_button").click(function(){var n;n=e(this).parents(".card_holder").length?e(this).parents(".card_holder"):e(this).closest(".content_card");var o=i(n),r=a(n);o&&(t(["send","event","callout_click","Call Out Button Clicked",o+" #"+r,1]),d&&t(["send","event","event_by_card_id",o+" #"+r,"Call Out Button Clicked"]))}),e(".poll .call_out_contributions, .channel_card .related_information").on("click",function(){var n;n=e(this).parents(".card_holder").length?e(this).parents(".card_holder"):e(this).closest(".content_card");var o=i(n);if(o){var r=a(n);t(["send","event","callout_click","Related Information Button Clicked",o+" #"+r,1]),d&&t(["send","event","event_by_card_id",o+" #"+r,"Related Information Button Clicked"])}}),e("#homepage_grid").on("click",".card_holder .card_pathway_header a",function(){var n=e(this).attr("data-parent")||e(this).text();t(["send","event","pathway_click",n,e(this).attr("data-child")||e(this).parent().text().trim().replace(n+" /","")])}),e(".home").on("click.showmoretrack","#show_more_cards",function(){e(".home").off("click.showmoretrack"),t(["send","event","show_more","show_more_home","Show More Was Clicked"])}),e(".page_browse").on("click.showmoretrack","#new_load_more_rows",function(){e(".page_browse").off("click.showmoretrack"),t(["send","event","show_more","show_more"+window.location.pathname.split("/").join("_"),"Show More Was Clicked on Browse"])}),e(".popover-btn").bind("click",function(e){t(["send","event","banner","banner_click","Banner Was Clicked"])}),e(".home #page").on("click",".card_pathway_header a",function(i){var r=e(this).parents(".card_holder").find(".card_pathway_header a").first().attr("data-parent")||e(this).parents(".card_holder").find(".card_pathway_header a").first().html().trim();r=s(r);var a=o(e(this)),u=n(e(this));d&&t(["send","event","event_by_card_id",u+" #"+a,r+" Experience Pathway Clicked"]),t(["send","event","experience_pathway_events",r,u+" #"+a]),c?e(this).parents(".card_holder").index()<4&&t(["send","event","above_fold_cards",u+" #"+a,u+" first four interaction #"+a]):l&&e(this).parents(".card_holder").index()<1&&t(["send","event","above_fold_cards",u+" #"+a,u+" first three interaction #"+a])}),e(".home #page").on("click",".content_type_flag_home",function(){var i=e(this).parents(".card_holder").find(".content_type_flag_home").first().html();i=s(i);var r=n(e(this)),a=o(e(this));d&&t(["send","event","event_by_card_id",r+" #"+a,i+" Format Clicked"]),t(["send","event","format_filter_events",i,r+" #"+a]),c?e(this).parents(".card_holder").index()<4&&t(["send","event","above_fold_cards",r+" #"+a,r+" first four interaction #"+a]):l&&e(this).parents(".card_holder").index()<1&&t(["send","event","above_fold_cards",r+" #"+a,r+" first three interaction #"+a])}),e(".home").on("click",".channel_format, .content_card_type",function(i){var r=n(e(this)),a=o(e(this)),l=e(this).first().text();l=s(l),t(["send","event","format_filter_events",l,r+" #"+a]),d&&t(["send","event","event_by_card_id",r+" #"+a,l+" Format Clicked"])}),e(".flip-next").bind("click",function(){var n=e(this).parent().parent().parent().attr("class"),i=n.indexOf("analytics_index_");t(["send","event","channel_corner_clicks","Forward Arrow","position "+n.substring(i,i+18).replace(/[-_ a-z]/g,"")]),t(["send","event","arrow_clicks_by_label",e(this).parent().parent().parent().find(".channel-name").text(),"Forward Arrow"])}),e(".flip-prev").bind("click",function(){var n=e(this).parent().parent().parent().attr("class"),i=n.indexOf("analytics_index_");t(["send","event","channel_corner_clicks","Back Arrow","position "+n.substring(i,i+18).replace(/[-_ a-z]/g,"")]),t(["send","event","arrow_clicks_by_label",e(this).parent().parent().parent().find(".channel-name").text(),"Back Arrow"])}),e(".bx-next").bind("click",function(){var n=e(this).parents(".full_width_channel_wrapper");if(n.length>0){var i=n.first().attr("class"),o=i.indexOf("analytics_index_"),r=i.substring(o,o+18),a=r.replace(/[-_ a-z]/g,"");a="position "+a,t(["send","event","channel_corner_clicks","Forward Arrow",a]);var s="";s=0==e(this).closest(".slider_wrapper").length?e(this).parents(".full_width_channel_wrapper").first().attr("data-label"):e(this).closest(".slider_wrapper").attr("data-label"),t(["send","event","arrow_clicks_by_label",s,"Forward Arrow"])}}),e(".bx-prev").bind("click",function(){var n=e(this).parents(".full_width_channel_wrapper");if(n.length>0){var i=n.first().attr("class"),o=i.indexOf("analytics_index_"),r=i.substring(o,o+18),a=r.replace(/[-_ a-z]/g,"");a="position "+a,t(["send","event","channel_corner_clicks","Backward Arrow",a]);var s="";s=0==e(this).closest(".slider_wrapper").length?e(this).parents(".full_width_channel_wrapper").first().attr("data-label"):e(this).closest(".slider_wrapper").attr("data-label"),t(["send","event","arrow_clicks_by_label",s,"Backward Arrow"])}}),e(".bx-pager-item").bind("click",function(){var n=e(this).parents(".full_width_channel_wrapper");if(n.length>0){var i=n.first().attr("class"),o=i.indexOf("analytics_index_"),r=i.substring(o,o+18),a=r.replace(/[-_ a-z]/g,"");a="position "+a;e(".bx-pager-item").length;t(["send","event","channel_corner_clicks","Dot Clicked",a]);var s="";s=0==e(this).closest(".slider_wrapper").length?e(this).parents(".full_width_channel_wrapper").first().attr("data-label"):e(this).closest(".slider_wrapper").attr("data-label"),t(["send","event","arrow_clicks_by_label",s,"Dot Clicked"])}}),e(".ch-carousel-arrow").bind("click",function(){e(".channel-name").length>0&&t(["send","event","channel_carousel_clicks","Channel Carousel Clicks"])}),e(".channel-name").length>0&&(e(".channel-name").bind("click",function(n){t(["send","event","channel_display_activity","Channel Topic Clicks",s(e(this).text()),1])}),e(".carousel-content .channel_card h3 a, .channel_card h2 a, .carousel-content .featured_image").bind("click",function(){var i=n(e(this)),r=o(e(this));d&&(t(["send","event","event_by_card_id",i+" #"+r,"Click on channel "+s(e(this).text())]),t(["send","event","event_by_card_id",i+" #"+r,"Title Clicked"])),t(["send","event","carousel_click",i+" #"+r+" clicked in carousel"])})),e(".hero-block-bg-link").bind("click",function(){t(["send","event","hero_click",s(e(this).attr("aria-label")),"Image Clicked"])}),e(".hero-block-title-link").bind("click",function(){t(["send","event","hero_click",s(e(this).text()),"Title Clicked"])}),e("#hero-container .bx-controls .bx-prev").bind("click",function(){t(["send","event","hero_control_click","Hero Navigation Clicked","Backward Arrow"])}),e("#hero-container .bx-controls .bx-next").bind("click",function(){t(["send","event","hero_control_click","Hero Navigation Clicked","Forward Arrow"])}),e("#hero-container .bx-controls .bx-pager-link").bind("click",function(){t(["send","event","hero_control_click","Hero Navigation Clicked","Dot"])}),e(".logo a").bind("click",function(){t(["send","event","menutracking","Top Navigation","Logo Clicked"])}),e(".hours_locations_expanded").bind("click",function(){t(["send","event","menutracking","Top Navigation","Hours and Locations Clicked"])}),e(".cms_home_link").bind("click",function(){t(["send","event","menutracking","Top Navigation","Home Clicked"])}),e("a.main_nav_link").bind("click",function(){var n=s(e(this).text());t(r().width>640?["send","event","menutracking","Top Navigation",n]:["send","event","menutracking","Mobile Sub Nav Clicked",n])}),e(".second_tier a, .third_tier a").bind("click",function(){var n=s(e(this).text()),i=e(this).closest(".sub_nav_menu_cms").find(".slidedown_heading").first();1==i.length&&(n=s(i.text())+" - "+n),t(r().width>640?["send","event","menutracking","Sub Nav Clicked",n]:["send","event","menutracking","Mobile Sub Nav Clicked",n])}),e("#mobile_more_trigger").bind("click",function(){t(["send","event","menutracking","Top Navigation","Mobile Menu Opened"])}),e("#search_trigger, #link_mobile_search_trigger").bind("click",function(){t(["send","event","menutracking","Top Navigation","Search Opened"])}),e("#link_mobile_locations").bind("click",function(){t(["send","event","menutracking","Top Navigation","Locations Icon Clicked"])}),e("#link_mobile_help").bind("click",function(){t(["send","event","menutracking","Top Navigation","Help Icon Clicked"])}),e("#link_mobile_events").bind("click",function(){t(["send","event","menutracking","Top Navigation","Events Icon Clicked"])}),e("#usernav_trigger").bind("click",function(){t(["send","event","menutracking","Top Navigation","My Account/Login Clicked"])}),e(".usernav_menu a").bind("click",function(){t(["send","event","menutracking","My Account Drop-down Link Clicked",s(e(this).text())])}),e(".help_menu_trigger").bind("click",function(){t(["send","event","menutracking","Top Navigation","Help Menu Opened"])}),e("#help_dropdown_menu a").bind("click",function(){t(["send","event","menutracking","Help Menu Item Clicked",s(e(this).text())])}),e("#help_dropdown_menu #searchsubmit").bind("click",function(){t(["send","event","menutracking","Help Menu Item Clicked","FAQ Search"])}),e(".footer-all-menu-columns a").bind("click",function(){var n=s(e(this).text()),i=e(this).closest(".footer-menu-column, .footer-menu-row").find("h4").first();1==i.length&&(n=s(i.text())+" - "+n),t(["send","event","menutracking","Main Footer Link Clicked",n])}),e(".small-footer-content a").bind("click",function(){t(["send","event","menutracking","Lower Footer Link Clicked",s(e(this).text())])}),e(".footer-bottom a").bind("click",function(){var n=s(e(this).text())
;e(this).hasClass("support-cpl-link")&&(n=e(this).find("img").attr("alt")),t(["send","event","menutracking","Lower Footer Link Clicked",n])}),e(".social-links-wrapper a").bind("click",function(){t(["send","event","menutracking","Footer Social Link Clicked",s(e(this).text())])}),e("a.donate_button").bind("click",function(){t(["send","event","donate_tab","Donate Tab Clicked",s(e(this).text())])})}}}}),define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](c)}function t(){var t=d;l&&t.length&&(d=[],e(t))}function n(){l||(l=!0,a&&clearInterval(a),t())}function i(e){return l?e(c):d.push(e),i}var o,r,a,s="undefined"!=typeof window&&window.document,l=!s,c=s?document:null,d=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),r=document.createElement("div");try{o=null===window.frameElement}catch(e){}r.doScroll&&o&&window.external&&(a=setInterval(function(){try{r.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return i.version="2.0.1",i.load=function(e,t,n,o){o.isBuild?n(null):i(n)},i}),define("creative_commons",["jquery"],function(e){return{init:function(){e("body").on("click",".creative_commons_icon",function(t){t.preventDefault(),e(this).addClass("hidden").parent().find(".creative_commons_info").removeClass("hidden"),e(this).parent().find(".creative_commons_text").focus()}).on("click",".creative_commons_info .creative_commons_close",function(t){t.preventDefault(),e(this).parent().addClass("hidden").parent().find(".creative_commons_icon").removeClass("hidden").focus()}).on("keydown",".creative_commons_text",function(t){9!==t.which||e(t.target).is("a")||(t.preventDefault(),0===e(this).find("a").length||t.shiftKey?e(this).closest(".creative_commons_container").find(".icon-cancel").click():e(this).find("a").first().focus())}).on("keydown",".creative_commons_container a",function(t){if(9===t.which){t.preventDefault();var n;n=t.shiftKey?e(this).prev("a"):e(this).next("a"),0===n.length?e(this).closest(".creative_commons_container").find(".icon-cancel").click():n.focus()}})},creative_commons_setup:function(){if("-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style){var t=function(){e("#content figure.wp-caption img:visible").each(function(t,n){var i=e(n).closest("figure"),o=i.parent(),r=o.width(),a=e(n).attr("width");void 0!==a&&!1!==a&&r>a?r=a:r>e(n).naturalWidth&&(r=e(n).naturalWidth),i.hasClass("aligncenter")||(r-=parseInt(i.css("margin-left"))+parseInt(i.css("margin-right"))),e(n).css("width",r)})};e(window).resize(t),t()}var n=e("#content").find("[class*=wp-image-]");if(n.length>0){var i=[];n.each(function(t,n){if(!e(n).parent().hasClass("featured_image")){e(n).parent().is("a")?e(n).parent().addClass("featured_image"):e(n).wrap("<div class='featured_image'></div>");var o=e(n).parent();i.push(n.className.match(/wp-image-[0-9]*/g)[0].replace("wp-image-","")),e(n).hasClass("aligncenter")&&(e(n).removeClass("aligncenter"),o.addClass("aligncenter"),o.width(n.width),o.height(n.height)),e(n).hasClass("alignright")&&(e(n).removeClass("alignright"),o.addClass("alignright"),o.width(n.width),o.height(n.height)),e(n).hasClass("alignleft")&&(e(n).removeClass("alignleft"),o.addClass("alignleft"),o.width(n.width),o.height(n.height));var r=e(n).parent().parent().find(".wp-caption-text");r.length&&(r.width(n.width),r.css("display","block"))}}),this.creative_commons_request(i)}},creative_commons_request:function(t){var n=this;return e.ajax({url:"/wp-json/cms/v1/get_creative_commons?images="+t.join(","),dataType:"json",success:function(t){e.each(t,function(t,n){e("#content").find(".wp-image-"+t).parent().append(n)}),n.init()},error:function(e){console.log("error"),console.log(e)}})}}}),define("system_messages",["jquery","jquery_cookie"],function(e){function t(){"false"!==e.cookie("is_local_branch")&&e(".sys_message .close_btn").addClass("hidden")}e(".popover-close-btn").click(function(){e.cookie("SHOW_HOMEPAGE_POPOVER",!1,{domain:location.hostname,expires:14}),e(this).parents(".popover-banner").fadeOut()});var n=e.cookie("cms_hidden_messages")?e.cookie("cms_hidden_messages").split(":"):[];e(".sys_message").each(function(){var t=e(this);-1===e.inArray(t.data("attrMsgid").toString(),n)&&t.show()}),void 0!==e.cookie("is_local_branch")&&null!=e.cookie("is_local_branch")?(t(),function(){"false"!==e.cookie("is_local_branch")&&e(".popover-banner .icon-cancel ").addClass("hidden")}()):e.ajax({url:window.bc_Environment.coreUrl+"/widgets/is_local_branch.json?callback=?",contentType:"application/json",dataType:"jsonp",success:function(n){e.cookie("is_local_branch",n.is_local_branch),t()}}),e(".sys_message .close_btn").click(function(){var t=e(this).parents(".sys_message"),n=t.data("attrMsgid"),i=e.cookie("cms_hidden_messages")?e.cookie("cms_hidden_messages").split(":"):[];i.push(n),e.cookie("cms_hidden_messages",i.join(":"),{path:"/"}),t.fadeOut(),e.ajax({url:window.bc_Environment.coreUrl+"/widgets/hide_system_message.json?callback=?",data:{id:n},dataType:"jsonp"})})}),function($){function toIntegersAtLease(e){return e<10?"0"+e:e}Date.prototype.toJSON=function(e){return this.getUTCFullYear()+"-"+toIntegersAtLease(this.getUTCMonth())+"-"+toIntegersAtLease(this.getUTCDate())};var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.quoteString=function(e){return'"'+e.replace(escapeable,function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"'},$.toJSON=function(e,t){var n=typeof e;if("undefined"==n)return"undefined";if("number"==n||"boolean"==n)return e+"";if(null===e)return"null";if("string"==n){return $.quoteString(e)}if("object"==n&&"function"==typeof e.toJSON)return e.toJSON(t);if("function"!=n&&"number"==typeof e.length){for(var i=[],o=0;o<e.length;o++)i.push($.toJSON(e[o],t));return t?"["+i.join(",")+"]":"["+i.join(", ")+"]"}if("function"==n)throw new TypeError("Unable to convert object of type 'function' to json.");var i=[];for(var r in e){var a;if("number"==(n=typeof r))a='"'+r+'"';else{if("string"!=n)continue;a=$.quoteString(r)}var s=$.toJSON(e[r],t);"string"==typeof s&&(t?i.push(a+":"+s):i.push(a+": "+s))}return"{"+i.join(", ")+"}"},$.compactJSON=function(e){return $.toJSON(e,!0)},$.evalJSON=function(src){return eval("("+src+")")},$.secureEvalJSON=function(src){var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")}}(jQuery),define("gform_json",["jquery"],function(){}),function(e){"use strict";function t(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):void 0}function n(e,t){var n,i;for(n=0,i=e.length;i>n;n++)if(e[n]===t)return!0;return!1}function i(e,t){var n;e.createTextRange?(n=e.createTextRange(),n.move("character",t),n.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))}function o(e,t){try{return e.type=t,!0}catch(e){return!1}}e.Placeholders={Utils:{addEventListener:t,inArray:n,moveCaret:i,changeType:o}}}(this),function(e){"use strict";function t(){}function n(){try{return document.activeElement}catch(e){}}function i(e,t){var n,i,o=!!t&&e.value!==t,r=e.value===e.getAttribute(P);return!(!o&&!r||"true"!==e.getAttribute(N))&&(e.removeAttribute(N),e.value=e.value.replace(e.getAttribute(P),""),e.className=e.className.replace(M,""),i=e.getAttribute(L),parseInt(i,10)>=0&&(e.setAttribute("maxLength",i),e.removeAttribute(L)),n=e.getAttribute(F),n&&(e.type=n),!0)}function o(e){var t,n,i=e.getAttribute(P);return!(""!==e.value||!i)&&(e.setAttribute(N,"true"),e.value=i,e.className+=" "+I,n=e.getAttribute(L),n||(e.setAttribute(L,e.maxLength),e.removeAttribute("maxLength")),t=e.getAttribute(F),t?e.type="text":"password"===e.type&&W.changeType(e,"text")&&e.setAttribute(F,"password"),!0)}function r(e,t){var n,i,o,r,a,s,l;if(e&&e.getAttribute(P))t(e);else for(o=e?e.getElementsByTagName("input"):g,r=e?e.getElementsByTagName("textarea"):_,n=o?o.length:0,i=r?r.length:0,l=0,s=n+i;s>l;l++)a=n>l?o[l]:r[l-n],t(a)}function a(e){r(e,i)}function s(e){r(e,o)}function l(e){return function(){m&&e.value===e.getAttribute(P)&&"true"===e.getAttribute(N)?W.moveCaret(e,0):i(e)}}function c(e){return function(){o(e)}}function d(e){return function(t){return b=e.value,"true"===e.getAttribute(N)&&b===e.getAttribute(P)&&W.inArray(A,t.keyCode)?(t.preventDefault&&t.preventDefault(),!1):void 0}}function u(e){return function(){i(e,b),""===e.value&&(e.blur(),W.moveCaret(e,0))}}function h(e){return function(){e===n()&&e.value===e.getAttribute(P)&&"true"===e.getAttribute(N)&&W.moveCaret(e,0)}}function p(e){return function(){a(e)}}function f(e){e.form&&(C=e.form,"string"==typeof C&&(C=document.getElementById(C)),C.getAttribute(z)||(W.addEventListener(C,"submit",p(C)),C.setAttribute(z,"true"))),W.addEventListener(e,"focus",l(e)),W.addEventListener(e,"blur",c(e)),m&&(W.addEventListener(e,"keydown",d(e)),W.addEventListener(e,"keyup",u(e)),W.addEventListener(e,"click",h(e))),e.setAttribute(q,"true"),e.setAttribute(P,k),(m||e!==n())&&o(e)}var g,_,m,v,b,w,y,k,x,C,S,j,T,E=["text","search","url","tel","email","password","number","textarea"],A=[27,33,34,35,36,37,38,39,40,8,46],I="placeholdersjs",M=RegExp("(?:^|\\s)"+I+"(?!\\S)"),P="data-placeholder-value",N="data-placeholder-active",F="data-placeholder-type",z="data-placeholder-submit",q="data-placeholder-bound",L="data-placeholder-maxlength",O=document.createElement("input"),D=document.getElementsByTagName("head")[0],Q=document.documentElement,H=e.Placeholders,W=H.Utils;if(H.nativeSupport=void 0!==O.placeholder,!H.nativeSupport){for(g=document.getElementsByTagName("input"),_=document.getElementsByTagName("textarea"),m="false"===Q.getAttribute("data-placeholder-focus"),v="false"!==Q.getAttribute("data-placeholder-live"),w=document.createElement("style"),w.type="text/css",y=document.createTextNode("."+I+" { color:#ccc; }"),w.styleSheet?w.styleSheet.cssText=y.nodeValue:w.appendChild(y),D.insertBefore(w,D.firstChild),T=0,j=g.length+_.length;j>T;T++)S=g.length>T?g[T]:_[T-g.length],(k=S.attributes.placeholder)&&(k=k.nodeValue)&&W.inArray(E,S.type)&&f(S);x=setInterval(function(){for(T=0,j=g.length+_.length;j>T;T++)S=g.length>T?g[T]:_[T-g.length],k=S.attributes.placeholder,k?(k=k.nodeValue)&&W.inArray(E,S.type)&&(S.getAttribute(q)||f(S),(k!==S.getAttribute(P)||"password"===S.type&&!S.getAttribute(F))&&("password"===S.type&&!S.getAttribute(F)&&W.changeType(S,"text")&&S.setAttribute(F,"password"),S.value===S.getAttribute(P)&&(S.value=k),S.setAttribute(P,k))):S.getAttribute(N)&&(i(S),S.removeAttribute(P));v||clearInterval(x)},100)}W.addEventListener(e,"beforeunload",function(){H.disable()}),H.disable=H.nativeSupport?t:a,H.enable=H.nativeSupport?t:s}(this),function(e){"use strict";var t=e.fn.val,n=e.fn.prop;Placeholders.nativeSupport||(e.fn.val=function(e){var n=t.apply(this,arguments),i=this.eq(0).data("placeholder-value");return void 0===e&&this.eq(0).data("placeholder-active")&&n===i?"":n},e.fn.prop=function(e,t){return void 0===t&&this.eq(0).data("placeholder-active")&&"value"===e?"":n.apply(this,arguments)})}(jQuery),define("gform_placeholder",["jquery"],function(){}),void 0===jQuery.fn.prop&&(jQuery.fn.prop=jQuery.fn.attr),jQuery(document).ready(function(){jQuery(document).bind("gform_post_render",gformBindFormatPricingFields)});var _gformPriceFields=new Array,_anyProductSelected,GFCalc=function(formId,formulaFields){this.patt=/{[^{]*?:(\d+(\.\d+)?)(:(.*?))?}/i,this.exprPatt=/^[0-9 -\/*\(\)]+$/i,this.isCalculating={},this.init=function(e,t){var n=this;jQuery(document).bind("gform_post_conditional_logic",function(){for(var i=0;i<t.length;i++){var o=jQuery.extend({},t[i]);n.runCalc(o,e)}});for(var i=0;i<t.length;i++){var o=jQuery.extend({},t[i]);this.runCalc(o,e),this.bindCalcEvents(o,e)}},this.runCalc=function(formulaField,formId){var calcObj=this,field=jQuery("#field_"+formId+"_"+formulaField.field_id),formulaInput=jQuery("#input_"+formId+"_"+formulaField.field_id),previous_val=formulaInput.val(),formula=gform.applyFilters("gform_calculation_formula",formulaField.formula,formulaField,formId,calcObj),expr=calcObj.replaceFieldTags(formId,formula,formulaField).replace(/(\r\n|\n|\r)/gm,""),result="";if(calcObj.exprPatt.test(expr))try{result=eval(expr)}catch(e){}isFinite(result)||(result=0),window.gform_calculation_result&&(result=window.gform_calculation_result(result,formulaField,formId,calcObj),window.console&&console.log('"gform_calculation_result" function is deprecated since version 1.8! Use "gform_calculation_result" JS hook instead.')),result=gform.applyFilters("gform_calculation_result",result,formulaField,formId,calcObj);var formattedResult=gform.applyFilters("gform_calculation_format_result",!1,result,formulaField,formId,calcObj),numberFormat=gf_get_field_number_format(formulaField.field_id,formId);if(!1!==formattedResult)result=formattedResult;else if(field.hasClass("gfield_price")||"currency"==numberFormat)result=gformFormatMoney(result||0,!0);else{var decimalSeparator=".",thousandSeparator=",";"decimal_comma"==numberFormat&&(decimalSeparator=",",thousandSeparator="."),result=gformFormatNumber(result,gformIsNumber(formulaField.rounding)?formulaField.rounding:-1,decimalSeparator,thousandSeparator)}result!=previous_val&&(field.hasClass("gfield_price")?(formulaInput.text(result),jQuery("#ginput_base_price_"+formId+"_"+formulaField.field_id).val(result).trigger("change"),gformCalculateTotalPrice(formId)):formulaInput.val(result).trigger("change"))},this.bindCalcEvents=function(e,t){var n=this,i=e.field_id,o=getMatchGroups(e.formula,this.patt);n.isCalculating[i]=!1;for(var r in o)if(o.hasOwnProperty(r)){var a=o[r][1],s=parseInt(a),l=jQuery("#field_"+t+"_"+s).find('input[name="input_'+a+'"], select[name="input_'+a+'"]');"checkbox"==l.prop("type")||"radio"==l.prop("type")?jQuery(l).click(function(){n.bindCalcEvent(a,e,t,0)}):l.is("select")||"hidden"==l.prop("type")?jQuery(l).change(function(){n.bindCalcEvent(a,e,t,0)}):jQuery(l).keydown(function(){n.bindCalcEvent(a,e,t)}).change(function(){n.bindCalcEvent(a,e,t,0)}),gform.doAction("gform_post_calculation_events",o[r],e,t,n)}},this.bindCalcEvent=function(e,t,n,i){var o=this,r=t.field_id;i=void 0==i?345:i,o.isCalculating[r][e]&&clearTimeout(o.isCalculating[r][e]),o.isCalculating[r][e]=window.setTimeout(function(){o.runCalc(t,n)},i)},this.replaceFieldTags=function(e,t,n){var o=getMatchGroups(t,this.patt);for(i in o)if(o.hasOwnProperty(i)){var r=o[i][1],a=parseInt(r),s=(o[i][3],0),l=jQuery("#field_"+e+"_"+a).find('input[name="input_'+r+'"], select[name="input_'+r+'"]');(l.length>1||"checkbox"==l.prop("type"))&&(l=l.filter(":checked"));var c=!window.gf_check_field_rule||"show"==gf_check_field_rule(e,a,!0,"");if(l.length>0&&c){var d=l.val();d=d.split("|"),s=d.length>1?d[1]:l.val()}var u=gf_get_field_number_format(a,e);u||(u=gf_get_field_number_format(n.field_id,e));var h=gformGetDecimalSeparator(u);s=gform.applyFilters("gform_merge_tag_value_pre_calculation",s,o[i],c,n,e),s=gformCleanNumber(s,"","",h),s||(s=0),t=t.replace(o[i][0],s)}return t},this.init(formId,formulaFields)},gform={hooks:{action:{},filter:{}},addAction:function(e,t,n,i){gform.addHook("action",e,t,n,i)},addFilter:function(e,t,n,i){gform.addHook("filter",e,t,n,i)},doAction:function(e){gform.doHook("action",e,arguments)},applyFilters:function(e){return gform.doHook("filter",e,arguments)},removeAction:function(e,t){gform.removeHook("action",e,t)},removeFilter:function(e,t,n){gform.removeHook("filter",e,t,n)},addHook:function(e,t,n,i,o){void 0==gform.hooks[e][t]&&(gform.hooks[e][t]=[]);var r=gform.hooks[e][t];void 0==o&&(o=t+"_"+r.length),void 0==i&&(i=10),gform.hooks[e][t].push({tag:o,callable:n,priority:i})},doHook:function(e,t,n){if(n=Array.prototype.slice.call(n,1),void 0!=gform.hooks[e][t]){var i,o=gform.hooks[e][t];o.sort(function(e,t){return e.priority-t.priority});for(var r=0;r<o.length;r++)i=o[r].callable,"function"!=typeof i&&(i=window[i]),"action"==e?i.apply(null,n):n[0]=i.apply(null,n)}if("filter"==e)return n[0]},removeHook:function(e,t,n,i){if(void 0!=gform.hooks[e][t])for(var o=gform.hooks[e][t],r=o.length-1;r>=0;r--)void 0!=i&&i!=o[r].tag||void 0!=n&&n!=o[r].priority||o.splice(r,1)}};!function(e,t){function n(n){function a(e,n){t("#"+e).prepend("<li>"+n+"</li>")}function s(){var e,n="#gform_uploaded_files_"+_,i=t(n);return e=i.val(),e=void 0===e||""===e?{}:t.parseJSON(e)}function l(e){var t=s(),n=h(e);return void 0===t[n]&&(t[n]=[]),t[n]}function c(e){return l(e).length}function d(e,t){var n=l(e);n.unshift(t),u(e,n)}function u(e,n){var i=s(),o=t("#gform_uploaded_files_"+_);i[h(e)]=n,o.val(t.toJSON(i))}function h(e){return"input_"+e}function p(e){e.preventDefault()}var f=t(n).data("settings"),g=new plupload.Uploader(f);_=g.settings.multipart_params.form_id,e.uploaders[f.container]=g;var _,m;g.bind("Init",function(n,i){n.features.dragdrop||t(".gform_drop_instructions").hide();var o=n.settings.multipart_params.field_id,r=parseInt(n.settings.gf_vars.max_files),a=c(o);r>0&&a>=r&&e.toggleDisabled(n.settings,!0)}),e.toggleDisabled=function(e,n){t("string"==typeof e.browse_button?"#"+e.browse_button:e.browse_button).prop("disabled",n)},g.init(),g.bind("FilesAdded",function(n,r){var s,l=parseInt(n.settings.gf_vars.max_files),d=n.settings.multipart_params.field_id,u=c(d),h=n.settings.gf_vars.disallowed_extensions;if(l>0&&u>=l)return void t.each(r,function(e,t){n.removeFile(t)});t.each(r,function(e,i){if(s=i.name.split(".").pop(),t.inArray(s,h)>-1)return a(n.settings.gf_vars.message_id,i.name+" - "+o.illegal_extension),void n.removeFile(i);if(i.status==plupload.FAILED||l>0&&u>=l)return void n.removeFile(i);var r=void 0!==i.size?plupload.formatSize(i.size):o.in_progress,c='<div id="'+i.id+'" class="ginput_preview">'+i.name+" ("+r+') <b></b> <a href="javascript:void(0)" title="'+o.cancel_upload+"\" onclick='$this=jQuery(this); var uploader = gfMultiFileUploader.uploaders."+n.settings.container+';uploader.stop();uploader.removeFile(uploader.getFile("'+i.id+'"));$this.after("'+o.cancelled+"\"); uploader.start();$this.remove();' onkeypress='$this=jQuery(this); var uploader = gfMultiFileUploader.uploaders."+n.settings.container+';uploader.stop();uploader.removeFile(uploader.getFile("'+i.id+'"));$this.after("'+o.cancelled+"\"); uploader.start();$this.remove();'>"+o.cancel+"</a></div>";t("#"+n.settings.filelist).prepend(c),u++}),n.refresh();var p="form#gform_"+_,f=p+" input:hidden[name='gform_unique_id']",g=t(f);0==g.length&&(g=t("input:hidden[name='gform_unique_id']")),m=g.val(),""===m&&(m=i(),g.val(m)),l>0&&u>=l&&(e.toggleDisabled(n.settings,!0),a(n.settings.gf_vars.message_id,o.max_reached)),n.settings.multipart_params.gform_unique_id=m,n.start()}),g.bind("UploadProgress",function(e,n){var i=n.percent+"%";t("#"+n.id+" b").html(i)}),g.bind("Error",function(e,n){if(n.code===plupload.FILE_EXTENSION_ERROR){var i=void 0!==e.settings.filters.mime_types?e.settings.filters.mime_types[0].extensions:e.settings.filters[0].extensions;a(e.settings.gf_vars.message_id,n.file.name+" - "+o.invalid_file_extension+" "+i)}else if(n.code===plupload.FILE_SIZE_ERROR)a(e.settings.gf_vars.message_id,n.file.name+" - "+o.file_exceeds_limit);else{var r="<li>Error: "+n.code+", Message: "+n.message+(n.file?", File: "+n.file.name:"")+"</li>";a(e.settings.gf_vars.message_id,r)}t("#"+n.file.id).html(""),e.refresh()}),g.bind("FileUploaded",function(e,n,i){var s=t.secureEvalJSON(i.response);if("error"==s.status)return a(e.settings.gf_vars.message_id,n.name+" - "+s.error.message),void t("#"+n.id).html("");var l="<strong>"+n.name+"</strong>",c=e.settings.multipart_params.form_id,u=e.settings.multipart_params.field_id;l="<img class='gform_delete' src='"+r+"/delete.png' onclick='gformDeleteUploadedFile("+c+","+u+", this);' onkeypress='gformDeleteUploadedFile("+c+","+u+", this);' alt='"+o.delete_file+"' title='"+o.delete_file+"' /> "+l,l=gform.applyFilters("gform_file_upload_markup",l,n,e,o,r),t("#"+n.id).html(l);var h=e.settings.multipart_params.field_id;100==n.percent&&(s.status&&"ok"==s.status?d(h,s.data):a(e.settings.gf_vars.message_id,o.unknown_error+": "+n.name))}),t("#"+f.drop_element).on({dragenter:p,dragover:p})}function i(){return"xxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}e.uploaders={};var o="undefined"!=typeof gform_gravityforms?gform_gravityforms.strings:{},r="undefined"!=typeof gform_gravityforms?gform_gravityforms.vars.images_url:"";t(document).bind("gform_post_render",function(i,r){t("form#gform_"+r+" .gform_fileupload_multifile").each(function(){n(this)});var a=t("form#gform_"+r);a.length>0&&a.submit(function(){var n=!1;if(t.each(e.uploaders,function(e,t){if(t.total.queued>0)return n=!0,!1}),n)return alert(o.currently_uploading),window["gf_submitting_"+r]=!1,t("#gform_ajax_spinner_"+r).remove(),!1})}),t(document).bind("gform_post_conditional_logic",function(n,i,o,r){r||t.each(e.uploaders,function(e,t){t.refresh()})}),t(document).ready(function(){"undefined"!=typeof adminpage&&"toplevel_page_gf_edit_forms"===adminpage||"undefined"==typeof plupload?t(".gform_button_select_files").prop("disabled",!0):"undefined"!=typeof adminpage&&adminpage.indexOf("_page_gf_entries")>-1&&t(".gform_fileupload_multifile").each(function(){n(this)})}),e.setup=function(e){n(e)}}(window.gfMultiFileUploader=window.gfMultiFileUploader||{},jQuery);var __gf_keyup_timeout;jQuery(document).on("change keyup",".gfield_trigger_change input, .gfield_trigger_change select, .gfield_trigger_change textarea",function(e){gf_raw_input_change(e,this)}),window.rgars,window.rgar,String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})},define("gform_gravityforms",["jquery","gform_json","gform_placeholder"],function(){}),define("card_helpers",["jquery","gform_gravityforms"],function(e){return{add_extra_validation_for_polls:function(){e('.gpoll_enabled.gpoll_show_results_link input[type="submit"], .poll form input[type="submit"]').unbind("click.extra_validation"),e('.gpoll_enabled.gpoll_show_results_link input[type="submit"], .poll form input[type="submit"]').bind("click.extra_validation",function(t){var n=e(this).closest("form"),i=n.attr("id").replace("gform_","");if(window["biblio_submit_form_"+i](),0==n.find(".gfield_contains_required").length){var o=n.attr("id").replace("gform_","gf_submitting_"),r=n.find('.gpoll_field input[type="radio"], .gpoll_field input[type="checkbox"]').serialize();if(""==r&&""!==(r=n.find(".gpoll_field select").serialize())&&""==e(".gpoll_field select").val()&&(r=""),""==r&&n.find(".gpoll_button").length>0){window[o]=!1,t.preventDefault();n.find(".gpoll_button")[0].click()}else""==r&&(t.preventDefault(),0==n.find(".validation_message").length&&n.find(".gform_footer").prepend('<div class="gfield_description validation_message custom_validation">Select an option.</div>'),window[o]=!1)}else setTimeout(function(){0==n.find(".validation_message").length&&0==n.find(".gform_ajax_spinner").length&&n.find(".gform_footer").prepend('<div class="gfield_description validation_message custom_validation">This field is required.</div>')},100)})},fix_poll_action:function(){e("form.gpoll").attr("action","/")},trigger_added_cards_event:function(t,n){for(var i,o=[],r=/(?:card-)?id="(card-.*?)"/g;i=r.exec(t);)o.push(i[1]);e(document).trigger("cards_added",[n,o]),e(".gpoll_field input,  .gpoll_field select").removeAttr("disabled"),this.add_extra_validation_for_polls(),this.fix_poll_action()},toggle_poll_popup:function(){e("body").on("click",".trigger_poll_open, .poll a.featured_image",function(t){t.preventDefault(),e(this).parents(".mobile-swipe").addClass("temporary_overflow"),e("body").addClass("noscroll");var n=e(this).parents(".poll");n.find(".popup_poll_wrapper .ginput_container input").attr("tabindex",0);var i=n.find(".popup_poll"),o=i.find("label.gfield_label");o.attr("tabindex","-1");var r=n.find(".popup_poll_wrapper");r.show(),BCFocusManager.restrict_focus(r),setTimeout(function(){var t=n.find(".popup_poll_wrapper .ginput_container input").eq(0).attr("id");document.getElementById(t).focus(),o.eq(0).focus();var i=e(".gpoll_wrapper").filter(":visible").height();e(".popup_poll_wrapper").filter(":visible").height()-i<100&&e("body").addClass("noscroll")},10)}),e(document).keyup(function(t){27==t.keyCode&&(e(".popup_poll_wrapper").hide(),e(".mobile-swipe").removeClass("temporary_overflow"),e("body").removeClass("noscroll"),BCFocusManager.restore_focus())}),e("body").on("click",".popup_poll_wrapper",function(t){!t.srcElement||"popup_poll_wrapper"!=t.srcElement.className&&"close_btn"!=t.srcElement.className&&"icon-cancel"!=t.srcElement.className||(e(".popup_poll_wrapper").hide(),e(".mobile-swipe").removeClass("temporary_overflow"),e("body").removeClass("noscroll"),BCFocusManager.restore_focus(),e(this).find("#gforms_confirmation_message").length>0&&($poll_card=e(this).parents(".poll"),$poll_card.find(".poll_button").hide(),$poll_card.find(".poll_response_target").show()))}),e("body").on("click",".popup_poll_wrapper",function(t){if($target_class=e(t.originalEvent.originalTarget).attr("class"),("icon-cancel"==$target_class||"popup_poll_wrapper"==$target_class)&&(e(".popup_poll_wrapper").hide(),e(".mobile-swipe").removeClass("temporary_overflow"),e("body").removeClass("noscroll"),BCFocusManager.restore_focus(),e(this).find("#gforms_confirmation_message").length>0)){$poll_card=e(this).parents(".poll"),$poll_card.find(".poll_button").hide(),$poll_card.find(".poll_response_target").show();var n=e(".gform_confirmation_wrapper ").filter(":visible").height();e(".popup_poll_wrapper").filter(":visible").height()-n<100&&e(".gform_confirmation_wrapper").filter(":visible").css("overflow-y","scroll")}}),jQuery(document).bind("gform_confirmation_loaded",function(t,n){var i="div#gforms_confirmation_message.gform_confirmation_message_"+n;e(i).closest(".poll").addClass("submitted_poll")})},twitter_touch_permalink:function(){Modernizr.touch&&e(".content_card.tweet_card .twitter_body").click(function(){window.location.href=e(this).closest(".content_card").data("permalink")}).find("a").click(function(e){e.stopPropagation()})}}}),function(e,t,n,i){e.fn.lazy=function(i){function o(n){"boolean"!=typeof n&&(n=!1),h.each(function(){var i=e(this),o=this.tagName.toLowerCase();if((a(i)||n)&&i.attr(u.attribute)&&("img"==o&&i.attr(u.attribute)!=i.attr("src")||"img"!=o&&i.attr(u.attribute)!=i.css("background-image"))&&!i.data("loaded")&&(i.is(":visible")||!u.visibleOnly)){var r=e(new Image);++p,u.onError?r.error(function(){d(u.onError,i),c()}):r.error(function(){c()});var s=!0;r.one("load",function(){var e=function(){if(s)return void t.setTimeout(e,100);"img"==o?(i.one("load",function(){d(u.afterLoad,i),i[u.effect](u.effectTime),u.removeAttribute&&i.removeAttr(u.attribute),r.unbind("load"),r.remove(),c()}),i.attr("src",r.attr("src"))):i.css("background-image","url("+r.attr("src")+")"),"img"!=o&&(d(u.afterLoad,i),i[u.effect](u.effectTime),u.removeAttribute&&i.removeAttr(u.attribute),r.unbind("load"),r.remove(),c())};e()}),d(u.beforeLoad,i),r.attr("src",i.attr(u.attribute)),d(u.onLoad,i),s=!1,r.complete&&r.load(),i.data("loaded",!0)}}),h=e(h).filter(function(){return!e(this).data("loaded")})}function r(){u.delay>=0&&setTimeout(function(){o(!0)},u.delay),(u.delay<0||u.combined)&&(o(!1),e(u.appendScroll).bind("scroll.lazyLoad",l(u.throttle,o)),e(u.appendScroll).bind("resize.lazyLoad",l(u.throttle,o)))}function a(e){return(n.documentElement.scrollTop?n.documentElement.scrollTop:n.body.scrollTop)+s()+u.threshold>e.offset().top+e.height()}function s(){return t.innerHeight?t.innerHeight:n.documentElement&&n.documentElement.clientHeight?n.documentElement.clientHeight:n.body&&n.body.clientHeight?n.body.clientHeight:n.body&&n.body.offsetHeight?n.body.offsetHeight:u.fallbackHeight}function l(e,t){function n(){function n(){o=+new Date,t.apply()}var r=+new Date-o;i&&clearTimeout(i),r>e||!u.enableThrottle?n():i=setTimeout(n,e-r)}var i,o=0;return n}function c(){--p,h.size()||p||d(u.onFinishedAll,null)}function d(e,t){e&&(null!==t?e(t):e())}var u={bind:"load",threshold:500,fallbackHeight:2e3,visibleOnly:!0,appendScroll:t,delay:-1,combined:!1,attribute:"data-src",removeAttribute:!0,effect:"show",effectTime:0,enableThrottle:!1,throttle:250,beforeLoad:null,onLoad:null,afterLoad:null,onError:null,onFinishedAll:null};i&&e.extend(u,i);var h=this,p=0;return"load"==u.bind?e(t).load(r):"event"==u.bind&&r(),u.onError&&h.bind("error",function(){d(u.onError,e(this))}),this},e.fn.Lazy=e.fn.lazy}(jQuery,window,document),define("lazy",function(){}),define("browse_navigation",["jquery","card_helpers","lazy"],function(e,t){var n=(e(window).width(),{init:function(t){var i={duration:250},o=e.extend(i,t);e(document).ready(function(){e(window).width()<=960&&0==e(".no_sidebar_menu").length?(e("#browse_nav_trigger").attr("aria-expanded","false"),e(".browse_page_wrapper").addClass("nav_collapsed")):e(".browse_page_wrapper").addClass("nav_expanded")}),e(".browse_page_wrapper").length&&n.bind_events(o)},bind_events:function(t){e("#browse_nav_trigger").on("click",function(n){var i=e(".browse_page_wrapper");i.hasClass("nav_collapsed")?(e("#browse_nav_trigger").attr("aria-expanded","true"),e("#browse_nav_header").css("left","0px"),e("#page.page_browse").animate({left:"+=220"},t.duration,function(){e("#page.page_browse").removeAttr("style")}),e(".browse_nav_wrapper").animate({left:"+=220"},t.duration,function(){i.removeClass("nav_collapsed"),i.addClass("nav_expanded"),e(".browse_nav_wrapper").removeAttr("style"),e("#browse_nav_header").removeAttr("style")})):(e("#browse_nav_trigger").attr("aria-expanded","false"),e("#browse_nav_header").css("left","0px"),e("#page.page_browse").animate({left:"-=220"},t.duration,function(){e("#page.page_browse").removeAttr("style")}),e(".browse_nav_wrapper").animate({left:"-=220"},t.duration,function(){i.addClass("nav_collapsed"),i.removeClass("nav_expanded"),e(".browse_nav_wrapper").removeAttr("style"),e("#browse_nav_header").removeAttr("style")}))})}});e.browse_navigation=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:n.init.apply(this,arguments)}}),define("mobile_drawer",["jquery"],function(e){var t={init:function(n){var i={},n=e.extend(i,n);t.bind(),t.bind_trigger()},bind:function(){e(function(){t.fix_page_height()})},bind_trigger:function(){e(".drawer_wrapper").on("click",".drawer_trigger",function(){0==e(".drawer_trigger").hasClass("expanded")?t.slide_nav_out():t.slide_nav_in()}),t.resize()},resize:function(){e(window).resize(function(){t.fix_page_height(),e(window).width()>768&&(e(".drawer_header_active .locations-with-drawer-menu, .with-drawer-menu, .drawer_wrapper, .drawer_trigger, .faq_faux_table_cell").removeAttr("style"),e("body.tax-bccms_faq_tax, body.post-type-archive, body.page:not(.page-template-page-browse-php, .page-template-page-program-php)").removeClass("nav_is_expanded"),e(".drawer_trigger").removeClass("expanded"))})},fix_page_height:function(){var t=e(".faq_faux_table_cell"),n=e("#faq_faux_table_wrap"),i=e("#sidemenu");n.removeAttr("style").css("height",Math.max(i.height(),t.height()))},slide_nav_out:function(){!1===e("body").hasClass("nav_is_expanded")&&(e(".drawer_wrapper, .with-drawer-menu, .drawer_header_active .locations-with-drawer-menu").animate({marginLeft:"218px"},500,function(){e("body").addClass("nav_is_expanded")}),e(".faq_faux_table_cell  ").animate({paddingLeft:"228px"},500),e(".drawer_trigger").addClass("expanded",500))},slide_nav_in:function(){
e("body").hasClass("nav_is_expanded")&&(e(".drawer_wrapper").animate({marginLeft:"-6px"},500,function(){e("body").removeClass("nav_is_expanded")}),e(".faq_faux_table_cell  ").animate({paddingLeft:"0px"},500),e(" .with-drawer-menu, .drawer_header_active .locations-with-drawer-menu  ").animate({marginLeft:"40px"},500),e(".drawer_trigger").removeClass("expanded"))}};e.mobile_drawer=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:t.init.apply(this,arguments)}}),requirejs(["jquery","modernizr","general_helpers","share_button","no_depency_helpers","callout","ga_events","domReady","creative_commons","system_messages","address","browse_navigation","mobile_drawer"],function(e,t,n,i,o,r,a,s,l){function c(){return e("div.bc_core_external").height()}function d(t,n,i){if(t.hasClass("fixed")){var o=e("#wpadminbar").length?e("#wpadminbar").height():0;t.css("top",i+o+40)}else t.css("top",n+i+40)}function u(t,n,i){var o=e("#wpadminbar").length?e("#wpadminbar").height():0;t.hasClass("fixed")?n>e(window).scrollTop()&&(t.removeClass("fixed"),d(t,n,i)):t.offset().top-e(window).scrollTop()<40+o&&(t.addClass("fixed"),d(t,n,i))}r.init(),s(function(){var t=0,n=setInterval(function(){t++,"function"==typeof ga?(a.init(),clearInterval(n)):10==t&&clearInterval(n)},500);0==e("#bccms_masthead").length&&e("body").addClass("common_header")}),t.mq("only all")?e.mobile_drawer():e.mobile_drawer("fix_page_height"),e('a[href="#top"]').bind("click",function(){e("html, body").animate({scrollTop:0},"slow")}),s(function(){window.location.hash&&setTimeout(function(){o.anchorScroll(window.location.hash)},200)}),e(window).bind("scroll",function(t){e(window).scrollTop()>100&&0===e("#link_mobile_search_trigger.active").length?e(".back-to-top-btn").show():e(".back-to-top-btn").hide()}),e.address&&(n.isHomePage()&&n.showPopover(),t.touch||e.address.internalChange(function(t){n.isHomePage()?n.showPopover():e(".popover-banner").hide()}));var h={ui:{flyout:"vertical"},networks:{twitter:{before:function(t){var n=e(t);this.description=n.data("title")+" - "+n.data("lib-name"),this.url=n.data("url"),this.via=n.data("lib-twitter")}},facebook:{before:function(t){var n=e(t);this.url=n.data("url")}},pinterest:{before:function(t){var n=e(t);this.url=n.data("url"),this.description=n.data("description"),this.image=n.data("image-url")}},google_plus:{before:function(t){var n=e(t);this.url=n.data("url")}},email:{before:function(t){var n=e(t);this.title=n.data("title"),this.description=n.data("url")+"\n "+n.data("description")}}},container:".share-buttons"};if((e("body").hasClass("single")||e("body").hasClass("page")&&!e("body").hasClass("home"))&&n.add_share_button(h),e.browse_navigation(),jQuery(document).ajaxSuccess(function(e,t,n){jQuery(this).trigger("contentchange")}),jQuery(window).bind("message",function(t){t.originalEvent.origin==window.bc_Environment.coreUrl&&("resize"==t.originalEvent.data.action&&t.originalEvent.data.height?1==e("#comment_frame").length&&e("#comment_frame").css("height",t.originalEvent.data.height+100+"px"):"login_change"==t.originalEvent.data.action?0!==t.originalEvent.data.bc_user_id&&jQuery.bccmsHeaderJSAPI("sessionChanged"):"bib_load"==t.originalEvent.data.action&&(t.originalEvent.data.empty&&jQuery('iframe[src="'+t.originalEvent.data.empty+'"]').parents("div.new_in_carousel_container").remove(),t.originalEvent.data.has_bibs&&jQuery('iframe[src="'+t.originalEvent.data.has_bibs+'"]').parents("div.new_in_carousel_container").slideDown(300)))}),function(){e("ul.bccms_custom_dropdown .dropdown_trigger").on("click",function(t){t.stopPropagation();var n=e(this).find(".dropdown_menu"),i=e(this);n.toggle(),e(this).find(".dropdown_menu li").on("click",function(t){t.stopPropagation(),i.find(".current_val").html(e(this).html()),i.attr("selected",e(this).attr("data-value")),n.hide()})}),e(document).on("click",function(){e(".bccms_custom_dropdown .dropdown_menu").hide()})}(),function(){var t=e(".location_widget.recent_posts").height(),n=e(".location_widget.events").height();t>n?e(".location_widget.events").css("height",t+"px"):n>t&&e(".location_widget.recent_posts").css("height",n+"px")}(),n.truncate_poll_cards(),e("#external_app_filter").click(function(){e(this).hasClass("closed")?e(this).removeClass("closed").addClass("opened").find(".active").prependTo(e(this)):e(this).hasClass("opened")&&e(this).removeClass("opened").addClass("closed")}),e("#external_app_filter").find("li:not(.active)").click(function(){window.location="/resource/"+e(this).data("query-string")}),l.init(),e(".bc_core_external").length&&e(".donate_button.desktop").length){var p=e(".donate_button.desktop"),f=p.width()-20,g=c();p.css("top",g+f+40),e(window).on("scroll",function(){u(p,g,f)}),e(window).resize(function(){g=c(),d(p,g,f)})}e(".back-to-top-btn").bind("click",function(t){t.preventDefault(),e("#top").focus()})}),define("inits/all",function(){}),function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};e.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(n)}),this;var i={},o=this,r=e(window).width(),a=e(window).height();if(!e(o).data("bxSlider")){var s=function(){e(o).data("bxSlider")||(i.settings=e.extend({},t,n),i.settings.slideWidth=parseInt(i.settings.slideWidth),i.children=o.children(i.settings.slideSelector),i.children.length<i.settings.minSlides&&(i.settings.minSlides=i.children.length),i.children.length<i.settings.maxSlides&&(i.settings.maxSlides=i.children.length),i.settings.randomStart&&(i.settings.startSlide=Math.floor(Math.random()*i.children.length)),i.active={index:i.settings.startSlide},i.carousel=i.settings.minSlides>1||i.settings.maxSlides>1,i.carousel&&(i.settings.preloadImages="all"),i.minThreshold=i.settings.minSlides*i.settings.slideWidth+(i.settings.minSlides-1)*i.settings.slideMargin,i.maxThreshold=i.settings.maxSlides*i.settings.slideWidth+(i.settings.maxSlides-1)*i.settings.slideMargin,i.working=!1,i.controls={},i.interval=null,i.animProp="vertical"===i.settings.mode?"top":"left",i.usingCSS=i.settings.useCSS&&"fade"!==i.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],n=0;n<t.length;n++)if(void 0!==e.style[t[n]])return i.cssPrefix=t[n].replace("Perspective","").toLowerCase(),i.animProp="-"+i.cssPrefix+"-transform",!0;return!1}(),"vertical"===i.settings.mode&&(i.settings.maxSlides=i.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(i.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),l())},l=function(){var t=i.children.eq(i.settings.startSlide);o.wrap('<div class="'+i.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),i.viewport=o.parent(),i.settings.ariaLive&&!i.settings.ticker&&i.viewport.attr("aria-live","polite"),i.loader=e('<div class="bx-loading" />'),i.viewport.prepend(i.loader),o.css({width:"horizontal"===i.settings.mode?1e3*i.children.length+215+"%":"auto",position:"relative"}),i.usingCSS&&i.settings.easing?o.css("-"+i.cssPrefix+"-transition-timing-function",i.settings.easing):i.settings.easing||(i.settings.easing="swing"),i.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),i.viewport.parent().css({maxWidth:u()}),i.settings.pager||i.settings.controls||i.viewport.parent().css({margin:"0 auto 0px"}),i.children.css({float:"horizontal"===i.settings.mode?"left":"none",listStyle:"none",position:"relative"}),i.children.css("width",h()),"horizontal"===i.settings.mode&&i.settings.slideMargin>0&&i.children.css("marginRight",i.settings.slideMargin),"vertical"===i.settings.mode&&i.settings.slideMargin>0&&i.children.css("marginBottom",i.settings.slideMargin),"fade"===i.settings.mode&&(i.children.css({position:"absolute",zIndex:0,display:"none"}),i.children.eq(i.settings.startSlide).css({zIndex:i.settings.slideZIndex,display:"block"})),i.controls.el=e('<div class="bx-controls" />'),i.settings.captions&&k(),i.active.last=i.settings.startSlide===f()-1,i.settings.video&&o.fitVids(),("all"===i.settings.preloadImages||i.settings.ticker)&&(t=i.children),i.settings.ticker?i.settings.pager=!1:(i.settings.controls&&w(),i.settings.auto&&i.settings.autoControls&&y(),i.settings.pager&&b(),(i.settings.controls||i.settings.autoControls||i.settings.pager)&&i.viewport.after(i.controls.el)),c(t,d)},c=function(t,n){var i=t.find('img:not([src=""]), iframe').length,o=0;if(0===i)return void n();t.find('img:not([src=""]), iframe').each(function(){e(this).one("load error",function(){++o===i&&n()}).each(function(){this.complete&&e(this).load()})})},d=function(){if(i.settings.infiniteLoop&&"fade"!==i.settings.mode&&!i.settings.ticker){var t="vertical"===i.settings.mode?i.settings.minSlides:i.settings.maxSlides,n=i.children.slice(0,t).clone(!0).addClass("bx-clone"),r=i.children.slice(-t).clone(!0).addClass("bx-clone");i.settings.ariaHidden&&(n.attr("aria-hidden",!0),r.attr("aria-hidden",!0)),o.append(n).prepend(r)}i.loader.remove(),_(),"vertical"===i.settings.mode&&(i.settings.adaptiveHeight=!0),o.redrawSlider(),i.settings.onSliderLoad.call(o,i.active.index),i.initialized=!0,i.settings.responsive&&e(window).bind("resize",W),i.settings.auto&&i.settings.autoStart&&(f()>1||i.settings.autoSlideForOnePage)&&P(),i.settings.ticker&&N(),i.settings.pager&&E(i.settings.startSlide),i.settings.controls&&M(),i.settings.touchEnabled&&!i.settings.ticker&&L(),i.settings.keyboardEnabled&&!i.settings.ticker&&e(document).keydown(q)},u=function(){var e="100%";return i.settings.slideWidth>0&&(e="horizontal"===i.settings.mode?i.settings.maxSlides*i.settings.slideWidth+(i.settings.maxSlides-1)*i.settings.slideMargin:i.settings.slideWidth),e},h=function(){var e=i.settings.slideWidth,t=i.viewport.width();if(0===i.settings.slideWidth||i.settings.slideWidth>t&&!i.carousel||"vertical"===i.settings.mode)e=t;else if(i.settings.maxSlides>1&&"horizontal"===i.settings.mode){if(t>i.maxThreshold)return e;t<i.minThreshold?e=(t-i.settings.slideMargin*(i.settings.minSlides-1))/i.settings.minSlides:i.settings.shrinkItems&&(e=Math.floor((t+i.settings.slideMargin)/Math.ceil((t+i.settings.slideMargin)/(e+i.settings.slideMargin))-i.settings.slideMargin))}return e},p=function(){var e=1,t=null;return"horizontal"===i.settings.mode&&i.settings.slideWidth>0?i.viewport.outerWidth()<i.minThreshold?e=i.settings.minSlides:i.viewport.width()>i.maxThreshold?e=i.settings.maxSlides:(t=i.children.first().width()+i.settings.slideMargin,0===(e=Math.floor((i.viewport.width()+i.settings.slideMargin)/t))&&(e=1)):"vertical"===i.settings.mode&&(e=i.settings.minSlides),e},f=function(){var e=0,t=0,n=0;if(i.settings.moveSlides>0)if(i.settings.infiniteLoop)e=Math.ceil(i.children.length/g());else for(;t<i.children.length;)++e,t=n+p(),n+=i.settings.moveSlides<=p()?i.settings.moveSlides:p();else e=Math.ceil(i.children.length/p());return e},g=function(){return i.settings.moveSlides>0&&i.settings.moveSlides<=p()?i.settings.moveSlides:p()},_=function(){var e,t,n;i.children.length>i.settings.maxSlides&&i.active.last&&!i.settings.infiniteLoop?"horizontal"===i.settings.mode?(t=i.children.last(),e=t.position(),m(-(e.left-(i.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===i.settings.mode&&(n=i.children.length-i.settings.minSlides,e=i.children.eq(n).position(),m(-e.top,"reset",0)):(e=i.children.eq(i.active.index*g()).position(),i.active.index===f()-1&&(i.active.last=!0),void 0!==e&&("horizontal"===i.settings.mode?m(-e.left,"reset",0):"vertical"===i.settings.mode&&m(-e.top,"reset",0)))},m=function(t,n,r,a){var s,l;i.usingCSS?(l="vertical"===i.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",o.css("-"+i.cssPrefix+"-transition-duration",r/1e3+"s"),"slide"===n?(o.css(i.animProp,l),0!==r?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),A())}):A()):"reset"===n?o.css(i.animProp,l):"ticker"===n&&(o.css("-"+i.cssPrefix+"-transition-timing-function","linear"),o.css(i.animProp,l),0!==r?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),m(a.resetValue,"reset",0),F())}):(m(a.resetValue,"reset",0),F()))):(s={},s[i.animProp]=t,"slide"===n?o.animate(s,r,i.settings.easing,function(){A()}):"reset"===n?o.css(i.animProp,t):"ticker"===n&&o.animate(s,r,"linear",function(){m(a.resetValue,"reset",0),F()}))},v=function(){for(var t="",n="",o=f(),r=0;r<o;r++)n="",i.settings.buildPager&&e.isFunction(i.settings.buildPager)||i.settings.pagerCustom?(n=i.settings.buildPager(r),i.pagerEl.addClass("bx-custom-pager")):(n=r+1,i.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+r+'" class="bx-pager-link">'+n+"</a></div>";i.pagerEl.html(t)},b=function(){i.settings.pagerCustom?i.pagerEl=e(i.settings.pagerCustom):(i.pagerEl=e('<div class="bx-pager" />'),i.settings.pagerSelector?e(i.settings.pagerSelector).html(i.pagerEl):i.controls.el.addClass("bx-has-pager").append(i.pagerEl),v()),i.pagerEl.on("click touchend","a",T)},w=function(){i.controls.next=e('<a class="bx-next" href="" aria-hidden="true">'+i.settings.nextText+"</a>"),i.controls.prev=e('<a class="bx-prev" href="" aria-hidden="true">'+i.settings.prevText+"</a>"),i.controls.next.bind("click touchend",x),i.controls.prev.bind("click touchend",C),i.settings.nextSelector&&e(i.settings.nextSelector).append(i.controls.next),i.settings.prevSelector&&e(i.settings.prevSelector).append(i.controls.prev),i.settings.nextSelector||i.settings.prevSelector||(i.controls.directionEl=e('<div class="bx-controls-direction" />'),i.controls.directionEl.append(i.controls.prev).append(i.controls.next),i.controls.el.addClass("bx-has-controls-direction").append(i.controls.directionEl))},y=function(){i.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+i.settings.startText+"</a></div>"),i.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+i.settings.stopText+"</a></div>"),i.controls.autoEl=e('<div class="bx-controls-auto" />'),i.controls.autoEl.on("click",".bx-start",S),i.controls.autoEl.on("click",".bx-stop",j),i.settings.autoControlsCombine?i.controls.autoEl.append(i.controls.start):i.controls.autoEl.append(i.controls.start).append(i.controls.stop),i.settings.autoControlsSelector?e(i.settings.autoControlsSelector).html(i.controls.autoEl):i.controls.el.addClass("bx-has-controls-auto").append(i.controls.autoEl),I(i.settings.autoStart?"stop":"start")},k=function(){i.children.each(function(t){var n=e(this).find("img:first").attr("title");void 0!==n&&(""+n).length&&e(this).append('<div class="bx-caption"><span>'+n+"</span></div>")})},x=function(e){e.preventDefault(),i.controls.el.hasClass("disabled")||(i.settings.auto&&i.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},C=function(e){e.preventDefault(),i.controls.el.hasClass("disabled")||(i.settings.auto&&i.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},S=function(e){o.startAuto(),e.preventDefault()},j=function(e){o.stopAuto(),e.preventDefault()},T=function(t){var n,r;t.preventDefault(),i.controls.el.hasClass("disabled")||(i.settings.auto&&i.settings.stopAutoOnClick&&o.stopAuto(),n=e(t.currentTarget),void 0!==n.attr("data-slide-index")&&(r=parseInt(n.attr("data-slide-index")))!==i.active.index&&o.goToSlide(r))},E=function(t){var n=i.children.length;if("short"===i.settings.pagerType)return i.settings.maxSlides>1&&(n=Math.ceil(i.children.length/i.settings.maxSlides)),void i.pagerEl.html(t+1+i.settings.pagerShortSeparator+n);i.pagerEl.find("a").removeClass("active"),i.pagerEl.each(function(n,i){e(i).find("a").eq(t).addClass("active")})},A=function(){if(i.settings.infiniteLoop){var e="";0===i.active.index?e=i.children.eq(0).position():i.active.index===f()-1&&i.carousel?e=i.children.eq((f()-1)*g()).position():i.active.index===i.children.length-1&&(e=i.children.eq(i.children.length-1).position()),e&&("horizontal"===i.settings.mode?m(-e.left,"reset",0):"vertical"===i.settings.mode&&m(-e.top,"reset",0))}i.working=!1,i.settings.onSlideAfter.call(o,i.children.eq(i.active.index),i.oldIndex,i.active.index)},I=function(e){i.settings.autoControlsCombine?i.controls.autoEl.html(i.controls[e]):(i.controls.autoEl.find("a").removeClass("active"),i.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},M=function(){1===f()?(i.controls.prev.addClass("disabled"),i.controls.next.addClass("disabled")):!i.settings.infiniteLoop&&i.settings.hideControlOnEnd&&(0===i.active.index?(i.controls.prev.addClass("disabled"),i.controls.next.removeClass("disabled")):i.active.index===f()-1?(i.controls.next.addClass("disabled"),i.controls.prev.removeClass("disabled")):(i.controls.prev.removeClass("disabled"),i.controls.next.removeClass("disabled")))},P=function(){if(i.settings.autoDelay>0){setTimeout(o.startAuto,i.settings.autoDelay)}else o.startAuto(),e(window).focus(function(){o.startAuto()}).blur(function(){o.stopAuto()});i.settings.autoHover&&o.hover(function(){i.interval&&(o.stopAuto(!0),i.autoPaused=!0)},function(){i.autoPaused&&(o.startAuto(!0),i.autoPaused=null)})},N=function(){var t,n,r,a,s,l,c,d,u=0;"next"===i.settings.autoDirection?o.append(i.children.clone().addClass("bx-clone")):(o.prepend(i.children.clone().addClass("bx-clone")),t=i.children.first().position(),u="horizontal"===i.settings.mode?-t.left:-t.top),m(u,"reset",0),i.settings.pager=!1,i.settings.controls=!1,i.settings.autoControls=!1,i.settings.tickerHover&&(i.usingCSS?(a="horizontal"===i.settings.mode?4:5,i.viewport.hover(function(){n=o.css("-"+i.cssPrefix+"-transform"),r=parseFloat(n.split(",")[a]),m(r,"reset",0)},function(){d=0,i.children.each(function(t){d+="horizontal"===i.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),s=i.settings.speed/d,l="horizontal"===i.settings.mode?"left":"top",c=s*(d-Math.abs(parseInt(r))),F(c)})):i.viewport.hover(function(){o.stop()},function(){d=0,i.children.each(function(t){d+="horizontal"===i.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),s=i.settings.speed/d,l="horizontal"===i.settings.mode?"left":"top",c=s*(d-Math.abs(parseInt(o.css(l)))),F(c)})),F()},F=function(e){var t,n,r,a=e||i.settings.speed,s={left:0,top:0},l={left:0,top:0};"next"===i.settings.autoDirection?s=o.find(".bx-clone").first().position():l=i.children.first().position(),t="horizontal"===i.settings.mode?-s.left:-s.top,n="horizontal"===i.settings.mode?-l.left:-l.top,r={resetValue:n},m(t,"ticker",a,r)},z=function(t){var n=e(window),i={top:n.scrollTop(),left:n.scrollLeft()},o=t.offset();return i.right=i.left+n.width(),i.bottom=i.top+n.height(),o.right=o.left+t.outerWidth(),o.bottom=o.top+t.outerHeight(),!(i.right<o.left||i.left>o.right||i.bottom<o.top||i.top>o.bottom)},q=function(e){var t=document.activeElement.tagName.toLowerCase();if(null==new RegExp(t,["i"]).exec("input|textarea")&&z(o)){if(39===e.keyCode)return x(e),!1;if(37===e.keyCode)return C(e),!1}},L=function(){i.touch={start:{x:0,y:0},end:{x:0,y:0}},i.viewport.bind("touchstart MSPointerDown pointerdown",O),i.viewport.on("click",".bxslider a",function(e){i.viewport.hasClass("click-disabled")&&(e.preventDefault(),i.viewport.removeClass("click-disabled"))})},O=function(e){if(i.controls.el.addClass("disabled"),i.working)e.preventDefault(),i.controls.el.removeClass("disabled");else{i.touch.originalPos=o.position();var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t];i.touch.start.x=n[0].pageX,i.touch.start.y=n[0].pageY,i.viewport.get(0).setPointerCapture&&(i.pointerId=t.pointerId,i.viewport.get(0).setPointerCapture(i.pointerId)),i.viewport.bind("touchmove MSPointerMove pointermove",Q),i.viewport.bind("touchend MSPointerUp pointerup",H),i.viewport.bind("MSPointerCancel pointercancel",D)}},D=function(e){m(i.touch.originalPos.left,"reset",0),i.controls.el.removeClass("disabled"),i.viewport.unbind("MSPointerCancel pointercancel",D),i.viewport.unbind("touchmove MSPointerMove pointermove",Q),i.viewport.unbind("touchend MSPointerUp pointerup",H),i.viewport.get(0).releasePointerCapture&&i.viewport.get(0).releasePointerCapture(i.pointerId)},Q=function(e){var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t],o=Math.abs(n[0].pageX-i.touch.start.x),r=Math.abs(n[0].pageY-i.touch.start.y),a=0,s=0;3*o>r&&i.settings.preventDefaultSwipeX?e.preventDefault():3*r>o&&i.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==i.settings.mode&&i.settings.oneToOneTouch&&("horizontal"===i.settings.mode?(s=n[0].pageX-i.touch.start.x,a=i.touch.originalPos.left+s):(s=n[0].pageY-i.touch.start.y,a=i.touch.originalPos.top+s),m(a,"reset",0))},H=function(e){i.viewport.unbind("touchmove MSPointerMove pointermove",Q),i.controls.el.removeClass("disabled");var t=e.originalEvent,n=void 0!==t.changedTouches?t.changedTouches:[t],r=0,a=0;i.touch.end.x=n[0].pageX,i.touch.end.y=n[0].pageY,"fade"===i.settings.mode?(a=Math.abs(i.touch.start.x-i.touch.end.x))>=i.settings.swipeThreshold&&(i.touch.start.x>i.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):("horizontal"===i.settings.mode?(a=i.touch.end.x-i.touch.start.x,r=i.touch.originalPos.left):(a=i.touch.end.y-i.touch.start.y,r=i.touch.originalPos.top),!i.settings.infiniteLoop&&(0===i.active.index&&a>0||i.active.last&&a<0)?m(r,"reset",200):Math.abs(a)>=i.settings.swipeThreshold?(a<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):m(r,"reset",200)),i.viewport.unbind("touchend MSPointerUp pointerup",H),i.viewport.get(0).releasePointerCapture&&i.viewport.get(0).releasePointerCapture(i.pointerId)},W=function(t){if(i.initialized)if(i.working)window.setTimeout(W,10);else{var n=e(window).width(),s=e(window).height();r===n&&a===s||(r=n,a=s,o.redrawSlider(),i.settings.onSliderResize.call(o,i.active.index))}},U=function(e){var t=p();i.settings.ariaHidden&&!i.settings.ticker&&(i.children.attr("aria-hidden","true"),i.children.slice(e,e+t).attr("aria-hidden","false"))},B=function(e){return e<0?i.settings.infiniteLoop?f()-1:i.active.index:e>=f()?i.settings.infiniteLoop?0:i.active.index:e};return o.goToSlide=function(t,n){var r,a,s,l,c=!0,d=0,u={left:0,top:0},h=null;if(i.oldIndex=i.active.index,i.active.index=B(t),!i.working&&i.active.index!==i.oldIndex){if(i.working=!0,void 0!==(c=i.settings.onSlideBefore.call(o,i.children.eq(i.active.index),i.oldIndex,i.active.index))&&!c)return i.active.index=i.oldIndex,void(i.working=!1);"next"===n?i.settings.onSlideNext.call(o,i.children.eq(i.active.index),i.oldIndex,i.active.index)||(c=!1):"prev"===n&&(i.settings.onSlidePrev.call(o,i.children.eq(i.active.index),i.oldIndex,i.active.index)||(c=!1)),i.active.last=i.active.index>=f()-1,(i.settings.pager||i.settings.pagerCustom)&&E(i.active.index),i.settings.controls&&M(),"fade"===i.settings.mode?(i.children.filter(":visible").fadeOut(i.settings.speed).css({zIndex:0}),i.children.eq(i.active.index).css("zIndex",i.settings.slideZIndex+1).fadeIn(i.settings.speed,function(){e(this).css("zIndex",i.settings.slideZIndex),A()})):(!i.settings.infiniteLoop&&i.carousel&&i.active.last?"horizontal"===i.settings.mode?(h=i.children.eq(i.children.length-1),u=h.position(),d=i.viewport.width()-h.outerWidth()):(r=i.children.length-i.settings.minSlides,u=i.children.eq(r).position()):i.carousel&&i.active.last&&"prev"===n?(a=1===i.settings.moveSlides?i.settings.maxSlides-g():(f()-1)*g()-(i.children.length-i.settings.maxSlides),h=o.children(".bx-clone").eq(a),u=h.position()):"next"===n&&0===i.active.index?(u=o.find("> .bx-clone").eq(i.settings.maxSlides).position(),i.active.last=!1):t>=0&&(l=t*parseInt(g()),u=i.children.eq(l).position()),void 0!==u?(s="horizontal"===i.settings.mode?-(u.left-d):-u.top,m(s,"slide",i.settings.speed)):i.working=!1),i.settings.ariaHidden&&U(i.active.index*g())}},o.goToNextSlide=function(){if(i.settings.infiniteLoop||!i.active.last){var e=parseInt(i.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if(i.settings.infiniteLoop||0!==i.active.index){var e=parseInt(i.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){i.interval||(i.interval=setInterval(function(){"next"===i.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},i.settings.pause),i.settings.autoControls&&!0!==e&&I("stop"))},o.stopAuto=function(e){i.interval&&(clearInterval(i.interval),i.interval=null,i.settings.autoControls&&!0!==e&&I("start"))},o.getCurrentSlide=function(){return i.active.index},o.getCurrentSlideElement=function(){return i.children.eq(i.active.index)},o.getSlideElement=function(e){return i.children.eq(e)},o.getSlideCount=function(){return i.children.length},o.isWorking=function(){return i.working},o.redrawSlider=function(){o.find("img[data-src]").lazy({bind:"event",beforeLoad:function(t){t.removeClass("lazy"),t.old_src=e(t[0]).attr("src")},afterLoad:function(t){t[0].naturalHeight<10&&(e(t[0]).attr("fallback")?e(t[0]).attr("src",e(t[0]).attr("fallback")):e(t[0]).attr("src",t.old_src),e(t[0]).parents(".carousel_item").addClass("no_image"))}}),i.children.add(o.find(".bx-clone")).outerWidth(h()),i.settings.ticker||_(),i.active.last&&(i.active.index=f()-1),i.active.index>=f()&&(i.active.last=!0),i.settings.pager&&!i.settings.pagerCustom&&(v(),E(i.active.index)),i.settings.ariaHidden&&U(i.active.index*g())},o.destroySlider=function(){i.initialized&&(i.initialized=!1,e(".bx-clone",this).remove(),i.children.each(function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),i.controls.el&&i.controls.el.remove(),i.controls.next&&i.controls.next.remove(),i.controls.prev&&i.controls.prev.remove(),i.pagerEl&&i.settings.controls&&!i.settings.pagerCustom&&i.pagerEl.remove(),e(".bx-caption",this).remove(),i.controls.autoEl&&i.controls.autoEl.remove(),clearInterval(i.interval),i.settings.responsive&&e(window).unbind("resize",W),i.settings.keyboardEnabled&&e(document).unbind("keydown",q),e(this).removeData("bxSlider"))},o.reloadSlider=function(t){void 0!==t&&(n=t),o.destroySlider(),s(),e(o).data("bxSlider",this)},s(),e(o).data("bxSlider",this),this}}}(jQuery),define("bxslider",["jquery"],function(){}),define("hero_block",["jquery","bxslider"],function(e){return{init:function(){function t(t){window.location.href.indexOf("/#/filter/")>-1||window.location.href.indexOf("/#/format/")>-1?e("#hero-container").slideUp(t):e("#hero-container").slideDown(t,function(){n.redrawSlider()})}hAdj=function(){e("#hero-container .bx-viewport").css("height",window.innerWidth/(window.innerWidth<=480?2.4:2.9)+"px")},window.addEventListener("resize",hAdj);var n=e("#hero-container ul").bxSlider({mode:"fade",onSliderLoad:hAdj});e(".hero-block").css({visibility:"visible"});var i=e("#hero-container .bx-pager-item").length;e("#hero-container .bx-controls-direction").width(20*i+40),1==i&&e("#hero-container .bx-controls").hide(),e(window).on("hashchange",function(){t(400)}),e(document).ready(function(){t(0)})}}}),define("filter_pathways",["jquery","card_helpers","address","deeplink"],function(e,t){function n(t){var n=e(".donate_button.desktop");t?n.removeClass("hidden"):n.addClass("hidden")}var i={enableThrottle:!0,throttle:600,bind:"event",beforeLoad:function(e){e.removeClass("lazy")},onError:function(t){e(t[0]).attr("data-fallback")&&e(t[0]).attr("src",e(t[0]).attr("data-fallback"))}},o=!!e(".pathway_columns").length,r=[];e("#pathway_terms span").each(function(){r.push(e(this).data("pathway-term"))});for(var a={},s=!0,l=0,c=r.length;l<c;l++)a[r[l]]=!1;var d=[],u={init:function(t){var n={trigger:".card_pathway_header a",close_id:"#back_to_all"};t=e.extend(n,t),e("#homepage_grid, #format_filters").on("click",".card_pathway_header a",function(t){t.preventDefault();var n=e(this),i=u.get_pathways(n);u.show_cards_by_term(n),u.load_row(i[0],i[1],!0),e(window).scrollTop(0),setTimeout(function(){u.load_pathways(e("#filtered_content #filtered_"+i[0]),i[0],100)},600)}),u.show_home(t),u.fix_on_scroll(),e(window).bind("scroll load touchmove",function(){h.show_current_link()}),e(window).bind("header_open",function(){u.remove_pinned_header()}),e(window).bind("header_close",function(){s=!0})},get_pathways:function(e){return[e.attr("param-type"),e.parents("div[child-slug]").attr("child-slug"),e.parent(".card_pathway_header").parent(".card_holder").attr("card-id")]},load_first_terms:function(t){var n=e('#homepage_grid .card_pathway_header a[param-type="'+t+'"]').eq(0);if(n.length>0){var i=u.get_pathways(n);u.load_row(i[0],i[1])}},load_pathways:function(t,n,i){if(!a[n]){var r={bc_pathway:n,columns:o.toString()};e.ajax({dataType:"json",url:"/wp-json/cms/v1/get_filtered_homepage_rows",data:r,success:function(t){a[n]=!0;var o;e.each(t,function(r,a){e.filter_pathways("show_term_nav",n,t),o=i*r+i,setTimeout(function(){u.load_row(n,a)},o)})},error:function(e){console.log(e)}})}},show_term_nav:function(t,n){e("#also_"+t).html(""),e.each(n,function(n,i){var o=e('<a class="sub_term_link"></a>');o.attr("href","#"+i.slug+"_section"),o.html(i.name),(n>9||e(window).width()<600)&&o.addClass("toggle_more").addClass("in_more"),e("#also_"+t).append(o)}),(n.length>9||e(window).width()<600)&&u.add_toggle_link(t)},add_toggle_link:function(t){var n=e('<div class="toggle_more_trigger contracted"><span class="expand">Browse All <span class="arrow">&#x25BE;</span></span><span class="contract">Show Less <span>&#x25B4;</span></span></div> ');e("#also_"+t).append(n),n.bind("click",function(){e(this).siblings("a.in_more").toggleClass("toggle_more"),e(this).toggleClass("expanded"),e(this).toggleClass("contracted")})},load_row:function(o,r,a){n(!1);if(a||(a=!1),"string"==typeof r?subterm_slug=r:void 0!==r&&(subterm_slug=r.slug),-1===jQuery.inArray(subterm_slug,d)){d.push(subterm_slug);var s={bc_pathway:o,bc_pathway_row:subterm_slug,_wpnonce:window.bc_Environment.nonce};e.ajax({dataType:"json",url:"/wp-json/cms/v1/get_filtered_row_cards",data:s,success:function(n){n=n.result,!0===a?e("#filtered_content #filtered_"+o).prepend(n):e("#filtered_content #filtered_"+o).append(n),t.trigger_added_cards_event(n,"homepage"),e("#filtered_rows").is(":visible")&&(e(window).unbind(".lazyLoad"),Modernizr.touch?e("#filtered_rows img.lazy").lazy(bc_lazy_load_options):e("#filtered_rows img.lazy").lazy(i)),setTimeout(function(){Modernizr.touch&&e("#filtered_rows").is(":visible")&&e("#filtered_rows img.lazy").lazy(i)},300),e("#filtered_content #filtered_"+o+" img.lazy").lazy(i),e("#also_"+o+" a").length==e("#filtered_content #filtered_"+o+" .homepage_row").length&&u.reorder_pathways(o)},error:function(e){console.log(e)}})}},reorder_pathways:function(t){e("#also_"+t+" a").each(function(n){
var i=e(this).attr("href").replace("#","").replace("_section",""),o=e("#filtered_"+t+' .homepage_row[subterm="'+i+'"]');n+=1,1!==n?o.insertAfter("#filtered_"+t+" .homepage_row:nth-child("+(n-1)+")"):o.prependTo("#filtered_"+t)})},show_cards_by_term:function(n,o,r){var o=n?u.get_pathways(n)[0]:o,r=n?u.get_pathways(n)[1]:r,s=n?u.get_pathways(n)[2]:null;if(u.show_load_indicator(o),e("#filtered_rows").show(),"?scroll=true"==window.location.search&&e(window).scrollTop(100),e(window).unbind(".lazyLoad"),e("#filtered_rows img.lazy").lazy(i),e("#heading_"+o).show(),a[o])if(-1!=jQuery.inArray(o,d))u.load_row(o,r),setTimeout(function(){u.show_cards_by_term(n,o,r,s)},200);else{e("#loading").hide();var l=setInterval(function(){-1!==window.location.hash.indexOf(r)?(u.move_first_link_to_top(r,o),s&&u.move_clicked_card_to_front(s,r),e("[subterm="+r+"]").length>0&&clearInterval(l)):clearInterval(l)},300)}else setTimeout(function(){u.show_cards_by_term(n,o,r,s)},300);t.twitter_touch_permalink()},load_pathway:function(t,n){-1!==e.inArray(t,r)&&u.show_cards_by_term(null,t,n)},show_home:function(t){e("#back_to_all, #back_to_all_mobile").bind("click",function(t){t.preventDefault(),n(!0),e("#filtered_rows").slideUp(300),e("#homepage_grid, .show_more_cards_wrapper").slideDown(600),e(window).unbind(".lazyLoad"),jQuery("#homepage_grid img").lazy(bc_lazy_load_options)})},show_load_indicator:function(t){e(".also_learn_link").hide(),e(".pathway_heading").hide(),e("#homepage_grid, #format_filters, .show_more_cards_wrapper").hide(),e("#loading").show(),e("#filtered_content div.filteredby-holder").not("#filtered_content #filtered_"+t).hide()},move_clicked_card_to_front:function(t,n){var i=e("#filtered_content .card_holder[card-id="+t+"]"),o=e("[subterm="+n+"] .carousel-wrapper .carousel-content");i.nextAll().prependTo(o),i.prependTo(o)},move_first_link_to_top:function(t,n){var o=e("[subterm="+t+"]");e("#filtered_"+n).prepend('<span class="clear"></span>'),e("#filtered_"+n).prepend(o);var r=e(".filtered_menu a[href=#"+t+"_section]");e("#also_"+n).prepend(r),r.hasClass("in_more")&&(r.removeClass("in_more"),e(".toggle_more_trigger").hasClass("contracted")&&e("#also_"+n+" a").eq(10).addClass("toggle_more"),e("#also_"+n+" a").eq(10).addClass("in_more")),e(window).width()>600&&r.removeClass("toggle_more"),e(window).unbind(".lazyLoad"),e("#filtered_rows img.lazy").lazy(i),h.show_current_link(),setTimeout(function(){e("#filtered_content #filtered_"+n).slideDown(300),e(window).trigger("scroll")},250),setTimeout(function(){e("#also_"+n).show()},200)},fix_on_scroll:function(){e(window).bind("scroll load touchstart",function(){if(e(window).width()>640){var t=e(".filtered_menu");e(window).scrollTop()>=105&&!t.hasClass("scrolled")?!0===s&&e(".filtered_menu").hide().addClass("scrolled").fadeIn(100):e(window).scrollTop()<=105&&t.hasClass("scrolled")&&e(".filtered_menu").removeClass("scrolled").fadeIn(100)}})},remove_pinned_header:function(){s=!1,e(".filtered_menu").removeClass("scrolled")},destroy:function(){e("*").unbind("click.filter_pathways"),e(window).unbind(".filter_pathways")}},h={show_current_link:function(){var t=e("div.filteredby-holder:visible .homepage_row.content_row");if(!(t.length<1)){var n=e(document).scrollTop()+e(".filtered_menu.scrolled").height(),i=t.eq(0),o=999999;t.each(function(t,r){var a=e(this),s=a.offset().top;Math.abs(s-n)<=o&&(i=a,o=Math.abs(s-n))}),e(".also_learn_link a").removeClass("current");var r=i.attr("subterm");e('.also_learn_link a[href="#'+r+'_section"]').addClass("current")}}};e.filter_pathways=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:u.init.apply(this,arguments)}}),define("column_loader",["jquery","card_helpers","creative_commons"],function(e,t,n){var i=!1,o=!1,r=!1,a=0,s=!1,l=".card_holder",c=!1,d=!1,u=[12,6,4],h=3,p=[!1,!1,!1],f={enableThrottle:!0,throttle:600,bind:"event",beforeLoad:function(e){e.removeClass("lazy")},onError:function(t){e(t[0]).attr("data-fallback")&&e(t[0]).attr("src",e(t[0]).attr("data-fallback"))}};e(window).on("single-pathway-cols-activated",function(){h=1}),e(window).on("double-pathway-cols-activated",function(){h=2}),e(window).on("triple-pathway-cols-activated",function(){h=3}),e(window).on("active-pathway-column-changed single-pathway-cols-activated double-pathway-cols-activated triple-pathway-cols-activated",function(){g.update_show_more_button()});var g={init:function(t){var i={total_cards:12};t=e.extend(i,t),s=!!e("body.tax-bc_channel, body.page-template-filtered-channel-cards-php").length,c=!!e("#homepage_grid.pathway_columns").length,d=e("#wpadminbar").length>0,s&&(l=".channel_card");var o=e(this);o.bind("click.load_columns",function(){o.html("loading..."),a++,g.get_cards(0,t,!0),e(".creative_commons_container").unbind("focus").unbind("blur"),n.init()}),e(window).bind("scroll.load_columns",function(){!1===r&&(r=!0,setTimeout(function(){g.preload(0,2)},1e3))})},preload_columns:function(n,i){if(n!==i&&!0!==o){o=!0;var r=g.get_loaded_column_length(),s={offset_1:r[0],offset_2:r[1],offset_3:r[2]};d&&(s.buster=(new Date).getTime()),jQuery.ajax({dataType:"json",url:"/wp-json/cms/v1/bc_load_column_card",data:s,success:function(r){if(o=!1,"finished"===r.status||r.toString().length<=10)return!1;n++,e("#column_1_preload_holder").append(r[0]),e("#column_2_preload_holder").append(r[1]),e("#column_3_preload_holder").append(r[2]),t.trigger_added_cards_event(r,"homepage"),a<2&&(1===n&&(p[0]=r[0].length>0,p[1]=r[1].length>0,p[2]=r[2].length>0),g.update_show_more_button(),g.preload_columns(n,i))}})}},preload:function(n,i){if(c)return void g.preload_columns(n,i);if(n!==i&&!0!==o){o=!0;var r=g.get_loaded_length(),l={offset:r,channel_card_type:e("#homepage_grid").data("card-type"),_wpnonce:window.bc_Environment.nonce};d&&(l.buster=(new Date).getTime()),s&&(l.channel=e("#homepage_grid").data("channel-slug")),jQuery.ajax({dataType:"json",url:"/wp-json/cms/v1/bc_load_card",data:l,success:function(r){if(r=r.result,o=!1,!r||"finished"===r||r.toString().length<=10)return!1;n++,e("#preload_holder").append(r),t.trigger_added_cards_event(r,"homepage"),Modernizr.mq("only all")?a<16&&(e("#show_more_cards").css("display","block"),g.preload(n,i)):a<8&&(e("#show_more_cards").css("display","block"),g.preload(n,i))}})}},get_loaded_column_length:function(){var t,n,i,o,r=[];return[".col-one",".col-two",".col-three"].forEach(function(a,s){o=e("#homepage_grid "+a),n=o.find(".homepage_card"),t=e("#column_"+(s+1)+"_preload_holder .card_holder"),i=0,e("#column_"+(s+1)+"_preload_holder").find(".offset_increment").each(function(){i+=parseInt(e(this).val(),10)}),r.push(i+n.length+t.length)}),r},get_loaded_length:function(){var t=e("#homepage_grid").find(".homepage_card,.content_card").not(".pinned_card").not(".is_pinned"),n=e("#preload_holder").find(l),i=e(".channel_offset_initial").length?parseInt(e(".channel_offset_initial").val()):0;return t=t.length+n.length+i,e("input.offset_increment").length>0&&e("input.offset_increment").each(function(){t+=parseInt(e(this).val())}),t+=e("span.error_message").length},get_column_cards:function(t){if(t||(t=[0,0,0]),!1===i){i=!0;for(var n,o=0,r=0;r<3;r++)n=e("#column_"+(r+1)+"_preload_holder .card_holder"),o+=n.length,p[r]=!1,n.length>0&&(i=!1,t[r]<u[r]?(g.append_one_card_from_column_preloader(r+1),t[r]++,g.get_column_cards(t)):a<2?(e("#show_more_cards").html("Show More"),p[r]=!0):e("#show_more_cards").hide());g.update_show_more_button(),0==o&&(i=!1,g.try_remote_column_get(t))}else window.setTimeout(function(){g.get_column_cards()},2e3)},get_cards:function(t,n,o){if(c)return void g.get_column_cards();if(!1===i)if(i=!0,n.total_cards>=t){var r=e("#preload_holder "+l);r.length>0?(g.append_one_card_from_preloader(),t++,i=!1,g.get_cards(t,n,o)):(i=!1,g.try_remote_get(t,n,o)),t==n.total_cards&&e("#show_more_cards").html("Show More")}else Modernizr.mq("only all")?a<16&&e("#show_more_cards").css("display","block"):a<8&&e("#show_more_cards").css("display","block"),i=!1;else window.setTimeout(function(){g.get_cards(t,n,o)},1e3)},append_one_card_from_preloader:function(){var n=e("#preload_holder").find(l).eq(0),i=n.attr("card-id");0===e("#homepage_grid "+l).filter('[card-id="'+i+'"]').length?(e("#homepage_grid").columnManager("append_item",n),e(window).unbind(".lazyLoad"),e("div#homepage_grid img.lazy").lazy(f),s&&e("#homepage_grid").append('<input class="offset_increment" type="hidden" value="1" /> '),e(".gpoll_field input, .gpoll_field select").removeAttr("disabled"),t.add_extra_validation_for_polls()):(n.remove(),e("#homepage_grid").append('<input class="offset_increment" type="hidden" value="1">'))},append_one_card_from_column_preloader:function(t){var n=e("#column_"+t+"_preload_holder").find(".card_holder").eq(0),i=[".col-one",".col-two",".col-three"],o=n.attr("card-id");0===e("#homepage_grid "+i[t]+" .card_holder").filter('[card-id="'+o+'"]').length?(n.appendTo(i[t-1]),e(window).unbind(".lazyLoad"),e("div#homepage_grid img.lazy").lazy(f),e("#homepage_grid").append('<input class="offset_increment" type="hidden" value="1" /> '),e(".gpoll_field input,  .gpoll_field select").removeAttr("disabled")):n.remove()},try_remote_get:function(n,i,r){if(!0!==o){o=!0,r||(r=0);var a=g.get_loaded_length(),c={offset:a,channel_card_type:e("#homepage_grid").data("card-type"),_wpnonce:window.bc_Environment.nonce};d&&(c.buster=(new Date).getTime()),s&&(c.channel=e("#homepage_grid").data("channel-slug")),jQuery.ajax({dataType:"json",url:"/wp-json/cms/v1/bc_load_card",data:c,success:function(a){if(a=a.result,o=!1,!a||"finished"===a||a.toString().length<=10)g.destroy(),e("#show_more_cards").hide();else{e("#preload_holder").append(a);var s=e("#preload_holder").find(l).eq(0);s.attr("card-id");g.get_cards(n,i,r),t.trigger_added_cards_event(a,"homepage")}}})}else setTimeout(function(){g.get_cards(n,i,r)},1e3)},try_remote_column_get:function(n){if(!0!==o){o=!0;var i=g.get_loaded_column_length(),r={offset_1:i[0],offset_2:i[1],offset_3:i[2]};d&&(r.buster=(new Date).getTime()),jQuery.ajax({dataType:"json",url:"/wp-json/cms/v1/bc_load_column_card",data:r,success:function(i){o=!1,"finished"===i.status||i.toString().length<=10?(g.destroy(),e("#show_more_cards").hide()):(e("#column_1_preload_holder").append(i[0]),e("#column_2_preload_holder").append(i[1]),e("#column_3_preload_holder").append(i[2]),g.get_column_cards(n),t.trigger_added_cards_event(i,"homepage"))}})}else setTimeout(function(){g.get_column_cards(n)},1e3)},get_relevant_column_numbers:function(){if(3===h)return[0,1,2];if(2===h){var t=0;return e(".col-three").hasClass("active-column")&&(t=2),[1,t]}if(1===h){var t=1;return e(".col-three").hasClass("active-column")?t=2:e(".col-one").hasClass("active-column")&&(t=0),[t]}},update_show_more_button:function(){for(var t=g.get_relevant_column_numbers(),n=0;n<t.length;n++)if(p[t[n]])return void e("#show_more_cards").css("display","block");e("#show_more_cards").hide()},destroy:function(){e("*").unbind("click.load_columns"),e(window).unbind(".load_columns")}};e.fn.load_columns=function(e){return g[e]?g[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:g.init.apply(this,arguments)}}),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),function(e){var t,n,i,o,r=".card_holder",a=!1,s={enableThrottle:!0,throttle:600,bind:"event",beforeLoad:function(e){e.removeClass("lazy")},onError:function(t){e(t[0]).attr("data-fallback")&&e(t[0]).attr("src",e(t[0]).attr("data-fallback"))}},l={init:function(o){o?(r=o.card_class||r,a=o.exclude||a):r=r,t=void 0;var s=e(this);l.register_grid(s);var c=l.get_style(s);void 0!==c&&(t=c.columns,i=c.column_class_selector,n=c.column_class),l.add_columns(s),e(window).resize(function(){l.recreate_columns(s)}),e(window).on("left_nav_toggle",function(){l.recreate_columns(s)})},register_grid:function(e){o=a?e.find(r).not(a):e.find(r),e.data("original_cards",o.clone())},get_style:function(e){if(!Modernizr.mq("only all"))return{columns:3,column_class_selector:".homepage_column.size-1of3",column_class:"homepage_column size-1of3"};grid_parent=e.parent(":hidden"),grid_parent.show();var t=window.getComputedStyle(document.getElementById(e.attr("id")),":before"),n=t.getPropertyValue("content").slice(1,-1);grid_parent.hide();var i=n.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/);return null!==i?{columns:i[1],column_class_selector:"."+i[2],column_class:i[2].replace("."," ")}:void 0},add_columns:function(i){for(var r,a=[],s=0;s++<t;)r=o.filter(":nth-child("+t+"n+"+s+")"),a.push(r);e.each(a,function(t,o){var r=e("<div/>",{class:n}).append(o);i.append(r)}),e("#homepage_grid").removeClass("homepage-grid-no-js")},remove_columns:function(e){},recreate_columns:function(a){a||(a=e(this));var c=l.get_style(a);void 0!==c&&c.column_class_selector!=i&&(a.data("original_cards").length||l.register_grid(a),a.empty(),a.append(a.data("original_cards")),t=c.columns,i=c.column_class_selector,n=c.column_class,o=a.children(r),l.add_columns(a),e(window).unbind(".lazyLoad"),e("div#homepage_grid img, div#format_cards img.lazy").lazy(s))},append_item:function(o){var a,s,c,d=e(this),u=0,h=0,p=l.get_style(d);if(void 0!==p){for(t=p.columns,i=p.column_class_selector,n=p.column_class,a=t;u<a&&(s=d.find(i).eq(u),c=s.children(r).length,!(h>c));u++){if(u===a-1){u=0;break}h=c}var f=d.find(i).eq(u);o.appendTo(f)}}};e.fn.columnManager=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:l.init.apply(this,arguments)}}(jQuery),define("column_manager",function(){}),define("filter_formats",["jquery","card_helpers","general_helpers","column_loader","column_manager"],function(e,t,n){var i,o={staff_bib:e(".staff_pick_label").text(),community_bib:"Community Choice",staff_list:e(".staff_list_label").text(),community_list:"Community List",staff_community:"Community Choice",blog:"Blog Post",resource:"Resource",event:"Event",website:"Website",online_resource:"Online Resource",catalog_search:e(".catalog_search_label").text(),article:"Article",video:"Video",gallery:"Gallery",archive:"Archival Collection",exhibit:"Exhibit",news:"News",poll:"Poll",custom_resource:e(".custom_resource_label").text()},r={fully_loaded:!1,fully_cloned:!1,preload_clones:0,filter_type:null,filter_title:"",next_column:{bib:0,list:0,blog:0,resource:0,event:0,website:0,online_resource:0,catalog_search:0,article:0,video:0,gallery:0,archive:0,exhibit:0,news:0,poll:0,custom_resource:0}},a={enableThrottle:!0,throttle:600,bind:"event",beforeLoad:function(e){e.removeClass("lazy")},onError:function(t){e(t[0]).attr("data-fallback")&&e(t[0]).attr("src",e(t[0]).attr("data-fallback"))}},s={init:function(t){var n=e(this);e("#back_to_all_formats").bind("click",function(t){t.preventDefault(),s.back_to_all(),e(window).unbind(".lazyLoad"),jQuery("div#homepage_grid img, div#format_cards img.lazy").lazy(a)}),n.on("click.filter_formats",".content_type_flag_home",function(t){t.preventDefault(),e("#format_cards").columnManager({card_class:".channel_card, .card_holder"});var n=e(this);s.set_state_by_click(n),s.show_format_grid(),s.show_cards_by_format(n.parents("[card-type]")),e("html, body").animate({scrollTop:0},100)})},show_format_grid:function(){e("#format_filters .card_holder").hide(),e("#filtered_rows").hide(),e("#format_filters").slideDown(),e(".format_heading").html(r.filter_title).show(),e("#homepage_grid, .show_more_cards_wrapper").slideUp()},show_cards_by_format:function(t){if(e("#format_cards .card_holder").filter('[card-type="'+r.filter_type+'"]').show(),i=e("#homepage_grid, #preload_holder, #column_1_preload_holder, #column_2_preload_holder, #column_3_preload_holder").find(".card_holder").filter('[card-type="'+r.filter_type+'"]'),i=i.clone(),i.each(function(t){var i=e(this).attr("card-id");0==e("#format_cards .card_holder").filter('[card-id="'+i+'"]').length&&(e("#format_cards").columnManager("append_item",e(this)),e(this).find(".interactions_box").attr("class","interactions_box share-buttons").html(""),n.add_share_button(share_home_config))}),e("#format_cards").is(":visible")&&(e(window).unbind(".lazyLoad"),setTimeout(function(){e("#format_cards").is(":visible")&&e("#format_cards img.lazy").lazy(a)},200)),t){var o=t.attr("card-id");e("#format_cards .homepage_column").eq(0).prepend(e("#format_cards").find(e('.card_holder[card-id="'+o+'"]')))}e("#loading").hide(),e("#format_cards .st_twitter").html("").removeAttr("st_processed"),e("#format_cards .st_facebook").html("").removeAttr("st_processed"),e(document).trigger("cards_added"),0==r.fully_loaded&&s.check_if_enough_cards_are_loaded(i)},set_state_by_click:function(e){var t=e.attr("param-type");s.set_state(t)},set_state:function(e){r.filter_type=e,r.filter_title=o[e]},get_states:function(e){return r},back_to_all:function(){e("#format_filters .card_holder").hide(),e("#format_filters").slideUp(),e("#homepage_grid, .show_more_cards_wrapper").slideDown()},check_if_enough_cards_are_loaded:function(t){var n,i=e("#homepage_grid, #preload_holder, #column_1_preload_holder, #column_2_preload_holder, #column_3_preload_holder").find(".card_holder").length;n=-1==window.navigator.userAgent.indexOf("MSIE")&&-1==window.navigator.userAgent.indexOf("rv:11.0")?120:40,(i<n||t.length<10)&&s.add_to_preloader()},add_to_preloader:function(){if(e(".pathway_columns").length>0)return void s.add_to_column_preloader();var n=e("#homepage_grid, #preload_holder").find(".card_holder").not(".pinned_card").length,i={offset:n};jQuery.ajax({dataType:"json",url:"/wp-json/cms/v1/bc_load_5_cards",data:i,success:function(n){n=n.result,n&&"finished"!=n&&n.toString().length>10?(e("#preload_holder").append(n),t.trigger_added_cards_event(n,"homepage"),s.show_cards_by_format()):r.fully_loaded=!0}})},add_to_column_preloader:function(){var n=e.fn.load_columns("get_loaded_column_length"),i={offset_1:n[0],offset_2:n[1],offset_3:n[2]};jQuery.ajax({url:"/wp-json/cms/v1/bc_load_5_column_cards",data:i,dataType:"json",success:function(n){n.toString().length>10&&"finished"!==n.status?(e("#column_1_preload_holder").append(n[0]),e("#column_2_preload_holder").append(n[1]),e("#column_3_preload_holder").append(n[2]),t.trigger_added_cards_event(n,"homepage"),s.show_cards_by_format()):r.fully_loaded=!0}})},destroy:function(){e("*").unbind("click.filter_formats"),e(window).unbind(".filter_formats")}};e.filter_formats=function(e){if(s[e])return s[e].apply(this,Array.prototype.slice.call(arguments,1))},e.fn.filter_formats=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:s.init.apply(this,arguments)}}),define("deeplink",["jquery","general_helpers","filter_pathways","filter_formats","address"],function(e,t){function n(t){return e("div[card-id="+t+"]").attr("child-slug")}function i(t,n,i){i&&(e.filter_pathways("load_row",t,n),e.filter_pathways("load_pathways",e("#filtered_content #filtered_"+t),t)),e.filter_pathways("load_pathway",t,n)}function o(t){e.filter_formats("set_state",t),e.filter_formats("show_format_grid"),e.filter_formats("show_cards_by_format"),e("html, body").animate({scrollTop:0},100)}function r(){e("#filtered_rows").slideUp(300),e("#homepage_grid, .show_more_cards_wrapper").slideDown(600),e("#homepage_grid, #filtered_content").filter_formats("back_to_all"),e("#loading").hide()}function a(t,a){var s,l=t;if(a&&e("#loading").show(),s=/\/format\/(\w+)\/?$/.exec(l))o(s[1]);else if(s=/\/filter\/(\w+)(?:#(card-\d+))?\/?$/.exec(l)){var c=s[2]&&n(s[2])||e("a[param-type="+s[1]+"]").first().parents("div[child-slug]").attr("child-slug");i(s[1],c,a)}else(s=/\/filter\/([\w\d-]+)\/([\w\d-]+)\/?$/.exec(l))?i(s[1],s[2],a):r()}e.address.externalChange(function(e){e&&e.value&&a(e.value,!1)}),e(document).ready(function(){t.isHomePage()||a(e.address.path(),!0),e("#filtered_content").on("click",".pathway-permalink",function(t){t.preventDefault(),e.address.value(e(this).attr("href").replace(/^#/,"")),location.reload()}),e("#page").on("click",".content_type_flag_home",function(t){e.address.value("format/"+e(this).attr("param-type"))}),e("#page").on("click",".card_pathway_header a",function(t){var n=e(this).parents("div[child-slug]").attr("child-slug");e.address.value("filter/"+e(this).attr("param-type")+"/"+n)}),e("#back_to_all_formats, #back_to_all, #back_to_all_mobile").click(function(){e.address.value("home")})})}),require(["jquery","modernizr","card_helpers","general_helpers","domReady","hero_block","lazy","deeplink","column_manager"],function(e,t,n,i,o,r){n.toggle_poll_popup();var a={enableThrottle:!0,throttle:600,bind:"event",effect:"fadeIn",effectTime:"100",beforeLoad:function(t){t.removeClass("lazy"),t.old_src=e(t[0]).attr("src")},afterLoad:function(t){t[0].naturalHeight<10&&e(t[0]).attr("src",t.old_src)},onError:function(t){e(t[0]).attr("data-fallback")&&e(t[0]).attr("data-fallback").length>0&&e(t[0]).attr("src",e(t[0]).attr("data-fallback"))}};o(function(){e("#hero-container").length&&r.init(),e("#homepage_grid").length&&(e(".pathway_columns").length||e("#homepage_grid").columnManager({card_class:".channel_card, .card_holder"}),e("#format_cards").length&&e("#format_cards").columnManager({card_class:".channel_card, .card_holder"})),e("#homepage_grid img, .container img[data-src]").lazy(a),e("#homepage_grid").removeClass("channels-no-js")}),n.add_extra_validation_for_polls(),e(window).bind("beforeunload",function(){}),o(function(){t.touch&&navigator.userAgent.match(/iPhone/i)}),i.add_share_button(share_home_config),e(document).on("cards_added",function(e,t){"homepage"==t&&"undefined"!=typeof Share&&i.add_share_button(share_home_config)}),t.touch&&e(window).on("cards_added",function(){e(".homepage_row .carousel-wrapper").each(function(){var t=e(this);t.find(".card_holder").length>1&&(t.find(".carousel-prev, .carousel-next").hide(),t.addClass("mobile-swipe"))})}),n.twitter_touch_permalink()}),define("inits/home",function(){}),define("scroll_helper",["jquery"],function(e){function t(t){var n=e("#bccms_masthead"),i=45,o=e(t),r=setInterval(function(){if(e(".filtered_menu.scrolled").length>0&&(i=i+e(".filtered_menu").height()+20),n.hasClass("fixed")||e("body").hasClass("common_header")){var a=e(".top_bar").outerHeight(!0)||n.outerHeight(!0);if(0===o.length)var s=setInterval(function(){var o=e(t);if(1===o.length){var r=o.offset().top-a-i;e("body, html").animate({scrollTop:r},400,function(){var t=e(".top_bar").outerHeight(!0)||n.outerHeight(!0);a!==t&&e("body, html").scrollTop(r+a-t)}),clearInterval(s)}},200);else if(o.offset()){var l=o.offset().top-a-i;e("body, html").animate({scrollTop:l},400,function(){var t=e(".top_bar").outerHeight(!0)||n.outerHeight(!0);a!==t&&e("body, html").scrollTop(l+a-t)})}clearInterval(r)}},100)}return{scroll_to_anchor:function(n){n.preventDefault();e(document).scrollTop()<100&&e("body, html").scrollTop(Math.max(106,e(this).scrollTop())),t(e(this).attr("href"))},scroll_to_anchor_directly:function(n){e(document).scrollTop()<100&&e("body, html").scrollTop(Math.max(106,e(".abc-list-letter").scrollTop())),t(n)}}}),define("browse_carousel",["jquery","general_helpers"],function(e,t){var n=!1,i={init:function(t){var n=e(this),o={content_box_class:".grid_2",event:"click",variable_width_cards:!1,ugc:!1,carousel:!1};t=e.extend(o,t),n.on(t.event,".carousel-next, .ch-carousel-arrow-right",function(n){n.preventDefault();var o=t.ugc?e(this).parent(".ugc_carousel"):e(this).parents(".carousel-wrapper");"carousel_child"==t.carousel?o=e(this).parents(".carousel-wrapper"):t.carousel&&(o=t.carousel),i.next(o,t)}),n.on(t.event,".carousel-prev, .ch-carousel-arrow-left",function(n){n.preventDefault();var o=t.ugc?e(this).parents(".ugc_carousel"):e(this).parents(".carousel-wrapper");"carousel_child"==t.carousel?o=e(this).parents(".carousel-wrapper"):t.carousel&&(o=t.carousel),i.prev(o,t)}),e(".browse_card img").lazy(bc_lazy_load_options)},next:function(i,o){if(!n){n=!0;var r=0,a=i.find(o.content_box_class),s=this.getPageSize(i,o),l=a.slice(0,s),c=a.outerWidth(!0);o.variable_width_cards&&l.each(function(){r+=e(this).outerWidth(!0)});var d=l.clone();i.find(o.ugc?".comment_items":".carousel-content").prepend(d),i.find(o.ugc?".comment_items":".carousel-content").append(l),a.find(".interactions_box.share-buttons").each(function(){e(this).attr("class","interactions_box share-buttons")}),a=i.find(o.content_box_class),a.find("img").lazy(bc_lazy_load_options),a.animate({left:o.variable_width_cards?-r:-c*s},function(){d.detach(),a.removeAttr("style"),n=!1,t.add_share_button(share_page_config)})}},prev:function(i,o){if(!n){n=!0;var r=i.find(o.content_box_class),a=this.getPageSize(i,o),s=i.find(o.content_box_class).slice(-a),l=r.outerWidth(!0),c=0;o.variable_width_cards&&s.each(function(){c+=e(this).outerWidth(!0)}),i.find(o.ugc?".comment_items":".carousel-content").prepend(s),r.find(".interactions_box.share-buttons").each(function(){e(this).attr("class","interactions_box share-buttons")}),r=i.find(o.content_box_class),r.css("left",o.variable_width_cards?-c:-l*a),r.animate({left:0},function(){r.removeAttr("style"),n=!1,t.add_share_button(share_page_config)})}},teardown:function(){e("*").off(".browse_carousel")},getPageSize:function(t,n){var i;if(n.variable_width_cards){var o,r=0,a=t.width(),s=0;t.find(n.content_box_class).each(function(){if(o=e(this).outerWidth(!0),!(r+o<a))return!1;r+=o,s+=1}),i=s}else i=Math.floor(t.width()/t.find(n.content_box_class).outerWidth(!0));return isFinite(i)&&!isNaN(i)&&i>0?i:1}};e.fn.browse_carousel=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:i.init.apply(this,arguments)},e.live_browse_carousel=function(t,n){e(document).on("contentchange.browse_carousel",e(t),function(){i.teardown(),n.event="click.browse_carousel",e(t).browse_carousel(n),Modernizr.touch&&e(".homepage_row .carousel-content").each(function(){var t=e(this),n=t.find(".card_holder").length;t.css("width",295*n)})})};var o=window.navigator.userAgent;(o.match(/iPad/i)||o.match(/iPhone/i))&&e(document).on("contentchange",function(){e(".browse_carousel").addClass("mobile-swipe"),e(".browse_carousel .carousel-content").each(function(){var t=e(this),n=t.find(".browse_card").length;t.css("width",305*n)})})}),require(["jquery","modernizr","scroll_helper","filter_pathways","column_loader","browse_carousel"],function(e,t,n){e("#filtered_rows .also_learn_link").on("click",".sub_term_link:not(:eq(0))",n.scroll_to_anchor),e("#filtered_rows .also_learn_link").on("click",".sub_term_link:eq(0)",function(t){t.preventDefault(),e("body, html").animate({scrollTop:0},400)}),e.filter_pathways&&e("#homepage_grid").length>0&&(e.filter_pathways(),e("#homepage_grid, #filtered_content").filter_formats(),e("#show_more_cards").load_columns(),e(".homepage_card .interactions_box").show()),e.live_browse_carousel(".homepage_row",{content_box_class:".card_holder",awkward_carousel_rows_hack:!0,carousel:"carousel_child"})}),define("inits/pathway",function(){}),define("app/pathway_columns",["jquery","domReady"],function(e,t){var n=e(window).width();t(function(){e(".column-headings").length>0&&(n<=768?(e(".col-three").detach().insertBefore(".col-one"),e(".active-column-header").removeClass("active-column-header"),e(".active-column").removeClass("active-column"),n<=480?(e(".col-two-header").addClass("active-column-header"),e(".col-two").addClass("active-column"),e(window).trigger("single-pathway-cols-activated")):(e(".col-one-header").addClass("active-column-header"),e(".col-one").addClass("active-column"),e(window).trigger("double-pathway-cols-activated"))):(e(".col-three").detach().insertAfter(".col-two"),e(".two-collapsed-headings .col-one-header").removeClass("active-column-header"),e(".col-one").removeClass("active-column"),e(".col-one, .col-two, .col-three").removeAttr("style"),e(window).trigger("triple-pathway-cols-activated")),e(".column-headings span").click(function(){var t=e(this),n=e("."+t.data("column"));e("."+e(".active-column-header").data("column"));n.is(":hidden")&&(e(".active-column").hide().removeClass("active-column"),e(".active-column-header").removeClass("active-column-header"),t.addClass("active-column-header"),n.addClass("active-column").lazy(bc_lazy_load_options),n.find(".lazy").lazy(bc_lazy_load_options),e(window).trigger("active-pathway-column-changed"))}),e(window).on("resize",function(t){if("resize"==t.type){if(e(window).width()==n)return;n=e(window).width()}n<=960?(e(".col-three").detach().insertBefore(".col-one"),e(".active-column-header").removeClass("active-column-header"),e(".active-column").removeClass("active-column"),n<=480?(e(".col-two-header").addClass("active-column-header"),e(".col-two").addClass("active-column"),e(window).trigger("single-pathway-cols-activated")):(e(".col-one-header").addClass("active-column-header"),e(".col-one").addClass("active-column"),e(window).trigger("double-pathway-cols-activated"))):(e(".col-three").detach().insertAfter(".col-two"),e(".two-collapsed-headings .col-one-header").removeClass("active-column-header"),e(".col-one").removeClass("active-column"),e(".col-one, .col-two, .col-three").removeAttr("style"),e(window).trigger("triple-pathway-cols-activated"))}))})});